(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29fe7e28","user"],{6231:function(e,t,n){},"6e0f":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inviteFromLink",staticStyle:{height:"100%"}},[n("div",{staticClass:"content"},[n("a-spin",{attrs:{spinning:e.loading}},[e.inviteLink?n("a-card",{attrs:{title:"来自 "+e.inviteLink.member.name+" 的邀请"}},[n("div",{staticClass:"header"},[n("span",[e._v("\n                    "+e._s(e.inviteLink.member.name)+" 邀请你\n                    "),"project"==e.inviteLink.invite_type?n("span",[e._v("加入项目「"+e._s(e.inviteLink.sourceDetail.name)+"」")]):e._e(),"organization"==e.inviteLink.invite_type?n("span",[e._v("加入组织「"+e._s(e.inviteLink.sourceDetail.name)+"」")]):e._e()])]),n("div",{staticClass:"member-info"},[n("div",{staticClass:"avatar"},[n("a-avatar",{attrs:{size:"large",src:e.inviteLink.member.avatar}})],1),n("div",{staticClass:"info"},[n("p",[e._v(e._s(e.inviteLink.member.name))]),n("p",{staticClass:"muted"},[e._v(e._s(e.inviteLink.member.email))])])]),n("a-button",{staticClass:"middle-btn",attrs:{type:"primary",block:"",size:"large"},on:{click:e.acceptInvite}},["project"==e.inviteLink.invite_type?n("span",[e._v("加入项目")]):e._e(),"organization"==e.inviteLink.invite_type?n("span",[e._v("加入组织")]):e._e()])],1):e._e()],1)],1)])},r=[],a=(n("a481"),n("cebc")),o=(n("cadf"),n("551c"),n("097d"),n("2f62")),c=n("2f14"),s=n("82f8"),u=n("9f5d"),v=n("c24f"),p={data:function(){return{loading:!1,inviteLink:void 0}},computed:Object(a["a"])({},Object(o["c"])({userInfo:function(e){return e.userInfo}})),created:function(){this.getInviteInfo()},methods:{getInviteInfo:function(){var e=this;this.loading=!0,Object(s["d"])(this.$route.params.code).then(function(t){e.inviteLink=t.data,e.loading=!1})},acceptInvite:function(){var e=this;"project"==this.inviteLink.invite_type?Object(u["a"])(this.$route.params.code).then(function(t){var n=Object(c["a"])(t);if(!n)return!1;e.$router.replace({name:"task",params:{code:e.inviteLink.source_code}})}):"organization"==this.inviteLink.invite_type&&Object(v["b"])(this.$route.params.code).then(function(t){var n=Object(c["a"])(t);if(!n)return!1;e.$notice({title:"你已成功加入组织",msg:"重新登录后可选择进入该组织"},"notice","success"),e.$router.replace("/")})}}},d=p,f=(n("8901"),n("2877")),m=Object(f["a"])(d,i,r,!1,null,null,null);m.options.__file="inviteFromLink.vue";t["default"]=m.exports},"82f8":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return c});var i=n("22b6");function r(e){return i["a"].post("index/index/install",e)}function a(){return i["a"].post("index/index/checkInstall")}function o(e){return i["a"].post("project/invite_link/_read",{inviteCode:e})}function c(e){return i["a"].post("project/invite_link/save",e)}},8901:function(e,t,n){"use strict";var i=n("6231"),r=n.n(i);r.a},"9f5d":function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return s});var i=n("22b6");function r(e,t){return i["a"].post("project/project_member/searchInviteMember",{keyword:e,projectCode:t})}function a(e,t){return i["a"].post("project/project_member/inviteMember",{memberCode:e,projectCode:t})}function o(e){return i["a"].post("project/project_member/_joinByInviteLink",{inviteCode:e})}function c(e,t){return i["a"].post("project/project_member/removeMember",{memberCode:e,projectCode:t})}function s(e){return i["a"].post("project/project_member/index",e)}}}]);