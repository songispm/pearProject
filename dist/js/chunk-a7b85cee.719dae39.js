(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a7b85cee"],{"1a0b":function(t,e,i){(function(e,i){t.exports=i()})(0,function(){"use strict";var t=function(){"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var s=arguments[n];if(null!=s)for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){var e=(this.document||this.ownerDocument).querySelectorAll(t),i=e.length;while(--i>=0&&e.item(i)!==this);return i>-1})};function e(t){var e=void 0;return e=document.createElement("div"),e.innerHTML=t,e.children}function i(t){return!!t&&(t instanceof HTMLCollection||t instanceof NodeList)}function n(t){var e=document.querySelectorAll(t);return i(e)?e:[e]}var s=[];function a(t){if(t){if(t instanceof a)return t;this.selector=t;var s=t.nodeType,o=[];9===s?o=[t]:1===s?o=[t]:i(t)||t instanceof Array?o=t:"string"===typeof t&&(t=t.replace("/\n/mg","").trim(),o=0===t.indexOf("<")?e(t):n(t));var r=o.length;if(!r)return this;var c=void 0;for(c=0;c<r;c++)this[c]=o[c];this.length=r}}function o(t){return new a(t)}a.prototype={constructor:a,forEach:function(t){var e=void 0;for(e=0;e<this.length;e++){var i=this[e],n=t.call(i,i,e);if(!1===n)break}return this},clone:function(t){var e=[];return this.forEach(function(i){e.push(i.cloneNode(!!t))}),o(e)},get:function(t){var e=this.length;return t>=e&&(t%=e),o(this[t])},first:function(){return this.get(0)},last:function(){var t=this.length;return this.get(t-1)},on:function(t,e,i){i||(i=e,e=null);var n=[];return n=t.split(/\s+/),this.forEach(function(t){n.forEach(function(n){n&&(s.push({elem:t,type:n,fn:i}),e?t.addEventListener(n,function(t){var n=t.target;n.matches(e)&&i.call(n,t)}):t.addEventListener(n,i))})})},off:function(t,e){return this.forEach(function(i){i.removeEventListener(t,e)})},attr:function(t,e){return null==e?this[0].getAttribute(t):this.forEach(function(i){i.setAttribute(t,e)})},addClass:function(t){return t?this.forEach(function(e){var i=void 0;e.className?(i=e.className.split(/\s/),i=i.filter(function(t){return!!t.trim()}),i.indexOf(t)<0&&i.push(t),e.className=i.join(" ")):e.className=t}):this},removeClass:function(t){return t?this.forEach(function(e){var i=void 0;e.className&&(i=e.className.split(/\s/),i=i.filter(function(e){return e=e.trim(),!(!e||e===t)}),e.className=i.join(" "))}):this},css:function(t,e){var i=t+":"+e+";";return this.forEach(function(e){var n=(e.getAttribute("style")||"").trim(),s=void 0,a=[];n?(s=n.split(";"),s.forEach(function(t){var e=t.split(":").map(function(t){return t.trim()});2===e.length&&a.push(e[0]+":"+e[1])}),a=a.map(function(e){return 0===e.indexOf(t)?i:e}),a.indexOf(i)<0&&a.push(i),e.setAttribute("style",a.join("; "))):e.setAttribute("style",i)})},show:function(){return this.css("display","block")},hide:function(){return this.css("display","none")},children:function(){var t=this[0];return t?o(t.children):null},childNodes:function(){var t=this[0];return t?o(t.childNodes):null},append:function(t){return this.forEach(function(e){t.forEach(function(t){e.appendChild(t)})})},remove:function(){return this.forEach(function(t){if(t.remove)t.remove();else{var e=t.parentElement;e&&e.removeChild(t)}})},isContain:function(t){var e=this[0],i=t[0];return e.contains(i)},getSizeData:function(){var t=this[0];return t.getBoundingClientRect()},getNodeName:function(){var t=this[0];return t.nodeName},find:function(t){var e=this[0];return o(e.querySelectorAll(t))},text:function(t){if(t)return this.forEach(function(e){e.innerHTML=t});var e=this[0];return e.innerHTML.replace(/<.*?>/g,function(){return""})},html:function(t){var e=this[0];return null==t?e.innerHTML:(e.innerHTML=t,this)},val:function(){var t=this[0];return t.value.trim()},focus:function(){return this.forEach(function(t){t.focus()})},parent:function(){var t=this[0];return o(t.parentElement)},parentUntil:function(t,e){var i=document.querySelectorAll(t),n=i.length;if(!n)return null;var s=e||this[0];if("BODY"===s.nodeName)return null;var a=s.parentElement,r=void 0;for(r=0;r<n;r++)if(a===i[r])return o(a);return this.parentUntil(t,a)},equal:function(t){return 1===t.nodeType?this[0]===t:this[0]===t[0]},insertBefore:function(t){var e=o(t),i=e[0];return i?this.forEach(function(t){var e=i.parentNode;e.insertBefore(t,i)}):this},insertAfter:function(t){var e=o(t),i=e[0];return i?this.forEach(function(t){var e=i.parentNode;e.lastChild===i?e.appendChild(t):e.insertBefore(t,i.nextSibling)}):this}},o.offAll=function(){s.forEach(function(t){var e=t.elem,i=t.type,n=t.fn;e.removeEventListener(i,n)})};var r={menus:["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","video","code","undo","redo"],fontNames:["ÂÆã‰Ωì","ÂæÆËΩØÈõÖÈªë","Arial","Tahoma","Verdana"],colors:["#000000","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b","#ffffff"],emotions:[{title:"ÈªòËÆ§",type:"image",content:[{alt:"[ÂùèÁ¨ë]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/50/pcmoren_huaixiao_org.png"},{alt:"[ËàîÂ±è]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/40/pcmoren_tian_org.png"},{alt:"[Ê±°]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/3c/pcmoren_wu_org.png"}]},{title:"Êñ∞Êµ™",type:"image",content:[{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/7a/shenshou_thumb.gif",alt:"[ËçâÊ≥•È©¨]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/60/horse2_thumb.gif",alt:"[Á•ûÈ©¨]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/bc/fuyun_thumb.gif",alt:"[ÊµÆ‰∫ë]"}]},{title:"emoji",type:"emoji",content:"üòÄ üòÉ üòÑ üòÅ üòÜ üòÖ üòÇ üòä üòá üôÇ üôÉ üòâ üòì üò™ üò¥ üôÑ ü§î üò¨ ü§ê".split(/\s/)}],zIndex:1e4,debug:!1,linkCheck:function(t,e){return!0},linkImgCheck:function(t){return!0},pasteFilterStyle:!0,pasteIgnoreImg:!1,pasteTextHandle:function(t){return t},showLinkImg:!0,linkImgCallback:function(t){},uploadImgMaxSize:5242880,uploadImgShowBase64:!1,uploadFileName:"",uploadImgParams:{},uploadImgHeaders:{},withCredentials:!1,uploadImgTimeout:1e4,uploadImgHooks:{before:function(t,e,i){},success:function(t,e,i){},fail:function(t,e,i){},error:function(t,e){},timeout:function(t,e){}},qiniu:!1},c={_ua:navigator.userAgent,isWebkit:function(){var t=/webkit/i;return t.test(this._ua)},isIE:function(){return"ActiveXObject"in window}};function l(t,e){var i=void 0,n=void 0;for(i in t)if(t.hasOwnProperty(i)&&(n=e.call(t,i,t[i]),!1===n))break}function d(t,e){var i=void 0,n=void 0,s=void 0,a=t.length||0;for(i=0;i<a;i++)if(n=t[i],s=e.call(t,n,i),!1===s)break}function A(t){return t+Math.random().toString().slice(2)}function u(t){return null==t?"":t.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/(\r\n|\r|\n)/g,"<br/>")}function h(t){return"function"===typeof t}function m(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-bold"></i>\n        </div>'),this.type="click",this._active=!1}m.prototype={constructor:m,onClick:function(t){var e=this.editor,i=e.selection.isSelectionEmpty();i&&e.selection.createEmptyRange(),e.cmd.do("bold"),i&&(e.selection.collapseRange(),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e.cmd.queryCommandState("bold")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}};var p=function(t,e){var i=t.config.langArgs||[],n=e;return i.forEach(function(t){var e=t.reg,i=t.val;e.test(n)&&(n=n.replace(e,function(){return i}))}),n},f=function(){};function v(t,e){var i=this,n=t.editor;this.menu=t,this.opt=e;var s=o('<div class="w-e-droplist"></div>'),a=e.$title,r=void 0;a&&(r=a.html(),r=p(n,r),a.html(r),a.addClass("w-e-dp-title"),s.append(a));var c=e.list||[],l=e.type||"list",d=e.onClick||f,A=o('<ul class="'+("list"===l?"w-e-list":"w-e-block")+'"></ul>');s.append(A),c.forEach(function(t){var e=t.$elem,s=e.html();s=p(n,s),e.html(s);var a=t.value,r=o('<li class="w-e-item"></li>');e&&(r.append(e),A.append(r),r.on("click",function(t){d(a),i.hideTimeoutId=setTimeout(function(){i.hide()},0)}))}),s.on("mouseleave",function(t){i.hideTimeoutId=setTimeout(function(){i.hide()},0)}),this.$container=s,this._rendered=!1,this._show=!1}function g(t){var e=this;this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-header"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new v(this,{width:100,$title:o("<p>ËÆæÁΩÆÊ†áÈ¢ò</p>"),type:"list",list:[{$elem:o("<h1>H1</h1>"),value:"<h1>"},{$elem:o("<h2>H2</h2>"),value:"<h2>"},{$elem:o("<h3>H3</h3>"),value:"<h3>"},{$elem:o("<h4>H4</h4>"),value:"<h4>"},{$elem:o("<h5>H5</h5>"),value:"<h5>"},{$elem:o("<p>Ê≠£Êñá</p>"),value:"<p>"}],onClick:function(t){e._command(t)}})}function w(t){var e=this;this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-text-heigh"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new v(this,{width:160,$title:o("<p>Â≠óÂè∑</p>"),type:"list",list:[{$elem:o('<span style="font-size: x-small;">x-small</span>'),value:"1"},{$elem:o('<span style="font-size: small;">small</span>'),value:"2"},{$elem:o("<span>normal</span>"),value:"3"},{$elem:o('<span style="font-size: large;">large</span>'),value:"4"},{$elem:o('<span style="font-size: x-large;">x-large</span>'),value:"5"},{$elem:o('<span style="font-size: xx-large;">xx-large</span>'),value:"6"}],onClick:function(t){e._command(t)}})}function k(t){var e=this;this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-font"></i></div>'),this.type="droplist",this._active=!1;var i=t.config,n=i.fontNames||[];this.droplist=new v(this,{width:100,$title:o("<p>Â≠ó‰Ωì</p>"),type:"list",list:n.map(function(t){return{$elem:o('<span style="font-family: '+t+';">'+t+"</span>"),value:t}}),onClick:function(t){e._command(t)}})}v.prototype={constructor:v,show:function(){this.hideTimeoutId&&clearTimeout(this.hideTimeoutId);var t=this.menu,e=t.$elem,i=this.$container;if(!this._show){if(this._rendered)i.show();else{var n=e.getSizeData().height||0,s=this.opt.width||100;i.css("margin-top",n+"px").css("width",s+"px"),e.append(i),this._rendered=!0}this._show=!0}},hide:function(){this.showTimeoutId&&clearTimeout(this.showTimeoutId);var t=this.$container;this._show&&(t.hide(),this._show=!1)}},g.prototype={constructor:g,_command:function(t){var e=this.editor,i=e.selection.getSelectionContainerElem();e.$textElem.equal(i)||e.cmd.do("formatBlock",t)},tryChangeActive:function(t){var e=this.editor,i=this.$elem,n=/^h/i,s=e.cmd.queryCommandValue("formatBlock");n.test(s)?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},w.prototype={constructor:w,_command:function(t){var e=this.editor;e.cmd.do("fontSize",t)}},k.prototype={constructor:k,_command:function(t){var e=this.editor;e.cmd.do("fontName",t)}};var C=function(){},b=[];function y(t,e){this.menu=t,this.opt=e}function E(t){this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-link"></i></div>'),this.type="panel",this._active=!1}function x(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-italic"></i>\n        </div>'),this.type="click",this._active=!1}function _(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-redo"></i>\n        </div>'),this.type="click",this._active=!1}function B(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-strikethrough"></i>\n        </div>'),this.type="click",this._active=!1}function M(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-underline"></i>\n        </div>'),this.type="click",this._active=!1}function I(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-undo"></i>\n        </div>'),this.type="click",this._active=!1}function T(t){var e=this;this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-list2"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new v(this,{width:120,$title:o("<p>ËÆæÁΩÆÂàóË°®</p>"),type:"list",list:[{$elem:o('<span><i class="w-e-icon-list-numbered"></i> ÊúâÂ∫èÂàóË°®</span>'),value:"insertOrderedList"},{$elem:o('<span><i class="w-e-icon-list2"></i> Êó†Â∫èÂàóË°®</span>'),value:"insertUnorderedList"}],onClick:function(t){e._command(t)}})}function Q(t){var e=this;this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-paragraph-left"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new v(this,{width:100,$title:o("<p>ÂØπÈΩêÊñπÂºè</p>"),type:"list",list:[{$elem:o('<span><i class="w-e-icon-paragraph-left"></i> Èù†Â∑¶</span>'),value:"justifyLeft"},{$elem:o('<span><i class="w-e-icon-paragraph-center"></i> Â±Ö‰∏≠</span>'),value:"justifyCenter"},{$elem:o('<span><i class="w-e-icon-paragraph-right"></i> Èù†Âè≥</span>'),value:"justifyRight"}],onClick:function(t){e._command(t)}})}function S(t){var e=this;this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-pencil2"></i></div>'),this.type="droplist";var i=t.config,n=i.colors||[];this._active=!1,this.droplist=new v(this,{width:120,$title:o("<p>ÊñáÂ≠óÈ¢úËâ≤</p>"),type:"inline-block",list:n.map(function(t){return{$elem:o('<i style="color:'+t+';" class="w-e-icon-pencil2"></i>'),value:t}}),onClick:function(t){e._command(t)}})}function D(t){var e=this;this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-paint-brush"></i></div>'),this.type="droplist";var i=t.config,n=i.colors||[];this._active=!1,this.droplist=new v(this,{width:120,$title:o("<p>ËÉåÊôØËâ≤</p>"),type:"inline-block",list:n.map(function(t){return{$elem:o('<i style="color:'+t+';" class="w-e-icon-paint-brush"></i>'),value:t}}),onClick:function(t){e._command(t)}})}function N(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-quotes-left"></i>\n        </div>'),this.type="click",this._active=!1}function L(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-terminal"></i>\n        </div>'),this.type="panel",this._active=!1}function j(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-happy"></i>\n        </div>'),this.type="panel",this._active=!1}function F(t){this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-table2"></i></div>'),this.type="panel",this._active=!1}function R(t){this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-play"></i></div>'),this.type="panel",this._active=!1}function U(t){this.editor=t;var e=A("w-e-img");this.$elem=o('<div class="w-e-menu" id="'+e+'"><i class="w-e-icon-image"></i></div>'),t.imgMenuId=e,this.type="panel",this._active=!1}y.prototype={constructor:y,show:function(){var t=this,e=this.menu;if(!(b.indexOf(e)>=0)){var i=e.editor,n=o("body"),s=i.$textContainerElem,a=this.opt,r=o('<div class="w-e-panel-container"></div>'),c=a.width||300;r.css("width",c+"px").css("margin-left",(0-c)/2+"px");var l=o('<i class="w-e-icon-close w-e-panel-close"></i>');r.append(l),l.on("click",function(){t.hide()});var d=o('<ul class="w-e-panel-tab-title"></ul>'),A=o('<div class="w-e-panel-tab-content"></div>');r.append(d).append(A);var u=a.height;u&&A.css("height",u+"px").css("overflow-y","auto");var h=a.tabs||[],m=[],f=[];h.forEach(function(t,e){if(t){var n=t.title||"",s=t.tpl||"";n=p(i,n),s=p(i,s);var a=o('<li class="w-e-item">'+n+"</li>");d.append(a);var r=o(s);A.append(r),a._index=e,m.push(a),f.push(r),0===e?(a._active=!0,a.addClass("w-e-active")):r.hide(),a.on("click",function(t){a._active||(m.forEach(function(t){t._active=!1,t.removeClass("w-e-active")}),f.forEach(function(t){t.hide()}),a._active=!0,a.addClass("w-e-active"),r.show())})}}),r.on("click",function(t){t.stopPropagation()}),n.on("click",function(e){t.hide()}),s.append(r),h.forEach(function(e,i){if(e){var n=e.events||[];n.forEach(function(e){var n=e.selector,s=e.type,a=e.fn||C,o=f[i];o.find(n).on(s,function(e){e.stopPropagation();var i=a(e);i&&t.hide()})})}});var v=r.find("input[type=text],textarea");v.length&&v.get(0).focus(),this.$container=r,this._hideOtherPanels(),b.push(e)}},hide:function(){var t=this.menu,e=this.$container;e&&e.remove(),b=b.filter(function(e){return e!==t})},_hideOtherPanels:function(){b.length&&b.forEach(function(t){var e=t.panel||{};e.hide&&e.hide()})}},E.prototype={constructor:E,onClick:function(t){var e=this.editor,i=void 0;if(this._active){if(i=e.selection.getSelectionContainerElem(),!i)return;e.selection.createRangeByElem(i),e.selection.restoreSelection(),this._createPanel(i.text(),i.attr("href"))}else e.selection.isSelectionEmpty()?this._createPanel("",""):this._createPanel(e.selection.getSelectionText(),"")},_createPanel:function(t,e){var i=this,n=A("input-link"),s=A("input-text"),a=A("btn-ok"),r=A("btn-del"),c=this._active?"inline-block":"none",l=new y(this,{width:300,tabs:[{title:"ÈìæÊé•",tpl:'<div>\n                            <input id="'+s+'" type="text" class="block" value="'+t+'" placeholder="ÈìæÊé•ÊñáÂ≠ó"/></td>\n                            <input id="'+n+'" type="text" class="block" value="'+e+'" placeholder="http://..."/></td>\n                            <div class="w-e-button-container">\n                                <button id="'+a+'" class="right">ÊèíÂÖ•</button>\n                                <button id="'+r+'" class="gray right" style="display:'+c+'">Âà†Èô§ÈìæÊé•</button>\n                            </div>\n                        </div>',events:[{selector:"#"+a,type:"click",fn:function(){var t=o("#"+n),e=o("#"+s),a=t.val(),r=e.val();return i._insertLink(r,a),!0}},{selector:"#"+r,type:"click",fn:function(){return i._delLink(),!0}}]}]});l.show(),this.panel=l},_delLink:function(){if(this._active){var t=this.editor,e=t.selection.getSelectionContainerElem();if(e){var i=t.selection.getSelectionText();t.cmd.do("insertHTML","<span>"+i+"</span>")}}},_insertLink:function(t,e){var i=this.editor,n=i.config,s=n.linkCheck,a=!0;s&&"function"===typeof s&&(a=s(t,e)),!0===a?i.cmd.do("insertHTML",'<a href="'+e+'" target="_blank">'+t+"</a>"):alert(a)},tryChangeActive:function(t){var e=this.editor,i=this.$elem,n=e.selection.getSelectionContainerElem();n&&("A"===n.getNodeName()?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active")))}},x.prototype={constructor:x,onClick:function(t){var e=this.editor,i=e.selection.isSelectionEmpty();i&&e.selection.createEmptyRange(),e.cmd.do("italic"),i&&(e.selection.collapseRange(),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e.cmd.queryCommandState("italic")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},_.prototype={constructor:_,onClick:function(t){var e=this.editor;e.cmd.do("redo")}},B.prototype={constructor:B,onClick:function(t){var e=this.editor,i=e.selection.isSelectionEmpty();i&&e.selection.createEmptyRange(),e.cmd.do("strikeThrough"),i&&(e.selection.collapseRange(),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e.cmd.queryCommandState("strikeThrough")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},M.prototype={constructor:M,onClick:function(t){var e=this.editor,i=e.selection.isSelectionEmpty();i&&e.selection.createEmptyRange(),e.cmd.do("underline"),i&&(e.selection.collapseRange(),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e.cmd.queryCommandState("underline")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},I.prototype={constructor:I,onClick:function(t){var e=this.editor;e.cmd.do("undo")}},T.prototype={constructor:T,_command:function(t){var e=this.editor,i=e.$textElem;if(e.selection.restoreSelection(),!e.cmd.queryCommandState(t)){e.cmd.do(t);var n=e.selection.getSelectionContainerElem();if("LI"===n.getNodeName()&&(n=n.parent()),!1!==/^ol|ul$/i.test(n.getNodeName())&&!n.equal(i)){var s=n.parent();s.equal(i)||(n.insertAfter(s),s.remove())}}},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e.cmd.queryCommandState("insertUnOrderedList")||e.cmd.queryCommandState("insertOrderedList")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},Q.prototype={constructor:Q,_command:function(t){var e=this.editor;e.cmd.do(t)}},S.prototype={constructor:S,_command:function(t){var e=this.editor;e.cmd.do("foreColor",t)}},D.prototype={constructor:D,_command:function(t){var e=this.editor;e.cmd.do("backColor",t)}},N.prototype={constructor:N,onClick:function(t){var e=this.editor,i=e.selection.getSelectionContainerElem(),n=i.getNodeName();if(c.isIE()){var s=void 0,a=void 0;if("P"===n)return s=i.text(),a=o("<blockquote>"+s+"</blockquote>"),a.insertAfter(i),void i.remove();"BLOCKQUOTE"===n&&(s=i.text(),a=o("<p>"+s+"</p>"),a.insertAfter(i),i.remove())}else"BLOCKQUOTE"===n?e.cmd.do("formatBlock","<P>"):e.cmd.do("formatBlock","<BLOCKQUOTE>")},tryChangeActive:function(t){var e=this.editor,i=this.$elem,n=/^BLOCKQUOTE$/i,s=e.cmd.queryCommandValue("formatBlock");n.test(s)?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},L.prototype={constructor:L,onClick:function(t){var e=this.editor,i=e.selection.getSelectionStartElem(),n=e.selection.getSelectionEndElem(),s=e.selection.isSelectionEmpty(),a=e.selection.getSelectionText(),r=void 0;if(i.equal(n))return s?void(this._active?this._createPanel(i.html()):this._createPanel()):(r=o("<code>"+a+"</code>"),e.cmd.do("insertElem",r),e.selection.createRangeByElem(r,!1),void e.selection.restoreSelection());e.selection.restoreSelection()},_createPanel:function(t){var e=this;t=t||"";var i=t?"edit":"new",n=A("texxt"),s=A("btn"),a=new y(this,{width:500,tabs:[{title:"ÊèíÂÖ•‰ª£Á†Å",tpl:'<div>\n                        <textarea id="'+n+'" style="height:145px;;">'+t+'</textarea>\n                        <div class="w-e-button-container">\n                            <button id="'+s+'" class="right">ÊèíÂÖ•</button>\n                        </div>\n                    <div>',events:[{selector:"#"+s,type:"click",fn:function(){var t=o("#"+n),s=t.val()||t.html();return s=u(s),"new"===i?e._insertCode(s):e._updateCode(s),!0}}]}]});a.show(),this.panel=a},_insertCode:function(t){var e=this.editor;e.cmd.do("insertHTML","<pre><code>"+t+"</code></pre><p><br></p>")},_updateCode:function(t){var e=this.editor,i=e.selection.getSelectionContainerElem();i&&(i.html(t),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,i=this.$elem,n=e.selection.getSelectionContainerElem();if(n){var s=n.parent();"CODE"===n.getNodeName()&&"PRE"===s.getNodeName()?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}}},j.prototype={constructor:j,onClick:function(){this._createPanel()},_createPanel:function(){var t=this,e=this.editor,i=e.config,n=i.emotions||[],s=[];n.forEach(function(e){var i=e.type,n=e.content||[],a="";"emoji"===i&&n.forEach(function(t){t&&(a+='<span class="w-e-item">'+t+"</span>")}),"image"===i&&n.forEach(function(t){var e=t.src,i=t.alt;e&&(a+='<span class="w-e-item"><img src="'+e+'" alt="'+i+'" data-w-e="1"/></span>')}),s.push({title:e.title,tpl:'<div class="w-e-emoticon-container">'+a+"</div>",events:[{selector:"span.w-e-item",type:"click",fn:function(e){var i=e.target,n=o(i),s=n.getNodeName(),a=void 0;return a="IMG"===s?n.parent().html():"<span>"+n.html()+"</span>",t._insert(a),!0}}]})});var a=new y(this,{width:300,height:200,tabs:s});a.show(),this.panel=a},_insert:function(t){var e=this.editor;e.cmd.do("insertHTML",t)}},F.prototype={constructor:F,onClick:function(){this._active?this._createEditPanel():this._createInsertPanel()},_createInsertPanel:function(){var t=this,e=A("btn"),i=A("row"),n=A("col"),s=new y(this,{width:250,tabs:[{title:"ÊèíÂÖ•Ë°®Ê†º",tpl:'<div>\n                        <p style="text-align:left; padding:5px 0;">\n                            ÂàõÂª∫\n                            <input id="'+i+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            Ë°å\n                            <input id="'+n+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            ÂàóÁöÑË°®Ê†º\n                        </p>\n                        <div class="w-e-button-container">\n                            <button id="'+e+'" class="right">ÊèíÂÖ•</button>\n                        </div>\n                    </div>',events:[{selector:"#"+e,type:"click",fn:function(){var e=parseInt(o("#"+i).val()),s=parseInt(o("#"+n).val());return e&&s&&e>0&&s>0&&t._insert(e,s),!0}}]}]});s.show(),this.panel=s},_insert:function(t,e){var i=void 0,n=void 0,s='<table border="0" width="100%" cellpadding="0" cellspacing="0">';for(i=0;i<t;i++){if(s+="<tr>",0===i)for(n=0;n<e;n++)s+="<th>&nbsp;</th>";else for(n=0;n<e;n++)s+="<td>&nbsp;</td>";s+="</tr>"}s+="</table><p><br></p>";var a=this.editor;a.cmd.do("insertHTML",s),a.cmd.do("enableObjectResizing",!1),a.cmd.do("enableInlineTableEditing",!1)},_createEditPanel:function(){var t=this,e=A("add-row"),i=A("add-col"),n=A("del-row"),s=A("del-col"),a=A("del-table"),o=new y(this,{width:320,tabs:[{title:"ÁºñËæëË°®Ê†º",tpl:'<div>\n                        <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                            <button id="'+e+'" class="left">Â¢ûÂä†Ë°å</button>\n                            <button id="'+n+'" class="red left">Âà†Èô§Ë°å</button>\n                            <button id="'+i+'" class="left">Â¢ûÂä†Âàó</button>\n                            <button id="'+s+'" class="red left">Âà†Èô§Âàó</button>\n                        </div>\n                        <div class="w-e-button-container">\n                            <button id="'+a+'" class="gray left">Âà†Èô§Ë°®Ê†º</button>\n                        </dv>\n                    </div>',events:[{selector:"#"+e,type:"click",fn:function(){return t._addRow(),!0}},{selector:"#"+i,type:"click",fn:function(){return t._addCol(),!0}},{selector:"#"+n,type:"click",fn:function(){return t._delRow(),!0}},{selector:"#"+s,type:"click",fn:function(){return t._delCol(),!0}},{selector:"#"+a,type:"click",fn:function(){return t._delTable(),!0}}]}]});o.show()},_getLocationData:function(){var t={},e=this.editor,i=e.selection.getSelectionContainerElem();if(i){var n=i.getNodeName();if("TD"===n||"TH"===n){var s=i.parent(),a=s.children(),o=a.length;a.forEach(function(e,n){if(e===i[0])return t.td={index:n,elem:e,length:o},!1});var r=s.parent(),c=r.children(),l=c.length;return c.forEach(function(e,i){if(e===s[0])return t.tr={index:i,elem:e,length:l},!1}),t}}},_addRow:function(){var t=this._getLocationData();if(t){var e=t.tr,i=o(e.elem),n=t.td,s=n.length,a=document.createElement("tr"),r="",c=void 0;for(c=0;c<s;c++)r+="<td>&nbsp;</td>";a.innerHTML=r,o(a).insertAfter(i)}},_addCol:function(){var t=this._getLocationData();if(t){var e=t.tr,i=t.td,n=i.index,s=o(e.elem),a=s.parent(),r=a.children();r.forEach(function(t){var e=o(t),i=e.children(),s=i.get(n),a=s.getNodeName().toLowerCase(),r=document.createElement(a);o(r).insertAfter(s)})}},_delRow:function(){var t=this._getLocationData();if(t){var e=t.tr,i=o(e.elem);i.remove()}},_delCol:function(){var t=this._getLocationData();if(t){var e=t.tr,i=t.td,n=i.index,s=o(e.elem),a=s.parent(),r=a.children();r.forEach(function(t){var e=o(t),i=e.children(),s=i.get(n);s.remove()})}},_delTable:function(){var t=this.editor,e=t.selection.getSelectionContainerElem();if(e){var i=e.parentUntil("table");i&&i.remove()}},tryChangeActive:function(t){var e=this.editor,i=this.$elem,n=e.selection.getSelectionContainerElem();if(n){var s=n.getNodeName();"TD"===s||"TH"===s?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}}},R.prototype={constructor:R,onClick:function(){this._createPanel()},_createPanel:function(){var t=this,e=A("text-val"),i=A("btn"),n=new y(this,{width:350,tabs:[{title:"ÊèíÂÖ•ËßÜÈ¢ë",tpl:'<div>\n                        <input id="'+e+'" type="text" class="block" placeholder="Ê†ºÂºèÂ¶ÇÔºö<iframe src=... ></iframe>"/>\n                        <div class="w-e-button-container">\n                            <button id="'+i+'" class="right">ÊèíÂÖ•</button>\n                        </div>\n                    </div>',events:[{selector:"#"+i,type:"click",fn:function(){var i=o("#"+e),n=i.val().trim();return n&&t._insert(n),!0}}]}]});n.show(),this.panel=n},_insert:function(t){var e=this.editor;e.cmd.do("insertHTML",t+"<p><br></p>")}},U.prototype={constructor:U,onClick:function(){var t=this.editor,e=t.config;e.qiniu||(this._active?this._createEditPanel():this._createInsertPanel())},_createEditPanel:function(){var t=this.editor,e=A("width-30"),i=A("width-50"),n=A("width-100"),s=A("del-btn"),a=[{title:"ÁºñËæëÂõæÁâá",tpl:'<div>\n                    <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                        <span style="float:left;font-size:14px;margin:4px 5px 0 5px;color:#333;">ÊúÄÂ§ßÂÆΩÂ∫¶Ôºö</span>\n                        <button id="'+e+'" class="left">30%</button>\n                        <button id="'+i+'" class="left">50%</button>\n                        <button id="'+n+'" class="left">100%</button>\n                    </div>\n                    <div class="w-e-button-container">\n                        <button id="'+s+'" class="gray left">Âà†Èô§ÂõæÁâá</button>\n                    </dv>\n                </div>',events:[{selector:"#"+e,type:"click",fn:function(){var e=t._selectedImg;return e&&e.css("max-width","30%"),!0}},{selector:"#"+i,type:"click",fn:function(){var e=t._selectedImg;return e&&e.css("max-width","50%"),!0}},{selector:"#"+n,type:"click",fn:function(){var e=t._selectedImg;return e&&e.css("max-width","100%"),!0}},{selector:"#"+s,type:"click",fn:function(){var e=t._selectedImg;return e&&e.remove(),!0}}]}],o=new y(this,{width:300,tabs:a});o.show(),this.panel=o},_createInsertPanel:function(){var t=this.editor,e=t.uploadImg,i=t.config,n=A("up-trigger"),s=A("up-file"),a=A("link-url"),r=A("link-btn"),c=[{title:"‰∏ä‰º†ÂõæÁâá",tpl:'<div class="w-e-up-img-container">\n                    <div id="'+n+'" class="w-e-up-btn">\n                        <i class="w-e-icon-upload2"></i>\n                    </div>\n                    <div style="display:none;">\n                        <input id="'+s+'" type="file" multiple="multiple" accept="image/jpg,image/jpeg,image/png,image/gif,image/bmp"/>\n                    </div>\n                </div>',events:[{selector:"#"+n,type:"click",fn:function(){var t=o("#"+s),e=t[0];if(!e)return!0;e.click()}},{selector:"#"+s,type:"change",fn:function(){var t=o("#"+s),i=t[0];if(!i)return!0;var n=i.files;return n.length&&e.uploadImg(n),!0}}]},{title:"ÁΩëÁªúÂõæÁâá",tpl:'<div>\n                    <input id="'+a+'" type="text" class="block" placeholder="ÂõæÁâáÈìæÊé•"/></td>\n                    <div class="w-e-button-container">\n                        <button id="'+r+'" class="right">ÊèíÂÖ•</button>\n                    </div>\n                </div>',events:[{selector:"#"+r,type:"click",fn:function(){var t=o("#"+a),i=t.val().trim();return i&&e.insertLinkImg(i),!0}}]}],l=[];(i.uploadImgShowBase64||i.uploadImgServer||i.customUploadImg)&&window.FileReader&&l.push(c[0]),i.showLinkImg&&l.push(c[1]);var d=new y(this,{width:300,tabs:l});d.show(),this.panel=d},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e._selectedImg?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}};var P={};function Y(t){this.editor=t,this.menus={}}function H(t){var e=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData,i=void 0;return i=null==e?window.clipboardData&&window.clipboardData.getData("text"):e.getData("text/plain"),u(i)}function z(t,e,i){var n=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData,s=void 0,a=void 0;if(null==n?s=window.clipboardData&&window.clipboardData.getData("text"):(s=n.getData("text/plain"),a=n.getData("text/html")),!a&&s&&(a="<p>"+u(s)+"</p>"),a){var o=a.split("</html>");return 2===o.length&&(a=o[0]),a=a.replace(/<(meta|script|link).+?>/gim,""),a=a.replace(/<!--.*?-->/gm,""),a=a.replace(/\s?data-.+?=('|").+?('|")/gim,""),i&&(a=a.replace(/<img.+?>/gim,"")),a=e?a.replace(/\s?(class|style)=('|").*?('|")/gim,""):a.replace(/\s?class=('|").*?('|")/gim,""),a}}function O(t){var e=[],i=H(t);if(i)return e;var n=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData||{},s=n.items;return s?(l(s,function(t,i){var n=i.type;/image/i.test(n)&&e.push(i.getAsFile())}),e):e}function G(t){var e=[],i=t.childNodes()||[];return i.forEach(function(t){var i=void 0,n=t.nodeType;if(3===n&&(i=t.textContent,i=u(i)),1===n){i={},i.tag=t.nodeName.toLowerCase();for(var s=[],a=t.attributes||{},r=a.length||0,c=0;c<r;c++){var l=a[c];s.push({name:l.name,value:l.value})}i.attrs=s,i.children=G(o(t))}e.push(i)}),e}function $(t){this.editor=t}function J(t){this.editor=t}function K(t){this.editor=t,this._currentRange=null}function V(t){this.editor=t,this._time=0,this._isShow=!1,this._isRender=!1,this._timeoutId=0,this.$textContainer=t.$textContainerElem,this.$bar=o('<div class="w-e-progress"></div>')}P.bold=m,P.head=g,P.fontSize=w,P.fontName=k,P.link=E,P.italic=x,P.redo=_,P.strikeThrough=B,P.underline=M,P.undo=I,P.list=T,P.justify=Q,P.foreColor=S,P.backColor=D,P.quote=N,P.code=L,P.emoticon=j,P.table=F,P.video=R,P.image=U,Y.prototype={constructor:Y,init:function(){var t=this,e=this.editor,i=e.config||{},n=i.menus||[];n.forEach(function(i){var n=P[i];n&&"function"===typeof n&&(t.menus[i]=new n(e))}),this._addToToolbar(),this._bindEvent()},_addToToolbar:function(){var t=this.editor,e=t.$toolbarElem,i=this.menus,n=t.config,s=n.zIndex+1;l(i,function(t,i){var n=i.$elem;n&&(n.css("z-index",s),e.append(n))})},_bindEvent:function(){var t=this.menus,e=this.editor;l(t,function(t,i){var n=i.type;if(n){var s=i.$elem,a=i.droplist;i.panel;"click"===n&&i.onClick&&s.on("click",function(t){null!=e.selection.getRange()&&i.onClick(t)}),"droplist"===n&&a&&s.on("mouseenter",function(t){null!=e.selection.getRange()&&(a.showTimeoutId=setTimeout(function(){a.show()},200))}).on("mouseleave",function(t){a.hideTimeoutId=setTimeout(function(){a.hide()},0)}),"panel"===n&&i.onClick&&s.on("click",function(t){t.stopPropagation(),null!=e.selection.getRange()&&i.onClick(t)})}})},changeActive:function(){var t=this.menus;l(t,function(t,e){e.tryChangeActive&&setTimeout(function(){e.tryChangeActive()},100)})}},$.prototype={constructor:$,init:function(){this._bindEvent()},clear:function(){this.html("<p><br></p>")},html:function(t){var e=this.editor,i=e.$textElem,n=void 0;if(null==t)return n=i.html(),n=n.replace(/\u200b/gm,""),n;i.html(t),e.initSelection()},getJSON:function(){var t=this.editor,e=t.$textElem;return G(e)},text:function(t){var e=this.editor,i=e.$textElem,n=void 0;if(null==t)return n=i.text(),n=n.replace(/\u200b/gm,""),n;i.text("<p>"+t+"</p>"),e.initSelection()},append:function(t){var e=this.editor,i=e.$textElem;i.append(o(t)),e.initSelection()},_bindEvent:function(){this._saveRangeRealTime(),this._enterKeyHandle(),this._clearHandle(),this._pasteHandle(),this._tabHandle(),this._imgHandle(),this._dragHandle()},_saveRangeRealTime:function(){var t=this.editor,e=t.$textElem;function i(e){t.selection.saveRange(),t.menus.changeActive()}e.on("keyup",i),e.on("mousedown",function(t){e.on("mouseleave",i)}),e.on("mouseup",function(t){i(),e.off("mouseleave",i)})},_enterKeyHandle:function(){var t=this.editor,e=t.$textElem;function i(e){var i=o("<p><br></p>");i.insertBefore(e),t.selection.createRangeByElem(i,!0),t.selection.restoreSelection(),e.remove()}function n(n){var s=t.selection.getSelectionContainerElem(),a=s.parent();if("<code><br></code>"!==a.html()){if(a.equal(e)){var o=s.getNodeName();"P"!==o&&(s.text()||i(s))}}else i(s)}function s(e){var i=t.selection.getSelectionContainerElem();if(i){var n=i.parent(),s=i.getNodeName(),a=n.getNodeName();if("CODE"===s&&"PRE"===a&&t.cmd.queryCommandSupported("insertHTML")){if(!0===t._willBreakCode){var r=o("<p><br></p>");return r.insertAfter(n),t.selection.createRangeByElem(r,!0),t.selection.restoreSelection(),t._willBreakCode=!1,void e.preventDefault()}var c=t.selection.getRange().startOffset;t.cmd.do("insertHTML","\n"),t.selection.saveRange(),t.selection.getRange().startOffset===c&&t.cmd.do("insertHTML","\n");var l=i.html().length;t.selection.getRange().startOffset+1===l&&(t._willBreakCode=!0),e.preventDefault()}}}e.on("keyup",function(t){13===t.keyCode&&n(t)}),e.on("keydown",function(e){13===e.keyCode?s(e):t._willBreakCode=!1})},_clearHandle:function(){var t=this.editor,e=t.$textElem;e.on("keydown",function(t){if(8===t.keyCode){var i=e.html().toLowerCase().trim();"<p><br></p>"!==i||t.preventDefault()}}),e.on("keyup",function(i){if(8===i.keyCode){var n=void 0,s=e.html().toLowerCase().trim();s&&"<br>"!==s||(n=o("<p><br/></p>"),e.html(""),e.append(n),t.selection.createRangeByElem(n,!1,!0),t.selection.restoreSelection())}})},_pasteHandle:function(){var t=this.editor,e=t.config,i=e.pasteFilterStyle,n=e.pasteTextHandle,s=e.pasteIgnoreImg,a=t.$textElem,o=0;function r(){var t=Date.now(),e=!1;return t-o>=100&&(e=!0),o=t,e}function l(){o=0}a.on("paste",function(e){if(!c.isIE()&&(e.preventDefault(),r())){var a=z(e,i,s),o=H(e);o=o.replace(/\n/gm,"<br>");var d=t.selection.getSelectionContainerElem();if(d){var A=d.getNodeName();if("CODE"===A||"PRE"===A)return n&&h(n)&&(o=""+(n(o)||"")),void t.cmd.do("insertHTML","<p>"+o+"</p>");if(a)try{n&&h(n)&&(a=""+(n(a)||"")),t.cmd.do("insertHTML",a)}catch(u){n&&h(n)&&(o=""+(n(o)||"")),t.cmd.do("insertHTML","<p>"+o+"</p>")}else l()}}}),a.on("paste",function(e){if(!c.isIE()&&(e.preventDefault(),r())){var i=O(e);if(i&&i.length){var n=t.selection.getSelectionContainerElem();if(n){var s=n.getNodeName();if("CODE"!==s&&"PRE"!==s){var a=t.uploadImg;a.uploadImg(i)}}}}})},_tabHandle:function(){var t=this.editor,e=t.$textElem;e.on("keydown",function(e){if(9===e.keyCode&&t.cmd.queryCommandSupported("insertHTML")){var i=t.selection.getSelectionContainerElem();if(i){var n=i.parent(),s=i.getNodeName(),a=n.getNodeName();"CODE"===s&&"PRE"===a?t.cmd.do("insertHTML","    "):t.cmd.do("insertHTML","&nbsp;&nbsp;&nbsp;&nbsp;"),e.preventDefault()}}})},_imgHandle:function(){var t=this.editor,e=t.$textElem;e.on("click","img",function(e){var i=this,n=o(i);"1"!==n.attr("data-w-e")&&(t._selectedImg=n,t.selection.createRangeByElem(n),t.selection.restoreSelection())}),e.on("click  keyup",function(e){e.target.matches("img")||(t._selectedImg=null)})},_dragHandle:function(){var t=this.editor,e=o(document);e.on("dragleave drop dragenter dragover",function(t){t.preventDefault()});var i=t.$textElem;i.on("drop",function(e){e.preventDefault();var i=e.dataTransfer&&e.dataTransfer.files;if(i&&i.length){var n=t.uploadImg;n.uploadImg(i)}})}},J.prototype={constructor:J,do:function(t,e){var i=this.editor;if(i._useStyleWithCSS||(document.execCommand("styleWithCSS",null,!0),i._useStyleWithCSS=!0),i.selection.getRange()){i.selection.restoreSelection();var n="_"+t;this[n]?this[n](e):this._execCommand(t,e),i.menus.changeActive(),i.selection.saveRange(),i.selection.restoreSelection(),i.change&&i.change()}},_insertHTML:function(t){var e=this.editor,i=e.selection.getRange();this.queryCommandSupported("insertHTML")?this._execCommand("insertHTML",t):i.insertNode?(i.deleteContents(),i.insertNode(o(t)[0])):i.pasteHTML&&i.pasteHTML(t)},_insertElem:function(t){var e=this.editor,i=e.selection.getRange();i.insertNode&&(i.deleteContents(),i.insertNode(t[0]))},_execCommand:function(t,e){document.execCommand(t,!1,e)},queryCommandValue:function(t){return document.queryCommandValue(t)},queryCommandState:function(t){return document.queryCommandState(t)},queryCommandSupported:function(t){return document.queryCommandSupported(t)}},K.prototype={constructor:K,getRange:function(){return this._currentRange},saveRange:function(t){if(t)this._currentRange=t;else{var e=window.getSelection();if(0!==e.rangeCount){var i=e.getRangeAt(0),n=this.getSelectionContainerElem(i);if(n&&"false"!==n.attr("contenteditable")&&!n.parentUntil("[contenteditable=false]")){var s=this.editor,a=s.$textElem;a.isContain(n)&&(this._currentRange=i)}}}},collapseRange:function(t){null==t&&(t=!1);var e=this._currentRange;e&&e.collapse(t)},getSelectionText:function(){var t=this._currentRange;return t?this._currentRange.toString():""},getSelectionContainerElem:function(t){t=t||this._currentRange;var e=void 0;if(t)return e=t.commonAncestorContainer,o(1===e.nodeType?e:e.parentNode)},getSelectionStartElem:function(t){t=t||this._currentRange;var e=void 0;if(t)return e=t.startContainer,o(1===e.nodeType?e:e.parentNode)},getSelectionEndElem:function(t){t=t||this._currentRange;var e=void 0;if(t)return e=t.endContainer,o(1===e.nodeType?e:e.parentNode)},isSelectionEmpty:function(){var t=this._currentRange;return!(!t||!t.startContainer||t.startContainer!==t.endContainer||t.startOffset!==t.endOffset)},restoreSelection:function(){var t=window.getSelection();t.removeAllRanges(),t.addRange(this._currentRange)},createEmptyRange:function(){var t=this.editor,e=this.getRange(),i=void 0;if(e&&this.isSelectionEmpty())try{c.isWebkit()?(t.cmd.do("insertHTML","&#8203;"),e.setEnd(e.endContainer,e.endOffset+1),this.saveRange(e)):(i=o("<strong>&#8203;</strong>"),t.cmd.do("insertElem",i),this.createRangeByElem(i,!0))}catch(n){}},createRangeByElem:function(t,e,i){if(t.length){var n=t[0],s=document.createRange();i?s.selectNodeContents(n):s.selectNode(n),"boolean"===typeof e&&s.collapse(e),this.saveRange(s)}}},V.prototype={constructor:V,show:function(t){var e=this;if(!this._isShow){this._isShow=!0;var i=this.$bar;if(this._isRender)this._isRender=!0;else{var n=this.$textContainer;n.append(i)}Date.now()-this._time>100&&t<=1&&(i.css("width",100*t+"%"),this._time=Date.now());var s=this._timeoutId;s&&clearTimeout(s),s=setTimeout(function(){e._hide()},500)}},_hide:function(){var t=this.$bar;t.remove(),this._time=0,this._isShow=!1,this._isRender=!1}};var q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function W(t){this.editor=t}W.prototype={constructor:W,_alert:function(t,e){var i=this.editor,n=i.config.debug,s=i.config.customAlert;if(n)throw new Error("wangEditor: "+(e||t));s&&"function"===typeof s?s(t):alert(t)},insertLinkImg:function(t){var e=this;if(t){var i=this.editor,n=i.config,s=n.linkImgCheck,a=void 0;if(s&&"function"===typeof s&&(a=s(t),"string"===typeof a))alert(a);else{i.cmd.do("insertHTML",'<img src="'+t+'" style="max-width:100%;"/>');var o=document.createElement("img");o.onload=function(){var e=n.linkImgCallback;e&&"function"===typeof e&&e(t),o=null},o.onerror=function(){o=null,e._alert("ÊèíÂÖ•ÂõæÁâáÈîôËØØ",'wangEditor: ÊèíÂÖ•ÂõæÁâáÂá∫ÈîôÔºåÂõæÁâáÈìæÊé•ÊòØ "'+t+'"Ôºå‰∏ãËΩΩËØ•ÈìæÊé•Â§±Ë¥•')},o.onabort=function(){o=null},o.src=t}}},uploadImg:function(t){var e=this;if(t&&t.length){var i=this.editor,n=i.config,s=n.uploadImgServer,a=n.uploadImgShowBase64,o=n.uploadImgMaxSize,r=o/1024/1024,c=n.uploadImgMaxLength||1e4,A=n.uploadFileName||"",u=n.uploadImgParams||{},h=n.uploadImgParamsWithUrl,m=n.uploadImgHeaders||{},p=n.uploadImgHooks||{},f=n.uploadImgTimeout||3e3,v=n.withCredentials;null==v&&(v=!1);var g=n.customUploadImg;if(g||s||a){var w=[],k=[];if(d(t,function(t){var e=t.name,i=t.size;e&&i&&(!1!==/\.(jpg|jpeg|png|bmp|gif|webp)$/i.test(e)?o<i?k.push("„Äê"+e+"„ÄëÂ§ß‰∫é "+r+"M"):w.push(t):k.push("„Äê"+e+"„Äë‰∏çÊòØÂõæÁâá"))}),k.length)this._alert("ÂõæÁâáÈ™åËØÅÊú™ÈÄöËøá: \n"+k.join("\n"));else if(w.length>c)this._alert("‰∏ÄÊ¨°ÊúÄÂ§ö‰∏ä‰º†"+c+"Âº†ÂõæÁâá");else if(g&&"function"===typeof g)g(w,this.insertLinkImg.bind(this));else{var C=new FormData;if(d(w,function(t){var e=A||t.name;C.append(e,t)}),s&&"string"===typeof s){var b=s.split("#");s=b[0];var y=b[1]||"";l(u,function(t,e){h&&(s.indexOf("?")>0?s+="&":s+="?",s=s+t+"="+e),C.append(t,e)}),y&&(s+="#"+y);var E=new XMLHttpRequest;if(E.open("POST",s),E.timeout=f,E.ontimeout=function(){p.timeout&&"function"===typeof p.timeout&&p.timeout(E,i),e._alert("‰∏ä‰º†ÂõæÁâáË∂ÖÊó∂")},E.upload&&(E.upload.onprogress=function(t){var e=void 0,n=new V(i);t.lengthComputable&&(e=t.loaded/t.total,n.show(e))}),E.onreadystatechange=function(){var t=void 0;if(4===E.readyState){if(E.status<200||E.status>=300)return p.error&&"function"===typeof p.error&&p.error(E,i),void e._alert("‰∏ä‰º†ÂõæÁâáÂèëÁîüÈîôËØØ","‰∏ä‰º†ÂõæÁâáÂèëÁîüÈîôËØØÔºåÊúçÂä°Âô®ËøîÂõûÁä∂ÊÄÅÊòØ "+E.status);if(t=E.responseText,"object"!==("undefined"===typeof t?"undefined":q(t)))try{t=JSON.parse(t)}catch(s){return p.fail&&"function"===typeof p.fail&&p.fail(E,i,t),void e._alert("‰∏ä‰º†ÂõæÁâáÂ§±Ë¥•","‰∏ä‰º†ÂõæÁâáËøîÂõûÁªìÊûúÈîôËØØÔºåËøîÂõûÁªìÊûúÊòØ: "+t)}if(p.customInsert||"0"==t.errno){if(p.customInsert&&"function"===typeof p.customInsert)p.customInsert(e.insertLinkImg.bind(e),t,i);else{var n=t.data||[];n.forEach(function(t){e.insertLinkImg(t)})}p.success&&"function"===typeof p.success&&p.success(E,i,t)}else p.fail&&"function"===typeof p.fail&&p.fail(E,i,t),e._alert("‰∏ä‰º†ÂõæÁâáÂ§±Ë¥•","‰∏ä‰º†ÂõæÁâáËøîÂõûÁªìÊûúÈîôËØØÔºåËøîÂõûÁªìÊûú errno="+t.errno)}},p.before&&"function"===typeof p.before){var x=p.before(E,i,w);if(x&&"object"===("undefined"===typeof x?"undefined":q(x))&&x.prevent)return void this._alert(x.msg)}return l(m,function(t,e){E.setRequestHeader(t,e)}),E.withCredentials=v,void E.send(C)}a&&d(t,function(t){var i=e,n=new FileReader;n.readAsDataURL(t),n.onload=function(){i.insertLinkImg(this.result)}})}}}}};var X=1;function Z(t,e){if(null==t)throw new Error("ÈîôËØØÔºöÂàùÂßãÂåñÁºñËæëÂô®Êó∂ÂÄôÊú™‰º†ÂÖ•‰ªª‰ΩïÂèÇÊï∞ÔºåËØ∑Êü•ÈòÖÊñáÊ°£");this.id="wangEditor-"+X++,this.toolbarSelector=t,this.textSelector=e,this.customConfig={}}Z.prototype={constructor:Z,_initConfig:function(){var t={};this.config=Object.assign(t,r,this.customConfig);var e=this.config.lang||{},i=[];l(e,function(t,e){i.push({reg:new RegExp(t,"img"),val:e})}),this.config.langArgs=i},_initDom:function(){var t=this,e=this.toolbarSelector,i=o(e),n=this.textSelector,s=this.config,a=s.zIndex,r=void 0,c=void 0,l=void 0,d=void 0;null==n?(r=o("<div></div>"),c=o("<div></div>"),d=i.children(),i.append(r).append(c),r.css("background-color","#f1f1f1").css("border","1px solid #ccc"),c.css("border","1px solid #ccc").css("border-top","none").css("height","300px")):(r=i,c=o(n),d=c.children()),l=o("<div></div>"),l.attr("contenteditable","true").css("width","100%").css("height","100%"),d&&d.length?l.append(d):l.append(o("<p><br></p>")),c.append(l),r.addClass("w-e-toolbar"),c.addClass("w-e-text-container"),c.css("z-index",a),l.addClass("w-e-text");var u=A("toolbar-elem");r.attr("id",u);var h=A("text-elem");l.attr("id",h),this.$toolbarElem=r,this.$textContainerElem=c,this.$textElem=l,this.toolbarElemId=u,this.textElemId=h;var m=!0;c.on("compositionstart",function(){m=!1}),c.on("compositionend",function(){m=!0}),c.on("click keyup",function(){m&&t.change&&t.change()}),r.on("click",function(){this.change&&this.change()}),(s.onfocus||s.onblur)&&(this.isFocus=!1,o(document).on("click",function(e){var i=l.isContain(o(e.target)),n=r.isContain(o(e.target)),s=r[0]==e.target;if(i)t.isFocus||t.onfocus&&t.onfocus(),t.isFocus=!0;else{if(n&&!s)return;t.isFocus&&t.onblur&&t.onblur(),t.isFocus=!1}}))},_initCommand:function(){this.cmd=new J(this)},_initSelectionAPI:function(){this.selection=new K(this)},_initUploadImg:function(){this.uploadImg=new W(this)},_initMenus:function(){this.menus=new Y(this),this.menus.init()},_initText:function(){this.txt=new $(this),this.txt.init()},initSelection:function(t){var e=this.$textElem,i=e.children();if(!i.length)return e.append(o("<p><br></p>")),void this.initSelection();var n=i.last();if(t){var s=n.html().toLowerCase(),a=n.getNodeName();if("<br>"!==s&&"<br/>"!==s||"P"!==a)return e.append(o("<p><br></p>")),void this.initSelection()}this.selection.createRangeByElem(n,!1,!0),this.selection.restoreSelection()},_bindEvent:function(){var t=0,e=this.txt.html(),i=this.config,n=i.onchangeTimeout;n=parseInt(n,10),(!n||n<=0)&&(n=200);var s=i.onchange;s&&"function"===typeof s&&(this.change=function(){var i=this.txt.html();i.length===e.length&&i===e||(t&&clearTimeout(t),t=setTimeout(function(){s(i),e=i},n))});var a=i.onblur;a&&"function"===typeof a&&(this.onblur=function(){var t=this.txt.html();a(t)});var o=i.onfocus;o&&"function"===typeof o&&(this.onfocus=function(){o()})},create:function(){this._initConfig(),this._initDom(),this._initCommand(),this._initSelectionAPI(),this._initText(),this._initMenus(),this._initUploadImg(),this.initSelection(!0),this._bindEvent()},_offAllEvent:function(){o.offAll()}};try{document}catch(nt){throw new Error("ËØ∑Âú®ÊµèËßàÂô®ÁéØÂ¢É‰∏ãËøêË°å")}t();var tt='.w-e-toolbar,.w-e-text-container,.w-e-menu-panel {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-toolbar *,.w-e-text-container *,.w-e-menu-panel * {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-clear-fix:after {  content: "";  display: table;  clear: both;}.w-e-toolbar .w-e-droplist {  position: absolute;  left: 0;  top: 0;  background-color: #fff;  border: 1px solid #f1f1f1;  border-right-color: #ccc;  border-bottom-color: #ccc;}.w-e-toolbar .w-e-droplist .w-e-dp-title {  text-align: center;  color: #999;  line-height: 2;  border-bottom: 1px solid #f1f1f1;  font-size: 13px;}.w-e-toolbar .w-e-droplist ul.w-e-list {  list-style: none;  line-height: 1;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {  color: #333;  padding: 5px 0;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {  background-color: #f1f1f1;}.w-e-toolbar .w-e-droplist ul.w-e-block {  list-style: none;  text-align: left;  padding: 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {  display: inline-block;  *display: inline;  *zoom: 1;  padding: 3px 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {  background-color: #f1f1f1;}@font-face {  font-family: \'w-e-icon\';  src: url(data:application/x-font-woff;charset=utf-8;base64,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) format(\'truetype\');  font-weight: normal;  font-style: normal;}[class^="w-e-icon-"],[class*=" w-e-icon-"] {  /* use !important to prevent issues with browser extensions that change fonts */  font-family: \'w-e-icon\' !important;  speak: none;  font-style: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  line-height: 1;  /* Better Font Rendering =========== */  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;}.w-e-icon-close:before {  content: "\\f00d";}.w-e-icon-upload2:before {  content: "\\e9c6";}.w-e-icon-trash-o:before {  content: "\\f014";}.w-e-icon-header:before {  content: "\\f1dc";}.w-e-icon-pencil2:before {  content: "\\e906";}.w-e-icon-paint-brush:before {  content: "\\f1fc";}.w-e-icon-image:before {  content: "\\e90d";}.w-e-icon-play:before {  content: "\\e912";}.w-e-icon-location:before {  content: "\\e947";}.w-e-icon-undo:before {  content: "\\e965";}.w-e-icon-redo:before {  content: "\\e966";}.w-e-icon-quotes-left:before {  content: "\\e977";}.w-e-icon-list-numbered:before {  content: "\\e9b9";}.w-e-icon-list2:before {  content: "\\e9bb";}.w-e-icon-link:before {  content: "\\e9cb";}.w-e-icon-happy:before {  content: "\\e9df";}.w-e-icon-bold:before {  content: "\\ea62";}.w-e-icon-underline:before {  content: "\\ea63";}.w-e-icon-italic:before {  content: "\\ea64";}.w-e-icon-strikethrough:before {  content: "\\ea65";}.w-e-icon-table2:before {  content: "\\ea71";}.w-e-icon-paragraph-left:before {  content: "\\ea77";}.w-e-icon-paragraph-center:before {  content: "\\ea78";}.w-e-icon-paragraph-right:before {  content: "\\ea79";}.w-e-icon-terminal:before {  content: "\\f120";}.w-e-icon-page-break:before {  content: "\\ea68";}.w-e-icon-cancel-circle:before {  content: "\\ea0d";}.w-e-icon-font:before {  content: "\\ea5c";}.w-e-icon-text-heigh:before {  content: "\\ea5f";}.w-e-toolbar {  display: -webkit-box;  display: -ms-flexbox;  display: flex;  padding: 0 5px;  /* flex-wrap: wrap; */  /* Âçï‰∏™ËèúÂçï */}.w-e-toolbar .w-e-menu {  position: relative;  text-align: center;  padding: 5px 10px;  cursor: pointer;}.w-e-toolbar .w-e-menu i {  color: #999;}.w-e-toolbar .w-e-menu:hover i {  color: #333;}.w-e-toolbar .w-e-active i {  color: #1e88e5;}.w-e-toolbar .w-e-active:hover i {  color: #1e88e5;}.w-e-text-container .w-e-panel-container {  position: absolute;  top: 0;  left: 50%;  border: 1px solid #ccc;  border-top: 0;  box-shadow: 1px 1px 2px #ccc;  color: #333;  background-color: #fff;  /* ‰∏∫ emotion panel ÂÆöÂà∂ÁöÑÊ†∑Âºè */  /* ‰∏ä‰º†ÂõæÁâáÁöÑ panel ÂÆöÂà∂Ê†∑Âºè */}.w-e-text-container .w-e-panel-container .w-e-panel-close {  position: absolute;  right: 0;  top: 0;  padding: 5px;  margin: 2px 5px 0 0;  cursor: pointer;  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-close:hover {  color: #333;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title {  list-style: none;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  font-size: 14px;  margin: 2px 10px 0 10px;  border-bottom: 1px solid #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-item {  padding: 3px 5px;  color: #999;  cursor: pointer;  margin: 0 3px;  position: relative;  top: 1px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-active {  color: #333;  border-bottom: 1px solid #333;  cursor: default;  font-weight: 700;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content {  padding: 10px 15px 10px 15px;  font-size: 16px;  /* ËæìÂÖ•Ê°ÜÁöÑÊ†∑Âºè */  /* ÊåâÈíÆÁöÑÊ†∑Âºè */}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content button:focus {  outline: none;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea {  width: 100%;  border: 1px solid #ccc;  padding: 5px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus {  border-color: #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text] {  border: none;  border-bottom: 1px solid #ccc;  font-size: 14px;  height: 20px;  color: #333;  text-align: left;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].small {  width: 30px;  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].block {  display: block;  width: 100%;  margin: 10px 0;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {  border-bottom: 2px solid #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {  font-size: 14px;  color: #1e88e5;  border: none;  padding: 5px 10px;  background-color: #fff;  cursor: pointer;  border-radius: 3px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {  float: left;  margin-right: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {  float: right;  margin-left: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {  color: #c24f4a;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {  background-color: #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {  content: "";  display: table;  clear: both;}.w-e-text-container .w-e-panel-container .w-e-emoticon-container .w-e-item {  cursor: pointer;  font-size: 18px;  padding: 0 3px;  display: inline-block;  *display: inline;  *zoom: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container {  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn {  display: inline-block;  *display: inline;  *zoom: 1;  color: #999;  cursor: pointer;  font-size: 60px;  line-height: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover {  color: #333;}.w-e-text-container {  position: relative;}.w-e-text-container .w-e-progress {  position: absolute;  background-color: #1e88e5;  bottom: 0;  left: 0;  height: 1px;}.w-e-text {  padding: 0 10px;  overflow-y: scroll;}.w-e-text p,.w-e-text h1,.w-e-text h2,.w-e-text h3,.w-e-text h4,.w-e-text h5,.w-e-text table,.w-e-text pre {  margin: 10px 0;  line-height: 1.5;}.w-e-text ul,.w-e-text ol {  margin: 10px 0 10px 20px;}.w-e-text blockquote {  display: block;  border-left: 8px solid #d0e5f2;  padding: 5px 10px;  margin: 10px 0;  line-height: 1.4;  font-size: 100%;  background-color: #f1f1f1;}.w-e-text code {  display: inline-block;  *display: inline;  *zoom: 1;  background-color: #f1f1f1;  border-radius: 3px;  padding: 3px 5px;  margin: 0 3px;}.w-e-text pre code {  display: block;}.w-e-text table {  border-top: 1px solid #ccc;  border-left: 1px solid #ccc;}.w-e-text table td,.w-e-text table th {  border-bottom: 1px solid #ccc;  border-right: 1px solid #ccc;  padding: 3px 5px;}.w-e-text table th {  border-bottom: 2px solid #ccc;  text-align: center;}.w-e-text:focus {  outline: none;}.w-e-text img {  cursor: pointer;}.w-e-text img:hover {  box-shadow: 0 0 5px #333;}',et=document.createElement("style");et.type="text/css",et.innerHTML=tt,document.getElementsByTagName("HEAD").item(0).appendChild(et);var it=window.wangEditor||Z;return it})},"20d6":function(t,e,i){"use strict";var n=i("5ca1"),s=i("0a49")(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),n(n.P+n.F*o,"Array",{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(a)},d077:function(t,e,i){},d0e1:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a-modal",{staticClass:"task-detail-modal",attrs:{width:"min-content",closable:!1,visible:"",title:"",footer:null},on:{cancel:t.detailClose}},[i("task-detail",{attrs:{taskCode:t.code},on:{close:t.detailClose}})],1)},s=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"task-detail"},[i("a-spin",{staticClass:"task-detail-spin",attrs:{spinning:t.loading}},[i("div",{staticClass:"task-header",class:{disabled:t.task.deleted}},[t.task.deleted?i("span",{staticClass:"head-title muted"},[i("a-icon",{attrs:{type:"delete"}}),t._v("¬†\n                    "),i("span",[t._v("‰ªªÂä°Â∑≤Âú®ÂõûÊî∂Á´ô‰∏≠Ôºå‰∏çÂèØ‰øÆÊîπ")])],1):i("span",{staticClass:"head-title"},[t.task.parentTask?i("span",[i("span",{staticClass:"muted"},[t._v("Â±û‰∫é‰ªªÂä°Ôºö")]),i("a",{staticClass:"text-default",on:{click:function(e){t.init(t.task.pcode)}}},[t._v(t._s(t.task.parentTask.name))])]):i("span",[t._v(t._s(t.task.projectName)+" ¬∑ "+t._s(t.task.stageName))])]),i("span",{staticClass:"header-action text-right"},[t.task.deleted?[i("a",{staticClass:"action-item muted",on:{click:t.recoveryTask}},[i("a-icon",{attrs:{type:"undo"}}),i("span",[t._v("ÊÅ¢Â§çÂÜÖÂÆπ")])],1),i("a",{staticClass:"action-item muted",on:{click:t.deleteTask}},[i("a-icon",{attrs:{type:"delete"}}),i("span",[t._v("ÂΩªÂ∫ïÂà†Èô§")])],1)]:[i("a-tooltip",{attrs:{mouseEnterDelay:.5}},[i("template",{slot:"title"},[i("span",[t._v("Â§çÂà∂‰ªªÂä°ÈìæÊé•")])]),i("a",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.taskLink,expression:"taskLink"}],staticClass:"action-item muted",on:{success:t.copyLink}},[i("a-icon",{attrs:{type:"link"}})],1)],2),i("a-tooltip",{attrs:{mouseEnterDelay:.5}},[i("template",{slot:"title"},[i("span",[t._v("ÁÇπ‰∏™Ëµû")])]),i("a",{staticClass:"action-item muted",class:{active:t.task.liked},on:{click:function(e){t.like(!t.task.liked)}}},[i("a-icon",{attrs:{type:"like"}}),i("span",{directives:[{name:"show",rawName:"v-show",value:t.task.like,expression:"task.like"}]},[t._v(t._s(t.task.like))])],1)],2),i("a-dropdown",{attrs:{trigger:["click"],placement:"bottomCenter"},model:{value:t.visibleTaskMenu,callback:function(e){t.visibleTaskMenu=e},expression:"visibleTaskMenu"}},[i("a-tooltip",{attrs:{mouseEnterDelay:.5}},[i("template",{slot:"title"},[i("span",[t._v("ÊâìÂºÄËèúÂçï")])]),i("a",{staticClass:"action-item muted"},[i("a-icon",{attrs:{type:"ellipsis"}})],1)],2),i("a-menu",{staticClass:"field-right-menu",attrs:{slot:"overlay"},on:{click:t.doTask},slot:"overlay"},[i("a-menu-item",{key:"copy"},[i("a-icon",{attrs:{type:"copy"}}),i("span",[t._v("Â§çÂà∂‰ªªÂä° *")])],1),i("a-menu-item",{key:"move"},[i("a-icon",{attrs:{type:"snippets"}}),i("span",[t._v("ÁßªÂä®‰ªªÂä° *")])],1),i("a-menu-item",{key:"star"},[i("a-icon",{attrs:{type:"star"}}),t.task.stared?i("span",[t._v("ÂèñÊ∂àÊî∂Ëóè")]):i("span",[t._v("Êî∂Ëóè‰ªªÂä°")])],1),i("a-menu-item",{key:"recycle"},[i("a-icon",{attrs:{type:"delete"}}),i("span",[t._v("ÁßªÂà∞ÂõûÊî∂Á´ô")])],1),i("a-menu-item",{key:"open"},[i("a-icon",{attrs:{type:"book"}}),i("span",[t._v("‰ª•Êñ∞Ê†áÁ≠æÈ°µÊâìÂºÄ")])],1),i("a-menu-divider"),i("a-menu-item",{key:"lock"},[i("a-icon",{attrs:{type:t.task.private?"lock":"unlock"}}),i("span",[t._v("ÈöêÁßÅÊ®°Âºè")]),i("a",{staticClass:"menu-action text-primary"},[t.task.private?i("span",[t._v("Â∑≤ÂºÄÂêØ")]):i("span",[t._v("Â∑≤ÂÖ≥Èó≠")])]),i("div",{staticClass:"menu-desc muted"},[t.task.private?i("span",[t._v("‰ªÖÂèÇ‰∏éËÄÖÂèØËßÅ")]):i("span",[t._v("ÊâÄÊúâÊàêÂëòÂèØËßÅ")])])],1)],1)],1)],i("a-tooltip",{attrs:{mouseEnterDelay:.5}},[i("template",{slot:"title"},[i("span",[t._v("ÂÖ≥Èó≠Èù¢Êùø")])]),i("a",{staticClass:"action-item muted",on:{click:t.detailClose}},[i("a-icon",{attrs:{type:"close"}})],1)],2)],2)]),i("div",{staticClass:"task-wrap"},[i("div",{staticClass:"task-content"},[i("div",{staticClass:"content-left"},[i("vue-scroll",{attrs:{ops:t.scrollOps}},[i("div",{staticClass:"task-title",class:{disabled:t.task.deleted}},[i("a-input",{directives:[{name:"show",rawName:"v-show",value:t.showEditName,expression:"showEditName"}],ref:"inputTitle",attrs:{"auto-focus":"",size:"large"},on:{blur:t.doName},model:{value:t.task.name,callback:function(e){t.$set(t.task,"name",e)},expression:"task.name"}}),t.task.deleted?i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showEditName,expression:"!showEditName"}],staticClass:"title-text"},[t._v("\n                                "+t._s(t.task.name)+"\n                            ")]):i("a-tooltip",{attrs:{mouseEnterDelay:.5}},[i("template",{slot:"title"},[i("span",[t._v("ÁÇπÂáªÂç≥ÂèØÁºñËæë")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showEditName,expression:"!showEditName"}],staticClass:"title-text",on:{click:t.editTitle}},[t._v("\n                                    "+t._s(t.task.name)+"\n                                ")])],2)],1),i("div",{staticClass:"task-basic-attrs-view muted"},[i("div",{staticClass:"field-list",class:{disabled:t.task.deleted}},[i("div",{staticClass:"component-mount"},[i("div",{staticClass:"field"},[i("div",{staticClass:"field-left"},[i("a-icon",{attrs:{type:"check-square"}}),i("span",{staticClass:"field-name"},[t._v("Áä∂ÊÄÅ")])],1),i("div",{staticClass:"field-right"},[i("a-dropdown",{attrs:{trigger:["click"],disabled:!!t.task.deleted}},[i("span",[t.task.done?i("a-tag",{attrs:{color:"green"}},[t._v("Â∑≤ÂÆåÊàê")]):t._e(),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.task.done,expression:"!task.done"}]},[t._v("Êú™ÂÆåÊàê")])],1),i("a-menu",{staticClass:"field-right-menu",attrs:{slot:"overlay",selectable:!1},on:{click:function(e){t.taskDone(t.task.code,!t.task.done)}},slot:"overlay"},[i("a-menu-item",{key:"done"},[i("div",{staticClass:"menu-item-content"},[i("a-tag",{attrs:{color:"green"}},[t._v("Â∑≤ÂÆåÊàê")]),i("a-icon",{directives:[{name:"show",rawName:"v-show",value:t.task.done,expression:"task.done"}],staticClass:"check muted",attrs:{type:"check"}})],1)]),i("a-menu-item",{key:"undone"},[i("div",{staticClass:"menu-item-content"},[i("a-tag",{attrs:{color:"grey"}},[t._v("Êú™ÂÆåÊàê")]),i("a-icon",{directives:[{name:"show",rawName:"v-show",value:!t.task.done,expression:"!task.done"}],staticClass:"check muted",attrs:{type:"check"}})],1)])],1)],1)],1)])]),i("div",{staticClass:"component-mount"},[i("div",{staticClass:"field"},[i("div",{staticClass:"field-left"},[i("a-icon",{attrs:{type:"user"}}),i("span",{staticClass:"field-name"},[t._v("ÊâßË°åËÄÖ")])],1),i("div",{staticClass:"field-right"},[i("a-dropdown",{attrs:{trigger:["click"],disabled:!!t.task.deleted,placement:"bottomCenter"},model:{value:t.visibleTaskMemberMenu,callback:function(e){t.visibleTaskMemberMenu=e},expression:"visibleTaskMemberMenu"}},[t.task.deleted?i("div",{staticClass:"field-flex"},[t.task.executor?[i("a-avatar",{attrs:{src:t.task.executor.avatar,icon:"user",size:"small"}}),i("a",{staticClass:"muted name"},[t._v(t._s(t.task.executor.name))])]:t._e(),t.task.executor?t._e():[i("a-avatar",{attrs:{icon:"user",size:"small"}}),i("a",{staticClass:"muted name"},[t._v("ÂæÖËÆ§È¢Ü")])]],2):i("a-tooltip",{attrs:{mouseEnterDelay:.5}},[i("template",{slot:"title"},[i("span",[t._v("ÁÇπÂáªËÆæÁΩÆÊâßË°åËÄÖ")])]),i("div",{staticClass:"field-flex"},[t.task.executor?[i("a-avatar",{attrs:{src:t.task.executor.avatar,icon:"user",size:"small"}}),i("a",{staticClass:"muted name"},[t._v(t._s(t.task.executor.name))])]:t._e(),t.task.executor?t._e():[i("a-avatar",{attrs:{icon:"user",size:"small"}}),i("a",{staticClass:"muted name"},[t._v("ÂæÖËÆ§È¢Ü")])]],2)],2),i("div",{attrs:{slot:"overlay"},slot:"overlay"},[t.visibleTaskMemberMenu?i("task-member-menu",{attrs:{projectCode:t.projectCodeCurrent,taskCode:t.code},on:{close:function(e){t.init(!1)},inviteProjectMember:function(e){t.showInviteMember=!0,t.visibleTaskMemberMenu=!1}}}):t._e()],1)],1)],1)])]),i("div",{staticClass:"component-mount"},[i("div",{staticClass:"field"},[i("div",{staticClass:"field-left"},[i("a-icon",{attrs:{type:"calendar"}}),i("span",{staticClass:"field-name"},[t._v("Êó∂Èó¥")])],1),i("div",{staticClass:"field-right"},[i("a-dropdown",{attrs:{trigger:["click"],disabled:!!t.task.deleted},model:{value:t.showEndTime,callback:function(e){t.showEndTime=e},expression:"showEndTime"}},[t.task.deleted?i("div",{staticClass:"field-flex"},[i("a",{staticClass:"muted name",staticStyle:{margin:"0"}},[t.task.setEndTime?[t._v(t._s(t.task.end_time_format))]:[t._v("ËÆæÁΩÆÊà™Ê≠¢Êó∂Èó¥")]],2)]):i("a-tooltip",{attrs:{mouseEnterDelay:.5}},[i("template",{slot:"title"},[i("span",[t._v("ÁÇπÂáªËÆæÁΩÆÊà™Ê≠¢Êó∂Èó¥")])]),i("div",{staticClass:"field-flex"},[i("a",{staticClass:"muted name",staticStyle:{margin:"0"}},[t.task.setEndTime?[t._v(t._s(t.task.end_time_format))]:[t._v("ËÆæÁΩÆÊà™Ê≠¢Êó∂Èó¥")]],2)])],2),i("div",{attrs:{slot:"overlay"},slot:"overlay"},[i("a-date-picker",{attrs:{size:"small",format:"MMÊúàDDÊó• HH:mm",showTime:"",allowClear:"",showToday:!1,open:t.showEndTime},on:{ok:function(e){t.doEndTime(!0)}},model:{value:t.task.end_time,callback:function(e){t.$set(t.task,"end_time",e)},expression:"task.end_time"}},[i("template",{slot:"renderExtraFooter"},[i("a",{staticStyle:{position:"absolute"},attrs:{size:"small"},on:{click:function(e){t.doEndTime(!1)}}},[t._v("Ê∏ÖÈô§")])])],2)],1)],1)],1)])]),i("div",{staticClass:"component-mount"},[i("div",{staticClass:"field"},[i("div",{staticClass:"field-left"},[i("a-icon",{attrs:{type:"file-text"}}),i("span",{staticClass:"field-name"},[t._v("Â§áÊ≥®")])],1),i("div",{staticClass:"field-right width-block"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showTaskDescriptionEdit,expression:"!showTaskDescriptionEdit"}],staticClass:"task-description",class:{disabled:t.task.deleted},on:{click:t.showTaskDesc}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.task.description,expression:"task.description"}],staticClass:"description-txt",domProps:{innerHTML:t._s(t.task.description)}}),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.task.description,expression:"!task.description"}]},[t._v("Ê∑ªÂä†Â§áÊ≥®")])]),t.hasMoreDesc?i("div",{staticClass:"m-t-sm"},[i("a",{directives:[{name:"show",rawName:"v-show",value:!t.showMoreDesc,expression:"!showMoreDesc"}],on:{click:function(e){t.checkShowMoreDesc(!0)}}},[t._v("ÊòæÁ§∫Êõ¥Â§ö")]),i("a",{directives:[{name:"show",rawName:"v-show",value:t.showMoreDesc,expression:"showMoreDesc"}],on:{click:function(e){t.checkShowMoreDesc(!1)}}},[t._v("Êî∂Ëµ∑Â§áÊ≥®")])]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showTaskDescriptionEdit,expression:"showTaskDescriptionEdit"}]},[i("editor",{ref:"vueWangeditor",attrs:{id:"editor",uploadImgServer:t.editorConfig.uploadImgServer,uploadImgHeaders:t.editorConfig.uploadImgHeaders,menus:t.editorConfig.menus}}),i("div",{staticClass:"action-btn pull-right"},[i("a",{staticClass:"cancel-text muted",attrs:{type:"text"},on:{click:function(e){t.showTaskDescriptionEdit=!1,t.initContent(!1)}}},[t._v("\n                                                        ÂèñÊ∂à\n                                                    ")]),i("a-button",{staticClass:"middle-btn",attrs:{type:"primary",htmlType:"submit"},on:{click:t.doContent}},[t._v("‰øùÂ≠ò\n                                                    ")])],1)],1)])])]),i("div",{staticClass:"component-mount"},[i("div",{staticClass:"field"},[i("div",{staticClass:"field-left"},[i("a-icon",{attrs:{type:"bulb"}}),i("span",{staticClass:"field-name"},[t._v("‰ºòÂÖàÁ∫ß")])],1),i("div",{staticClass:"field-right"},[i("a-dropdown",{attrs:{trigger:["click"],disabled:!!t.task.deleted}},[i("span",[i("a-tag",{attrs:{color:t.priColor(t.task.pri)}},[t._v(t._s(t.task.priText))])],1),i("a-menu",{staticClass:"field-right-menu",attrs:{slot:"overlay",selectable:!1},on:{click:t.doPri},slot:"overlay"},[i("a-menu-item",{key:0},[i("div",{staticClass:"menu-item-content"},[i("a-tag",{attrs:{color:t.priColor(0)}},[t._v("ÊôÆÈÄö")]),i("a-icon",{directives:[{name:"show",rawName:"v-show",value:0==t.task.pri,expression:"task.pri == 0"}],staticClass:"check muted",attrs:{type:"check"}})],1)]),i("a-menu-item",{key:1},[i("div",{staticClass:"menu-item-content"},[i("a-tag",{attrs:{color:t.priColor(1)}},[t._v("Á¥ßÊÄ•")]),i("a-icon",{directives:[{name:"show",rawName:"v-show",value:1==t.task.pri,expression:"task.pri == 1"}],staticClass:"check muted",attrs:{type:"check"}})],1)]),i("a-menu-item",{key:2},[i("div",{staticClass:"menu-item-content"},[i("a-tag",{attrs:{color:t.priColor(2)}},[t._v("ÈùûÂ∏∏Á¥ßÊÄ•")]),i("a-icon",{directives:[{name:"show",rawName:"v-show",value:2==t.task.pri,expression:"task.pri == 2"}],staticClass:"check muted",attrs:{type:"check"}})],1)])],1)],1)],1)])]),i("div",{staticClass:"component-mount"},[i("div",{staticClass:"field"},[i("div",{staticClass:"field-left"},[i("a-icon",{attrs:{type:"bars"}}),i("span",{staticClass:"field-name"},[t._v("Â≠ê‰ªªÂä° "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.childTaskList.length,expression:"childTaskList.length"}]},[t._v(" ¬∑ "+t._s(t.childTaskDoneNum)+"/"+t._s(t.childTaskList.length))])])],1),i("div",{staticClass:"field-right width-block"})])]),i("div",{staticClass:"component-mount"},[i("div",{staticClass:"field"},[i("div",{staticClass:"block-field width-block"},[i("div",{staticClass:"task-child"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.childTaskList.length,expression:"childTaskList.length"}],staticClass:"task-list"},t._l([0,1],function(e){return i("div",{key:e},t._l(t.childTaskList,function(n,s){return i("div",{key:n.code},[n.done==e?i("div",{staticClass:"list-item task"},[i("a",{staticClass:"task-item check-box",class:{disabled:t.task.deleted},on:{click:function(){if(t.task.deleted)return!1;t.taskDone(n.code,!n.done,s,"child")}}},[i("a-icon",{directives:[{name:"show",rawName:"v-show",value:n.done,expression:"childTask.done"}],attrs:{type:"check"}})],1),i("a-tooltip",{attrs:{mouseEnterDelay:.5}},[i("template",{slot:"title"},[n.executor?i("span",[t._v(t._s(n.executor.name))]):i("span",[t._v("ÂæÖËÆ§È¢Ü")])]),n.executor?i("a-avatar",{staticClass:"task-item",class:{disabled:t.task.deleted},attrs:{size:"small",icon:"user",src:n.executor.avatar}}):i("a-avatar",{staticClass:"task-item",class:{disabled:t.task.deleted},attrs:{size:"small",icon:"user"}})],2),i("div",{staticClass:"task-item task-title",on:{click:function(e){t.init(n.code)}}},[i("div",{staticClass:"title-text",class:{done:n.done}},[t._v("\n                                                                        "+t._s(n.name)+"\n                                                                    ")])]),i("a",{staticClass:"muted",on:{click:function(e){t.init(n.code)}}},[i("a-icon",{staticClass:"task-item",attrs:{type:"right"}})],1)],1):t._e()])}),0)}),0),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showChildTask,expression:"showChildTask"}],staticClass:"task-list"},[i("div",{staticClass:"add-task"},[i("div",{staticClass:"list-item task"},[i("span",{staticClass:"task-item check-box"}),i("a-dropdown",{attrs:{trigger:["click"],disabled:!!t.task.deleted,placement:"bottomCenter"},model:{value:t.visibleChildTaskMemberMenu,callback:function(e){t.visibleChildTaskMemberMenu=e},expression:"visibleChildTaskMemberMenu"}},[i("a-tooltip",{attrs:{mouseEnterDelay:.5}},[i("template",{slot:"title"},[t.childExecutor?i("span",[t._v(t._s(t.childExecutor.name))]):i("span",[t._v("ÂæÖËÆ§È¢Ü")])]),i("div",{staticClass:"field-flex"},[t.childExecutor?[i("a-avatar",{staticClass:"task-item",attrs:{src:t.childExecutor.avatar,icon:"user",size:"small"}})]:t._e(),t.childExecutor?t._e():[i("a-avatar",{staticClass:"task-item",attrs:{icon:"user",size:"small"}})]],2)],2),i("div",{attrs:{slot:"overlay"},slot:"overlay"},[t.visibleChildTaskMemberMenu?i("task-member-menu",{attrs:{projectCode:t.projectCodeCurrent,taskCode:t.childExecutor?t.code:"",isCommit:!1},on:{close:t.updateChildExecutor,inviteProjectMember:function(e){t.showInviteChildTaskMember=!0,t.visibleChildTaskMemberMenu=!1}}}):t._e()],1)],1),i("div",{staticClass:"task-item task-input"},[i("a-input",{on:{pressEnter:t.createTask},model:{value:t.childTaskName,callback:function(e){t.childTaskName=e},expression:"childTaskName"}})],1)],1),i("div",{staticClass:"action-btn text-right"},[i("a",{staticClass:"cancel-text muted",attrs:{type:"text"},on:{click:function(e){t.showChildTask=!1}}},[t._v("ÂèñÊ∂à")]),i("a-button",{staticClass:"middle-btn",attrs:{type:"primary",htmlType:"submit"},on:{click:t.createTask}},[t._v("‰øùÂ≠ò\n                                                            ")])],1)])]),i("a",{directives:[{name:"show",rawName:"v-show",value:!t.showChildTask,expression:"!showChildTask"}],staticClass:"add-handler",on:{click:function(){if(t.task.deleted)return!1;t.showChildTask=!0}}},[i("a-icon",{staticStyle:{"margin-right":"6px"},attrs:{type:"plus"}}),t._v("\n                                                    Ê∑ªÂä†Â≠ê‰ªªÂä°\n                                                ")],1)])])])]),i("div",{staticClass:"component-mount"},[i("div",{staticClass:"field"},[i("div",{staticClass:"field-left"},[i("a-icon",{attrs:{type:"paper-clip"}}),i("span",{staticClass:"field-name"},[t._v("ÂÖ≥ËÅîÊñá‰ª∂")])],1),i("div",{staticClass:"field-right width-block"})])]),i("div",{staticClass:"component-mount"},[i("div",{staticClass:"field"},[i("div",{staticClass:"block-field width-block"},[i("div",{staticClass:"task-child"},[i("a",{directives:[{name:"show",rawName:"v-show",value:!t.showChildTask,expression:"!showChildTask"}],staticClass:"add-handler",attrs:{id:"upload-file"}},[i("a-icon",{staticStyle:{"margin-right":"6px"},attrs:{type:"plus"}}),t._v("\n                                                    ‰∏ä‰º†Êñá‰ª∂\n                                                ")],1)])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.taskSourceList.length>0,expression:"taskSourceList.length > 0"}],staticClass:"component-mount"},[i("div",{staticClass:"field"},[i("div",{staticClass:"block-field width-block"},[i("div",{staticClass:"file-list"},[i("div",{staticClass:"m-xs m-t-none"},[t._v("ÂÖ≥ËÅîÁöÑÊñá‰ª∂")]),i("a-list",t._l(t.taskSourceList,function(e,n){return i("a-list-item",{key:n},[i("a-list-item-meta",[i("a-avatar",{attrs:{slot:"avatar",size:"small",shape:"square",icon:"link",src:e.sourceDetail.file_url},slot:"avatar"}),i("div",{attrs:{slot:"title"},slot:"title"},[i("span",[t._v(t._s(e.title))])]),i("div",{attrs:{slot:"description"},slot:"description"})],1),i("a",{staticClass:"muted",attrs:{slot:"actions"},slot:"actions"},[i("span",[t._v(t._s(e.sourceDetail.projectName))])]),i("a",{staticClass:"muted",attrs:{slot:"actions"},slot:"actions"},[i("a-dropdown",{attrs:{trigger:["click"],placement:"bottomCenter"}},[i("a",{staticClass:"action-item muted"},[i("a-icon",{attrs:{type:"down"}})],1),i("a-menu",{staticClass:"field-right-menu",attrs:{slot:"overlay"},on:{click:function(i){t.doSource(i,e.code)}},slot:"overlay"},[i("a-menu-item",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.sourceDetail.file_url,expression:"item.sourceDetail.file_url"}],key:"copy"},[i("a-icon",{attrs:{type:"link"}}),i("span",[t._v("Â§çÂà∂ÈìæÊé•")])],1),i("a-menu-item",{key:"unlink"},[i("a-icon",{attrs:{type:"disconnect"}}),i("span",[t._v("ÂèñÊ∂àÂÖ≥ËÅî")])],1)],1)],1)],1)],1)}),1)],1)])])])])])])],1),i("div",{staticClass:"content-right"},[i("div",{staticClass:"header"},[i("div",{staticClass:"title"},[t._v("\n                            ÂèÇ‰∏éËÄÖ ¬∑ "+t._s(t.taskMemberList.length)+"\n                        ")]),i("div",{staticClass:"member-list"},[t._l(t.taskMemberList,function(e){return i("a-tooltip",{key:e.code,attrs:{mouseEnterDelay:.5}},[i("template",{slot:"title"},[i("span",[t._v(t._s(e.name)+" "),e.is_owner?i("span",[t._v(" ¬∑ ÂàõÂª∫ËÄÖ")]):t._e()])]),i("a-avatar",{staticClass:"member-item",attrs:{icon:"user",size:"small",src:e.avatar}})],2)}),i("a-dropdown",{attrs:{trigger:["click"],placement:"bottomCenter"},model:{value:t.visibleProjectMemberMenu,callback:function(e){t.visibleProjectMemberMenu=e},expression:"visibleProjectMemberMenu"}},[i("a-tooltip",{attrs:{mouseEnterDelay:.5}},[i("template",{slot:"title"},[i("span",[t._v("ÁÇπÂáªÊ∑ªÂä†ÂèÇ‰∏éËÄÖ")])]),i("a-icon",{staticClass:"member-item invite",staticStyle:{"font-size":"24px"},attrs:{type:"plus-circle",theme:"twoTone"}})],2),i("div",{attrs:{slot:"overlay"},slot:"overlay"},[t.visibleProjectMemberMenu?i("project-member-menu",{attrs:{taskCode:t.code,projectCode:t.projectCodeCurrent},on:{close:function(e){t.init(!1)},inviteProjectMember:function(e){t.showInviteMember=!0,t.visibleProjectMemberMenu=!1}}}):t._e()],1)],1)],2)]),i("div",{staticClass:"log-wrap"},[i("div",{staticClass:"header"},[i("a-dropdown",{attrs:{trigger:["click"]}},[i("a",{staticClass:"text-default"},[t._v("\n                                    ÊâÄÊúâÂä®ÊÄÅ\n                                    "),i("a-icon",{attrs:{type:"down"}})],1),i("a-menu",{staticClass:"field-right-menu",attrs:{slot:"overlay",selectable:""},slot:"overlay",model:{value:t.taskLogType,callback:function(e){t.taskLogType=e},expression:"taskLogType"}},[i("a-menu-item",{key:"all"},[i("div",{staticClass:"menu-item-content"},[i("span",[t._v("ÊâÄÊúâÂä®ÊÄÅ")])])]),i("a-menu-item",{key:"comment"},[i("div",{staticClass:"menu-item-content"},[i("span",[t._v("‰ªÖËØÑËÆ∫")])])]),i("a-menu-item",{key:"log"},[i("div",{staticClass:"menu-item-content"},[i("span",[t._v("‰ªÖÂä®ÊÄÅ")])])])],1)],1)],1),i("vue-scroll",[i("div",{staticClass:"log-list muted"},[i("a",{directives:[{name:"show",rawName:"v-show",value:t.checkShowMoreLog,expression:"checkShowMoreLog"}],staticClass:"show-more muted",on:{click:t.getMoreTaskLog}},[i("a-icon",{attrs:{type:"ellipsis"}}),t._v("\n                                    ÊòæÁ§∫ËæÉÊó©ÁöÑ "+t._s(t.taskLogTotal-t.taskLogList.length)+" Êù°Âä®ÊÄÅ\n                                ")],1),t._l(t.taskLogList,function(e){return i("div",{key:e.code,staticClass:"list-item",class:{"log-comment":e.is_comment}},[e.is_comment?t._e():[i("a-icon",{staticClass:"log-item",attrs:{type:e.icon}}),i("div",{staticClass:"log-item log-txt"},[i("div",[t._v(t._s(e.member.name)+" "),i("span",{domProps:{innerHTML:t._s(e.remark)}})]),e.content?i("div",{staticClass:"log-content",domProps:{innerHTML:t._s(e.content)}}):t._e()])],e.is_comment?[i("a-avatar",{staticClass:"log-item",attrs:{src:e.member.avatar}}),i("div",{staticClass:"log-item log-txt text-default"},[i("div",[t._v(t._s(e.member.name))]),i("div",{staticClass:"m-t-xs",domProps:{innerHTML:t._s(e.content)}})])]:t._e(),i("a-tooltip",{attrs:{mouseEnterDelay:.5}},[i("template",{slot:"title"},[i("span",[t._v(t._s(e.create_time))])]),i("span",{staticClass:"log-item"},[t._v(t._s(t._f("formatLogTime")(e.create_time)))])],2)],2)})],2)])],1),i("div",{staticClass:"footer"},[i("a-textarea",{staticStyle:{"margin-right":"24px"},attrs:{rows:1,placeholder:"Êåâ Ctrl+Enter Âø´ÈÄüÂèëË°®ËØÑËÆ∫"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),i("a-button",{staticClass:"middle-btn",attrs:{type:"primary"},on:{click:t.createComment}},[t._v("ËØÑËÆ∫")])],1)])])])]),t.showInviteMember?i("invite-project-member",{attrs:{"project-code":t.projectCodeCurrent},model:{value:t.showInviteMember,callback:function(e){t.showInviteMember=e},expression:"showInviteMember"}}):t._e()],1)},o=[],r=i("795b"),c=i.n(r),l=(i("7f7f"),i("20d6"),i("cebc")),d=(i("c5f6"),i("2f62")),A=i("1157"),u=i.n(A),h=i("c1df"),m=i.n(h),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:t.styleObject},[i("div",{ref:"editor",style:t.styleObject,attrs:{id:t.id}})])},f=[],v=(i("28a5"),i("a481"),i("ac6a"),i("1a0b")),g=i.n(v),w=i("2ef0"),k=i.n(w),C={name:"editor",props:["id","value","width","height","uploadImgServer","disabled","menus","mapKey","menuFixed","pasteFilter","codeDefaultLang","hideLinkImg","uploadImgParams","uploadImgHeaders","isRealtime","disabledMenus","uploadFileName"],data:function(){return{styleObject:{width:"auto",height:"auto"},editor:null}},methods:{initSize:function(){this.width&&(this.styleObject.width=this.width+"px"),this.height&&(this.styleObject.height=this.height+"px")},createEditor:function(){this.editor=new g.a(document.getElementById(this.id)),this.initConfig(),this.editor.create()},initConfig:function(){this.editor.customConfig.uploadFileName=this.uploadFileName?this.uploadFileName:"image[]",this.editor.customConfig.uploadImgServer=this.uploadImgServer,this.editor.customConfig.uploadImgFileName="file",this.editor.customConfig.pasteFilter=!1,void 0!=this.mapKey&&(this.editor.customConfig.mapAk=this.mapKey),void 0!=this.menus&&this.menus instanceof Array&&this.menus.length?this.editor.customConfig.menus=this.filterMenu(this.menus):this.disabledMenus?this.editor.customConfig.menus=this.filterDisabledMenu(wangEditor.config.menus,this.disabledMenus):this.editor.customConfig.menus=this.filterMenu(wangEditor.config.menus),void 0!=this.menuFixed&&(this.editor.customConfig.menuFixed=this.menuFixed),void 0!=this.pasteFilter&&(this.editor.customConfig.pasteFilter=this.pasteFilter),void 0!=this.codeDefaultLang&&(this.editor.customConfig.codeDefaultLang=this.codeDefaultLang),void 0!=this.hideLinkImg&&(this.editor.customConfig.hideLinkImg=this.hideLinkImg),void 0!=this.uploadImgParams&&this.uploadImgParams instanceof Object&&(this.editor.customConfig.uploadImgParams=this.uploadImgParams),void 0!=this.uploadImgHeaders&&this.uploadImgHeaders instanceof Object&&(this.editor.customConfig.uploadImgHeaders=this.uploadImgHeaders),this.value&&this.setHtml(this.value),this.disabled&&this.disable(),this.listenChange()},filterMenu:function(t){return k.a.map(t,function(t,e){return"source"===t?null:t})},filterDisabledMenu:function(t,e){var i=t.join(",");return k()(e).forEach(function(t){i=i.replace(t,"").replace(",,",",")}),i.length&&","==i[0]&&i.substr(1,i.length),i.split(",")},insertImg:function(t){this.editor.command(null,"insertHtml","<img src="+t+' style="max-width:100%;"/>')},getHtml:function(){return this.editor.txt.html()},getText:function(){return this.editor.txt.text()},setHtml:function(t){this.editor.txt.html(t)},appendHtml:function(t){this.editor.txt.append(t)},clear:function(){this.editor.clear()},enable:function(){this.editor.enable()},disable:function(){this.editor.disable()},destroy:function(){this.editor.destroy()},undestroy:function(){this.editor.undestroy()},listenChange:function(){var t=this;this.editor.onchange=function(){t.$emit("change");var e="";t.getText()||(e=t.getHtml()),!1!==t.isRealtime&&t.$emit("input",e)}}},mounted:function(){var t=this;this.initSize(),setTimeout(function(){t.createEditor()},100)}},b=C,y=i("2877"),E=Object(y["a"])(b,p,f,!1,null,null,null);E.options.__file="editor.vue";var x=E.exports,_=i("b199"),B=i("22b6");function M(t){return B["a"].post("project/source_link/delete",{sourceCode:t})}function I(t){return B["a"].post("project/task_member",t)}function T(t){return B["a"].post("project/task_member/inviteMemberBatch",t)}var Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"member-menu"},[i("a-spin",{attrs:{spinning:t.listLoading||t.doListLoading}},[i("div",{staticClass:"search-content"},[i("a-input",{attrs:{size:"large",placeholder:"ÊêúÁ¥¢"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[i("a-icon",{attrs:{slot:"prefix",type:"search"},slot:"prefix"})],1)],1),i("div",{staticClass:"member-list"},[i("vue-scroll",[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.keyword,expression:"!keyword"}],staticClass:"list-group"},[i("span",{staticClass:"title muted"},[t._v("ÊâßË°åËÄÖ")]),t.doList.length||t.doListLoading?t._e():i("div",{staticClass:"member-list-item ant-list-item",on:{click:function(e){t.assignTask(null)}}},[i("div",{staticClass:"ant-list-item-meta"},[i("div",{staticClass:"ant-list-item-meta-avatar"},[i("a-avatar",{attrs:{icon:"user"}})],1),i("div",{staticClass:"ant-list-item-meta-content"},[i("h4",{staticClass:"ant-list-item-meta-title"},[i("span",[t._v("ÂæÖËÆ§È¢Ü")])])])]),i("ul",{staticClass:"ant-list-item-action"},[i("li",[i("span",[i("a-icon",{attrs:{type:"check"}})],1)])])]),i("a-list",{directives:[{name:"show",rawName:"v-show",value:t.doList.length,expression:"doList.length"}],staticClass:"list-content",attrs:{itemLayout:"horizontal",dataSource:t.doList},scopedSlots:t._u([{key:"renderItem",fn:function(e){return i("a-list-item",{staticClass:"member-list-item"},[i("span",{attrs:{slot:"actions"},slot:"actions"},[i("a-icon",{directives:[{name:"show",rawName:"v-show",value:t.showCheck(e),expression:"showCheck(item)"}],attrs:{type:"check"}})],1),i("a-list-item-meta",[i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))]),i("a-avatar",{attrs:{slot:"avatar",icon:"user",src:e.avatar},slot:"avatar"})],1)],1)}}])})],1),i("div",{staticClass:"list-group"},[i("span",{staticClass:"title muted"},[t._v("ÂÖ∂‰ªñÊàêÂëò")]),t.doList.length?i("div",{staticClass:"member-list-item ant-list-item",on:{click:function(e){t.assignTask(null)}}},[i("div",{staticClass:"ant-list-item-meta"},[i("div",{staticClass:"ant-list-item-meta-avatar"},[i("a-avatar",{attrs:{icon:"user"}})],1),i("div",{staticClass:"ant-list-item-meta-content"},[i("h4",{staticClass:"ant-list-item-meta-title"},[i("span",[t._v("ÂæÖËÆ§È¢Ü")])])])])]):t._e(),i("a-list",{staticClass:"list-content",attrs:{itemLayout:"horizontal",dataSource:t.list,locale:{emptyText:t.keyword&&t.keyword.length>1?"ËØ•ÊàêÂëò‰∏çÂú®‰ªªÂä°ÊàêÂëòÂàóË°®‰∏≠Ôºå‰Ω†ÂèØ‰ª•ÈÇÄËØ∑‰ªñËøõÊù•":""}},scopedSlots:t._u([{key:"renderItem",fn:function(e){return t.showMember(e)?i("a-list-item",{staticClass:"member-list-item",nativeOn:{click:function(i){t.assignTask(e.code,e)}}},[i("a-list-item-meta",[i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))]),i("a-avatar",{attrs:{slot:"avatar",icon:"user",src:e.avatar},slot:"avatar"})],1)],1):t._e()}}])})],1)])],1),i("div",{staticClass:"footer"},[i("a-button",{attrs:{type:"primary",size:"large",block:""},on:{click:t.inviteProjectMember}},[t._v("ÈÇÄËØ∑Êñ∞ÊàêÂëò")])],1)])],1)},S=[],D=i("f499"),N=i.n(D),L=(i("386d"),i("9f5d")),j={name:"taskMemberMenu",props:{projectCode:{type:[String,Number],default:function(){return""}},taskCode:{type:[String,Number],default:function(){return""}},isCommit:{type:[Boolean],default:function(){return!0}}},data:function(){return{keyword:"",searching:!1,doListLoading:!1,listLoading:!1,showInviteMember:!1,doList:[],list:[],listTemp:[]}},created:function(){this.init()},watch:{keyword:function(){this.search()}},methods:{init:function(){var t=this;this.projectCode&&(this.listLoading=!0,Object(L["b"])({projectCode:this.projectCode,pageSize:30}).then(function(e){t.list=e.data.list,t.listTemp=e.data.list,t.listLoading=!1})),this.taskCode&&(this.doListLoading=!0,I({taskCode:this.taskCode,pageSize:30}).then(function(e){t.doList=e.data.list.filter(function(t){return t.is_executor}),t.doListLoading=!1}))},showMember:function(t){var e=!0;return this.doList.forEach(function(i){t.code==i.code&&(e=!1)}),e},showCheck:function(t){if(t.is_executor)return!0},assignTask:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.isCommit?Object(_["a"])({taskCode:this.taskCode,executorCode:t}).then(function(){e.$emit("close",i)}):this.$emit("close",i)},inviteProjectMember:function(){this.$emit("inviteProjectMember")},search:k.a.debounce(function(){var t=this;if(this.keyword=this.keyword.trim(),this.keyword||(this.list=JSON.parse(N()(this.listTemp))),this.keyword.length<=1)return!1;this.searching=!0,this.list=this.list.filter(function(e){return-1!=e.name.indexOf(t.keyword)})},500)}},F=j,R=Object(y["a"])(F,Q,S,!1,null,null,null);R.options.__file="taskMemberMenu.vue";var U=R.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"member-menu project-member-menu"},[i("a-spin",{attrs:{spinning:t.projectMemberLoading||t.taskMemberLoading}},[i("div",{staticClass:"search-content"},[i("a-input",{attrs:{size:"large",placeholder:"ÊêúÁ¥¢"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[i("a-icon",{attrs:{slot:"prefix",type:"search"},slot:"prefix"})],1)],1),i("div",{staticClass:"member-list"},[i("vue-scroll",[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.keyword,expression:"!keyword"}],staticClass:"list-group"},[i("span",{staticClass:"title muted"},[t._v("ÂèÇ‰∏éËÄÖ")]),i("a-list",{directives:[{name:"show",rawName:"v-show",value:t.taskMemberList.length,expression:"taskMemberList.length"}],staticClass:"list-content",attrs:{itemLayout:"horizontal",dataSource:t.taskMemberList},scopedSlots:t._u([{key:"renderItem",fn:function(e){return i("a-list-item",{staticClass:"member-list-item",class:{owner:e.is_owner},nativeOn:{click:function(i){t.addToInvite(e.code,e.is_owner)}}},[i("span",{attrs:{slot:"actions"},slot:"actions"},[i("a-icon",{directives:[{name:"show",rawName:"v-show",value:t.showCheck(e.code),expression:"showCheck(item.code)"}],attrs:{type:"check"}})],1),i("a-list-item-meta",[i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))]),i("a-avatar",{attrs:{slot:"avatar",icon:"user",src:e.avatar},slot:"avatar"})],1)],1)}}])})],1),i("div",{staticClass:"list-group"},[i("span",{staticClass:"title muted"},[t._v("ÂÖ∂‰ªñÊàêÂëò")]),i("div",{staticClass:"member-list-item ant-list-item",on:{click:function(e){t.addToInvite("all")}}},[i("div",{staticClass:"ant-list-item-meta"},[i("div",{staticClass:"ant-list-item-meta-avatar"},[i("a-avatar",{attrs:{icon:"user"}})],1),i("div",{staticClass:"ant-list-item-meta-content"},[i("h4",{staticClass:"ant-list-item-meta-title"},[i("span",[t._v("ÊâÄÊúâÈ°πÁõÆÊàêÂëò")])])])]),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.showCheck("all"),expression:"showCheck('all')"}],staticClass:"ant-list-item-action"},[i("li",[i("span",[i("a-icon",{attrs:{type:"check"}})],1)])])]),i("a-list",{staticClass:"list-content",attrs:{itemLayout:"horizontal",dataSource:t.projectMemberList,locale:{emptyText:t.keyword&&t.keyword.length>1?"ËØ•ÊàêÂëò‰∏çÂú®È°πÁõÆÊàêÂëòÂàóË°®‰∏≠":""}},scopedSlots:t._u([{key:"renderItem",fn:function(e){return t.showMember(e)?i("a-list-item",{staticClass:"member-list-item",nativeOn:{click:function(i){t.addToInvite(e.code,!1)}}},[i("span",{attrs:{slot:"actions"},slot:"actions"},[i("a-icon",{directives:[{name:"show",rawName:"v-show",value:t.showCheck(e.code),expression:"showCheck(item.code)"}],attrs:{type:"check"}})],1),i("a-list-item-meta",[i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))]),i("a-avatar",{attrs:{slot:"avatar",icon:"user",src:e.avatar},slot:"avatar"})],1)],1):t._e()}}])})],1)])],1),i("div",{staticClass:"footer"},[i("a-button",{attrs:{type:"primary",size:"large",block:""},on:{click:t.inviteTaskMember}},[t._v("Á°ÆÂÆö")])],1)])],1)},Y=[],H=(i("7514"),{name:"projectMemberMenu",props:{projectCode:{type:[String,Number],default:function(){return""}},taskCode:{type:[String,Number],default:function(){return""}}},data:function(){return{keyword:"",searching:!1,taskMemberLoading:!0,projectMemberLoading:!0,showInviteMember:!1,taskMemberList:[],projectMemberList:[],listTemp:[],projectMemberListCopy:[],initAllMember:!1}},created:function(){this.init()},watch:{keyword:function(){this.search()}},methods:{init:function(){var t=this;this.projectMemberLoading=!0,this.taskMemberLoading=!0,this.projectCode&&Object(L["b"])({projectCode:this.projectCode,pageSize:30}).then(function(e){t.projectMemberList=e.data.list,t.projectMemberListCopy=e.data.list,t.projectMemberLoading=!1}),this.taskCode&&I({taskCode:this.taskCode,pageSize:30}).then(function(e){t.taskMemberList=e.data.list,e.data.list.forEach(function(e){t.listTemp.push(e.code)}),t.taskMemberLoading=!1})},showMember:function(t){var e=!0;return this.taskMemberList.forEach(function(i){t.code==i.code&&(e=!1)}),e},showCheck:function(t){if("all"==t&&!this.initAllMember)return!1;var e=this.listTemp.find(function(e){return e==t});return!!e||void 0},addToInvite:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return!1;"all"==t&&(this.initAllMember=!0);var i=this.listTemp.findIndex(function(e){return e==t});-1!==i?this.listTemp.splice(i,1):this.listTemp.push(t)},inviteTaskMember:function(){var t=this,e=[];this.taskMemberList.forEach(function(i){var n=t.listTemp.findIndex(function(t){return t==i.code});-1===n&&e.push(i.code)}),this.listTemp.forEach(function(i){var n=t.taskMemberList.findIndex(function(t){return i==t.code});-1===n&&e.push(i)}),e?T({memberCodes:N()(e),taskCode:this.taskCode}).then(function(){t.$emit("close")}):this.$emit("close")},search:k.a.debounce(function(){var t=this;if(this.keyword=this.keyword.trim(),this.keyword||(this.projectMemberList=JSON.parse(N()(this.projectMemberListCopy))),this.keyword.length<=1)return!1;this.searching=!0,this.projectMemberList=this.projectMemberList.filter(function(e){return-1!=e.name.indexOf(t.keyword)})},500)}}),z=H,O=Object(y["a"])(z,P,Y,!1,null,null,null);O.options.__file="projectMemberMenu.vue";var G=O.exports,$=i("d3a1"),J=i("68fe"),K=i("2f14"),V=i("97a8"),q=i("81fe"),W={name:"task-detail",components:{editor:x,taskMemberMenu:U,projectMemberMenu:G,inviteProjectMember:$["a"]},props:{taskCode:{type:[String],default:function(){return""}},width:{type:[String,Number],default:function(){return"1200"}}},data:function(){return{loading:!1,code:this.taskCode,projectCodeCurrent:"",task:{},taskLogList:[],taskLogTotal:0,taskMemberList:[],visibleTaskMenu:!1,visibleTaskMemberMenu:!1,visibleProjectMemberMenu:!1,showInviteMember:!1,taskName:"",showEditName:!1,showEndTime:!1,showTaskDescriptionEdit:!1,showMoreDesc:!1,hasMoreDesc:!1,editorConfig:{uploadImgServer:Object(K["c"])("project/index/uploadImg"),uploadImgHeaders:{token:Object(J["a"])("token")},menus:["head","bold","italic","justify","image","link","list","quote","table","|","fullscreen"]},childTaskList:[],showChildTask:!1,childTaskName:"",childExecutor:null,visibleChildTaskMemberMenu:!1,showInviteChildTaskMember:!1,taskSourceList:[],taskLogType:["all"],showMoreTaskLog:0,hasMoreTaskLog:!1,hideShowMore:!1,comment:""}},computed:Object(l["a"])({},Object(d["c"])({userInfo:function(t){return t.userInfo},uploader:function(t){return t.common.uploader}}),{childTaskDoneNum:function(){var t=this.childTaskList.filter(function(t){return 1==t.done});return t.length},checkShowMoreLog:function(){return!this.hideShowMore&&this.taskLogTotal>5},taskLink:function(){return window.location.href},scrollOps:function(){return{rail:{background:"#e5e5e5",opacity:1},bar:{keepShow:!0}}}}),watch:{$route:function(t,e){},showInviteMember:function(t){t||this.getTaskMembers()},taskLogType:function(){this.getTaskLog()},uploader:{handler:function(t,e){var i=this;console.log(t),console.log(t.fileList);var n=t.fileList,s=n.findIndex(function(t){return t.projectName==i.task.projectName});-1!==s&&(this.taskSources(),this.getTaskLog())},deep:!0}},created:function(){this.init()},mounted:function(){var t=this,e=arguments;this.changeModalHeight(),window.onresize=function(){return function(){t.changeModalHeight()}()},document.onkeydown=function(i){var n=i||window.event||e.callee.caller.arguments[0];13==n.keyCode&&n.ctrlKey&&t.createComment()},setTimeout(function(){t.uploader.assignBrowse(document.getElementById("upload-file"))},500)},filters:{formatLogTime:function(t){return Object(q["c"])(t)}},methods:{init:function(t){t&&(this.code=t),this.loading=!0,this.clearMemberMenu(),this.getTask(),this.getChildTasks(),this.getTaskMembers()},detailClose:function(){this.$emit("close",this.task)},clearMemberMenu:function(){this.visibleTaskMemberMenu=!1,this.visibleProjectMemberMenu=!1,this.showChildTask=!1},getTask:function(){var t=this;this.clearMemberMenu(),Object(_["j"])(this.code).then(function(e){t.getTaskLog(),t.taskSources(),t.taskName=e.data.name,t.task=e.data,t.projectCodeCurrent=e.data.project_code,t.task.end_time?(t.task.setEndTime=!0,t.task.end_time=m()(t.task.end_time)):(t.task.setEndTime=!1,t.task.end_time=m()(m()().format("YYYY-MM-DD")+" 18:00")),t.task.end_time_format=Object(q["b"])(t.task.end_time,!0),t.initContent(t.task.description),t.task.executor&&(t.childExecutor=t.task.executor),t.loading=!1,t.$store.dispatch("setTempData",{projectCode:t.projectCodeCurrent,taskCode:t.code,projectName:e.data.projectName})})},getTaskLog:function(){var t=this;Object(_["i"])({taskCode:this.code,all:this.showMoreTaskLog,pageSize:5,comment:"comment"==this.taskLogType[0]?1:0}).then(function(e){t.taskLogList=e.data.list,t.taskLogTotal=e.data.total,e.data.total>5&&(t.hasMoreTaskLog=!0)})},taskSources:function(){var t=this;Object(_["s"])({taskCode:this.code}).then(function(e){t.taskSourceList=e.data})},getMoreTaskLog:function(){this.showMoreTaskLog=1,this.hideShowMore=!0,this.getTaskLog()},getTaskMembers:function(){var t=this;this.clearMemberMenu(),I({taskCode:this.code,pageSize:100}).then(function(e){t.taskMemberList=e.data.list,t.loading=!1})},doTask:function(t){var e=this,i=t.key;switch(i){case"recycle":this.$confirm({title:"ÁßªÂà∞ÂõûÊî∂Á´ô",content:"ÊÇ®Á°ÆÂÆöË¶ÅÊääËØ•‰ªªÂä°ÁßªÂà∞ÂõûÊî∂Á´ôÂêóÔºü",okText:"Á°ÆÂÆö",okType:"danger",cancelText:"ÂÜçÊÉ≥ÊÉ≥",onOk:function(){return Object(_["l"])(e.code).then(function(t){var i=Object(K["a"])(t);if(!i)return!1;e.task.deleted=1,e.getTaskLog()}),c.a.resolve()}});break;case"star":return this.task.stared?this.task.stared=0:this.task.stared=1,Object(_["q"])(e.code,this.task.stared),!0;case"open":window.open(window.location.href+"&full-screen");break;case"lock":return this.task.private?this.task.private=0:this.task.private=1,!0}this.visibleTaskMenu=!1},editTitle:function(){var t=this;this.showEditName=!0,this.$nextTick(function(){t.$refs.inputTitle.focus()})},doSource:function(t,e){var i=this,n=t.key;switch(n){case"unlink":this.$confirm({title:"ÂèñÊ∂àÂÖ≥ËÅî",content:"ÊÇ®Á°ÆÂÆöÊ∞∏‰πÖÂà†Èô§Ëøô‰∏™ÂÖ≥ËÅîÔºü",okText:"Á°ÆÂÆö",okType:"danger",cancelText:"ÂÜçÊÉ≥ÊÉ≥",onOk:function(){return M(e).then(function(t){var e=Object(K["a"])(t);if(!e)return!1;i.taskSources(),i.getTaskLog()}),c.a.resolve()}});break;case"copy":return Object(V["b"])({title:"Â§çÂà∂ÈìæÊé•ÊàêÂäü",msg:"Âú®Âú∞ÂùÄÊ†èÁ≤òË¥¥Âπ∂ÊâìÂºÄÂèØ‰∏ãËΩΩËØ•ËµÑÊ∫ê"},"notice","success",5),!0}},deleteTask:function(){var t=this;this.$confirm({title:"ÂΩªÂ∫ïÂà†Èô§",content:"ÂΩªÂ∫ïÂà†Èô§‰ªªÂä°ÂêéÔºåËØ•‰ªªÂä°ÂèäÂÖ∂Â≠ê‰ªªÂä°Â∞Ü‰ºöË¢´Ê∞∏‰πÖË¢´Âà†Èô§„ÄÇ",okText:"Âà†Èô§",okType:"danger",cancelText:"ÂÜçÊÉ≥ÊÉ≥",onOk:function(){return Object(_["d"])(t.code).then(function(e){var i=Object(K["a"])(e);if(!i)return!1;t.detailClose()}),c.a.resolve()}})},recoveryTask:function(){var t=this;this.$confirm({title:"ÊÅ¢Â§çÂÜÖÂÆπ",content:"ÊÇ®Á°ÆÂÆöË¶ÅÊÅ¢Â§çËØ•‰ªªÂä°ÂêóÔºü",okText:"Á°ÆÂÆö",okType:"primary",cancelText:"ÂÜçÊÉ≥ÊÉ≥",onOk:function(){return Object(_["k"])(t.code).then(function(e){var i=Object(K["a"])(e);if(!i)return!1;t.getTaskLog()}),t.task.deleted=0,c.a.resolve()}})},copyLink:function(){Object(V["b"])({title:"Â§çÂà∂ÈìæÊé•ÊàêÂäü",msg:"‰Ω†ÂèØ‰ª•Âú®ÂÖ∂‰ªñÊ†áÁ≠æÈ°µÁ≤òË¥¥Âπ∂Âø´ÈÄüÊâìÂºÄ‰ªªÂä°È°µÈù¢"},"notice","success",5)},like:function(t){t=Number(t),Object(_["g"])(this.code,t),t?this.task.like++:this.task.like--,this.task.liked=t},taskDone:function(t,e,i){var n=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"self";e=e?1:0,Object(_["r"])(t,e).then(function(t){var a=Object(K["a"])(t);if(!a)return!1;n.getTaskLog(),"self"==s?n.task.done=e:n.childTaskList[i].done=e})},doEndTime:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.task.setEndTime=t,this.showEndTime=e;var i="";t?(i=m()(this.task.end_time).format("YYYY-MM-DD HH:mm"),this.task.end_time_format=m()(this.task.end_time).format("MMÊúàDDÊó• HH:mm")):i="",this.editTask({end_time:i})},doPri:function(t){this.editTask({pri:t.key})},doName:function(){if(this.showEditName=!1,!this.task.name.trim()||this.task.name==this.taskName)return this.task.name=this.taskName,!1;this.editTask({name:this.task.name})},editTask:function(t){var e=this;t.taskCode=this.code,Object(_["e"])(t).then(function(t){var i=Object(K["a"])(t);if(!i)return!1;e.getTask()})},priColor:function(t){switch(t){case 1:return"#ff9900";case 2:return"#ed3f14";default:return"#a6a6a6"}},showTaskDesc:function(){if(this.task.deleted)return!1;this.showTaskDescriptionEdit=!0,this.initContent(this.task.description)},initContent:function(t){var e=this;t?this.$refs.vueWangeditor.setHtml(t):this.$refs.vueWangeditor.setHtml(""),this.$nextTick(function(){e.checkShowMoreDesc(!1,!0)})},doContent:function(){var t=this,e=this.$refs.vueWangeditor.getHtml(),i={taskCode:this.code,description:e};Object(_["e"])(i).then(function(){t.task.description=e,t.showTaskDescriptionEdit=!1,t.$nextTick(function(){t.checkShowMoreDesc(!1,!0)}),t.getTaskLog()})},createComment:function(){var t=this;if(!this.comment.trim())return!1;Object(_["b"])(this.code,this.comment).then(function(){t.comment="",t.getTaskLog()})},checkShowMoreDesc:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=u()(".description-txt");if(e||(t?(this.showMoreDesc=!0,i.css("max-height",function(){return"100%"})):(this.showMoreDesc=!1,i.css("max-height",function(){return"300px"}))),e){var n=i.height();return n>=300?(this.hasMoreDesc=!0,!0):(this.hasMoreDesc=!1,!1)}return!1},createTask:function(){var t=this,e={pcode:this.code,name:this.childTaskName};this.childExecutor&&(e.assign_to=this.childExecutor.code),Object(_["n"])(e).then(function(e){var i=Object(K["a"])(e);if(!i)return!1;t.childTaskName="",t.getChildTasks(),t.getTaskLog()})},getChildTasks:function(){var t=this;Object(_["h"])({pcode:this.code,pageSize:100,deleted:0}).then(function(e){t.childTaskList=e.data.list})},updateChildExecutor:function(t){this.visibleChildTaskMemberMenu=!1,this.childExecutor=t},changeModalHeight:function(){var t=this.width,e=u()(window).width()-100,i=u()(window).height()-150,n=u()(window).height()-315;"full-screen"===t||void 0!==this.$route.query["full-screen"]?(u()(".task-detail-modal").css("width",u()(window).width()),u()(".task-detail").css("width",u()(window).width()),u()(".ant-modal").css("top",0),i+=85,n+=85,u()(".content-left").css("height",i+"px"),u()(".log-wrap").css("height",n+"px")):(e>t&&(e=t),u()(".task-detail").css("width",e),u()(".content-left").css("height",i+"px"),u()(".log-wrap").css("height",n+"px"))}}},X=W,Z=(i("e37d"),Object(y["a"])(X,a,o,!1,null,null,null));Z.options.__file="taskDetail.vue";var tt=Z.exports,et={name:"task-detail-modal",components:{taskDetail:tt},data:function(){return{loading:!1,code:this.$route.params.taskCode,projectCode:this.$route.params.code}},created:function(){this.init()},methods:{init:function(){this.loading=!0},detailClose:function(){var t=this.$route.query.from,e="";t&&(e="?from=".concat(t)),this.$router.push("/project/space/task/".concat(this.projectCode).concat(e))}}},it=et,nt=(i("d840"),Object(y["a"])(it,n,s,!1,null,null,null));nt.options.__file="taskdetail.vue";e["default"]=nt.exports},d840:function(t,e,i){"use strict";var n=i("da12"),s=i.n(n);s.a},da12:function(t,e,i){},e37d:function(t,e,i){"use strict";var n=i("d077"),s=i.n(n);s.a}}]);