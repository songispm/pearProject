(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58f8b938"],{1478:function(t,e,n){},"1b80":function(t,e,n){"use strict";e["a"]={data:function(){return{pagination:{page:1,pageSize:10,total:0,showTotal:function(t,e){return"共 ".concat(t," 条")}}}},computed:{requestData:function(){return{page:this.pagination.page,pageSize:this.pagination.pageSize}}},methods:{init:function(){},pageChange:function(t){this.pagination.page=t,this.requestData.page=t.current,this.init()}}}},"24d2":function(t,e,n){"use strict";n.d(e,"d",function(){return o}),n.d(e,"j",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"e",function(){return s}),n.d(e,"i",function(){return c}),n.d(e,"g",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"h",function(){return d}),n.d(e,"f",function(){return f}),n.d(e,"a",function(){return p});var a=n("22b6");function o(t){return a["a"].post("project/project",t)}function r(t){return a["a"].post("project/project/selfList",t)}function i(t){var e="project/project/save";return t.projectCode&&(e="project/project/edit"),a["a"].post(e,t)}function s(t){return a["a"].post("project/project/quit",{projectCode:t})}function c(t){return a["a"].post("project/project/recycle",{projectCode:t})}function l(t){return a["a"].post("project/project/recovery",{projectCode:t})}function u(t){return a["a"].post("project/project/archive",{projectCode:t})}function d(t){return a["a"].post("project/project/recoveryArchive",{projectCode:t})}function f(t){return a["a"].post("project/project/read",{projectCode:t})}function p(t){return a["a"].post("project/project/_projectStats",t)}},"2b2a":function(t,e,n){"use strict";var a=n("2c97"),o=n.n(a);o.a},"2c97":function(t,e,n){},"2f21":function(t,e,n){"use strict";var a=n("79e5");t.exports=function(t,e){return!!t&&a(function(){e?t.call(null,function(){},1):t.call(null)})}},"310e":function(t,e,n){t.exports=function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"02f4":function(t,e,n){var a=n("4588"),o=n("be13");t.exports=function(t){return function(e,n){var r,i,s=String(o(e)),c=a(n),l=s.length;return c<0||c>=l?t?"":void 0:(r=s.charCodeAt(c),r<55296||r>56319||c+1===l||(i=s.charCodeAt(c+1))<56320||i>57343?t?s.charAt(c):r:t?s.slice(c,c+2):i-56320+(r-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var a=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?a(t,e).length:1)}},"07e3":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"0bfb":function(t,e,n){"use strict";var a=n("cb7c");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0fc9":function(t,e,n){var a=n("3a38"),o=Math.max,r=Math.min;t.exports=function(t,e){return t=a(t),t<0?o(t+e,0):r(t,e)}},1654:function(t,e,n){"use strict";var a=n("71c1")(!0);n("30f1")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=a(e,n),this._i+=t.length,{value:t,done:!1})})},1691:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"1af6":function(t,e,n){var a=n("63b6");a(a.S,"Array",{isArray:n("9003")})},"1bc3":function(t,e,n){var a=n("f772");t.exports=function(t,e){if(!a(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!a(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!a(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!a(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(t,e,n){var a=n("f772"),o=n("e53d").document,r=a(o)&&a(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},"20fd":function(t,e,n){"use strict";var a=n("d9f6"),o=n("aebd");t.exports=function(t,e,n){e in t?a.f(t,e,o(0,n)):t[e]=n}},"214f":function(t,e,n){"use strict";n("b0c5");var a=n("2aba"),o=n("32e9"),r=n("79e5"),i=n("be13"),s=n("2b4c"),c=n("520a"),l=s("species"),u=!r(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=s(t),p=!r(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),h=p?!r(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[f](""),!e}):void 0;if(!p||!h||"replace"===t&&!u||"split"===t&&!d){var v=/./[f],g=n(i,f,""[t],function(t,e,n,a,o){return e.exec===c?p&&!o?{done:!0,value:v.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}}),m=g[0],b=g[1];a(String.prototype,t,m),o(RegExp.prototype,f,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},"230e":function(t,e,n){var a=n("d3f4"),o=n("7726").document,r=a(o)&&a(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},"23c6":function(t,e,n){var a=n("2d95"),o=n("2b4c")("toStringTag"),r="Arguments"==a(function(){return arguments}()),i=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=i(e=Object(t),o))?n:r?a(e):"Object"==(s=a(e))&&"function"==typeof e.callee?"Arguments":s}},"241e":function(t,e,n){var a=n("25eb");t.exports=function(t){return Object(a(t))}},"25eb":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"294c":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"2aba":function(t,e,n){var a=n("7726"),o=n("32e9"),r=n("69a8"),i=n("ca5a")("src"),s=n("fa5b"),c="toString",l=(""+s).split(c);n("8378").inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(r(n,"name")||o(n,"name",e)),t[e]!==n&&(c&&(r(n,i)||o(n,i,t[e]?""+t[e]:l.join(String(e)))),t===a?t[e]=n:s?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,c,function(){return"function"==typeof this&&this[i]||s.call(this)})},"2b4c":function(t,e,n){var a=n("5537")("wks"),o=n("ca5a"),r=n("7726").Symbol,i="function"==typeof r,s=t.exports=function(t){return a[t]||(a[t]=i&&r[t]||(i?r:o)("Symbol."+t))};s.store=a},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2fdb":function(t,e,n){"use strict";var a=n("5ca1"),o=n("d2c8"),r="includes";a(a.P+a.F*n("5147")(r),"String",{includes:function(t){return!!~o(this,t,r).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"30f1":function(t,e,n){"use strict";var a=n("b8e3"),o=n("63b6"),r=n("9138"),i=n("35e8"),s=n("481b"),c=n("8f60"),l=n("45f2"),u=n("53e2"),d=n("5168")("iterator"),f=!([].keys&&"next"in[].keys()),p="@@iterator",h="keys",v="values",g=function(){return this};t.exports=function(t,e,n,m,b,k,w){c(n,e,m);var y,_,x,C=function(t){if(!f&&t in O)return O[t];switch(t){case h:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},j=e+" Iterator",T=b==v,S=!1,O=t.prototype,M=O[d]||O[p]||b&&O[b],D=M||C(b),R=b?T?C("entries"):D:void 0,P="Array"==e&&O.entries||M;if(P&&(x=u(P.call(new t)),x!==Object.prototype&&x.next&&(l(x,j,!0),a||"function"==typeof x[d]||i(x,d,g))),T&&M&&M.name!==v&&(S=!0,D=function(){return M.call(this)}),a&&!w||!f&&!S&&O[d]||i(O,d,D),s[e]=D,s[j]=g,b)if(y={values:T?D:C(v),keys:k?D:C(h),entries:R},w)for(_ in y)_ in O||r(O,_,y[_]);else o(o.P+o.F*(f||S),e,y);return y}},"32a6":function(t,e,n){var a=n("241e"),o=n("c3a1");n("ce7e")("keys",function(){return function(t){return o(a(t))}})},"32e9":function(t,e,n){var a=n("86cc"),o=n("4630");t.exports=n("9e1e")?function(t,e,n){return a.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},"32fc":function(t,e,n){var a=n("e53d").document;t.exports=a&&a.documentElement},"335c":function(t,e,n){var a=n("6b4c");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==a(t)?t.split(""):Object(t)}},"355d":function(t,e){e.f={}.propertyIsEnumerable},"35e8":function(t,e,n){var a=n("d9f6"),o=n("aebd");t.exports=n("8e60")?function(t,e,n){return a.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},"36c3":function(t,e,n){var a=n("335c"),o=n("25eb");t.exports=function(t){return a(o(t))}},3702:function(t,e,n){var a=n("481b"),o=n("5168")("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(a.Array===t||r[o]===t)}},"3a38":function(t,e){var n=Math.ceil,a=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?a:n)(t)}},"40c3":function(t,e,n){var a=n("6b4c"),o=n("5168")("toStringTag"),r="Arguments"==a(function(){return arguments}()),i=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=i(e=Object(t),o))?n:r?a(e):"Object"==(s=a(e))&&"function"==typeof e.callee?"Arguments":s}},4588:function(t,e){var n=Math.ceil,a=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?a:n)(t)}},"45f2":function(t,e,n){var a=n("d9f6").f,o=n("07e3"),r=n("5168")("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,r)&&a(t,r,{configurable:!0,value:e})}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"469f":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("7d7b")},"481b":function(t,e){t.exports={}},"4aa6":function(t,e,n){t.exports=n("dc62")},"4bf8":function(t,e,n){var a=n("be13");t.exports=function(t){return Object(a(t))}},"4ee1":function(t,e,n){var a=n("5168")("iterator"),o=!1;try{var r=[7][a]();r["return"]=function(){o=!0},Array.from(r,function(){throw 2})}catch(i){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r=[7],s=r[a]();s.next=function(){return{done:n=!0}},r[a]=function(){return s},t(r)}catch(i){}return n}},"50ed":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},5147:function(t,e,n){var a=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[a]=!1,!"/./"[t](e)}catch(o){}}return!0}},5168:function(t,e,n){var a=n("dbdb")("wks"),o=n("62a0"),r=n("e53d").Symbol,i="function"==typeof r,s=t.exports=function(t){return a[t]||(a[t]=i&&r[t]||(i?r:o)("Symbol."+t))};s.store=a},5176:function(t,e,n){t.exports=n("51b6")},"51b6":function(t,e,n){n("a3c3"),t.exports=n("584a").Object.assign},"520a":function(t,e,n){"use strict";var a=n("0bfb"),o=RegExp.prototype.exec,r=String.prototype.replace,i=o,s="lastIndex",c=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t[s]||0!==e[s]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(i=function(t){var e,n,i,u,d=this;return l&&(n=new RegExp("^"+d.source+"$(?!\\s)",a.call(d))),c&&(e=d[s]),i=o.call(d,t),c&&i&&(d[s]=d.global?i.index+i[0].length:e),l&&i&&i.length>1&&r.call(i[0],n,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(i[u]=void 0)}),i}),t.exports=i},"53e2":function(t,e,n){var a=n("07e3"),o=n("241e"),r=n("5559")("IE_PROTO"),i=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),a(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?i:null}},"549b":function(t,e,n){"use strict";var a=n("d864"),o=n("63b6"),r=n("241e"),i=n("b0dc"),s=n("3702"),c=n("b447"),l=n("20fd"),u=n("7cd6");o(o.S+o.F*!n("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,d,f=r(t),p="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,g=void 0!==v,m=0,b=u(f);if(g&&(v=a(v,h>2?arguments[2]:void 0,2)),void 0==b||p==Array&&s(b))for(e=c(f.length),n=new p(e);e>m;m++)l(n,m,g?v(f[m],m):f[m]);else for(d=b.call(f),n=new p;!(o=d.next()).done;m++)l(n,m,g?i(d,v,[o.value,m],!0):o.value);return n.length=m,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},5537:function(t,e,n){var a=n("8378"),o=n("7726"),r="__core-js_shared__",i=o[r]||(o[r]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:a.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},5559:function(t,e,n){var a=n("dbdb")("keys"),o=n("62a0");t.exports=function(t){return a[t]||(a[t]=o(t))}},"584a":function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},"5b4e":function(t,e,n){var a=n("36c3"),o=n("b447"),r=n("0fc9");t.exports=function(t){return function(e,n,i){var s,c=a(e),l=o(c.length),u=r(i,l);if(t&&n!=n){while(l>u)if(s=c[u++],s!=s)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},"5ca1":function(t,e,n){var a=n("7726"),o=n("8378"),r=n("32e9"),i=n("2aba"),s=n("9b43"),c="prototype",l=function(t,e,n){var u,d,f,p,h=t&l.F,v=t&l.G,g=t&l.S,m=t&l.P,b=t&l.B,k=v?a:g?a[e]||(a[e]={}):(a[e]||{})[c],w=v?o:o[e]||(o[e]={}),y=w[c]||(w[c]={});for(u in v&&(n=e),n)d=!h&&k&&void 0!==k[u],f=(d?k:n)[u],p=b&&d?s(f,a):m&&"function"==typeof f?s(Function.call,f):f,k&&i(k,u,f,t&l.U),w[u]!=f&&r(w,u,p),m&&y[u]!=f&&(y[u]=f)};a.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},"5d73":function(t,e,n){t.exports=n("469f")},"5f1b":function(t,e,n){"use strict";var a=n("23c6"),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var r=n.call(t,e);if("object"!==typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==a(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},"626a":function(t,e,n){var a=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==a(t)?t.split(""):Object(t)}},"62a0":function(t,e){var n=0,a=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+a).toString(36))}},"63b6":function(t,e,n){var a=n("e53d"),o=n("584a"),r=n("d864"),i=n("35e8"),s=n("07e3"),c="prototype",l=function(t,e,n){var u,d,f,p=t&l.F,h=t&l.G,v=t&l.S,g=t&l.P,m=t&l.B,b=t&l.W,k=h?o:o[e]||(o[e]={}),w=k[c],y=h?a:v?a[e]:(a[e]||{})[c];for(u in h&&(n=e),n)d=!p&&y&&void 0!==y[u],d&&s(k,u)||(f=d?y[u]:n[u],k[u]=h&&"function"!=typeof y[u]?n[u]:m&&d?r(f,a):b&&y[u]==f?function(t){var e=function(e,n,a){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,a)}return t.apply(this,arguments)};return e[c]=t[c],e}(f):g&&"function"==typeof f?r(Function.call,f):f,g&&((k.virtual||(k.virtual={}))[u]=f,t&l.R&&w&&!w[u]&&i(w,u,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},6762:function(t,e,n){"use strict";var a=n("5ca1"),o=n("c366")(!0);a(a.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(t,e,n){var a=n("626a"),o=n("be13");t.exports=function(t){return a(o(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var a=n("d3f4");t.exports=function(t,e){if(!a(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!a(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!a(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!a(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},"6b4c":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"6c1c":function(t,e,n){n("c367");for(var a=n("e53d"),o=n("35e8"),r=n("481b"),i=n("5168")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var l=s[c],u=a[l],d=u&&u.prototype;d&&!d[i]&&o(d,i,l),r[l]=r.Array}},"71c1":function(t,e,n){var a=n("3a38"),o=n("25eb");t.exports=function(t){return function(e,n){var r,i,s=String(o(e)),c=a(n),l=s.length;return c<0||c>=l?t?"":void 0:(r=s.charCodeAt(c),r<55296||r>56319||c+1===l||(i=s.charCodeAt(c+1))<56320||i>57343?t?s.charAt(c):r:t?s.slice(c,c+2):i-56320+(r-55296<<10)+65536)}}},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"774e":function(t,e,n){t.exports=n("d2d5")},"77f1":function(t,e,n){var a=n("4588"),o=Math.max,r=Math.min;t.exports=function(t,e){return t=a(t),t<0?o(t+e,0):r(t,e)}},"794b":function(t,e,n){t.exports=!n("8e60")&&!n("294c")(function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a})},"79aa":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7cd6":function(t,e,n){var a=n("40c3"),o=n("5168")("iterator"),r=n("481b");t.exports=n("584a").getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[a(t)]}},"7d7b":function(t,e,n){var a=n("e4ae"),o=n("7cd6");t.exports=n("584a").getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return a(e.call(t))}},"7e90":function(t,e,n){var a=n("d9f6"),o=n("e4ae"),r=n("c3a1");t.exports=n("8e60")?Object.defineProperties:function(t,e){o(t);var n,i=r(e),s=i.length,c=0;while(s>c)a.f(t,n=i[c++],e[n]);return t}},8378:function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},8436:function(t,e){t.exports=function(){}},"86cc":function(t,e,n){var a=n("cb7c"),o=n("c69a"),r=n("6a99"),i=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(a(t),e=r(e,!0),a(n),o)try{return i(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"8aae":function(t,e,n){n("32a6"),t.exports=n("584a").Object.keys},"8e60":function(t,e,n){t.exports=!n("294c")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"8f60":function(t,e,n){"use strict";var a=n("a159"),o=n("aebd"),r=n("45f2"),i={};n("35e8")(i,n("5168")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=a(i,{next:o(1,n)}),r(t,e+" Iterator")}},9003:function(t,e,n){var a=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==a(t)}},9138:function(t,e,n){t.exports=n("35e8")},9306:function(t,e,n){"use strict";var a=n("c3a1"),o=n("9aa9"),r=n("355d"),i=n("241e"),s=n("335c"),c=Object.assign;t.exports=!c||n("294c")(function(){var t={},e={},n=Symbol(),a="abcdefghijklmnopqrst";return t[n]=7,a.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=a})?function(t,e){var n=i(t),c=arguments.length,l=1,u=o.f,d=r.f;while(c>l){var f,p=s(arguments[l++]),h=u?a(p).concat(u(p)):a(p),v=h.length,g=0;while(v>g)d.call(p,f=h[g++])&&(n[f]=p[f])}return n}:c},9427:function(t,e,n){var a=n("63b6");a(a.S,"Object",{create:n("a159")})},"95d5":function(t,e,n){var a=n("40c3"),o=n("5168")("iterator"),r=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||r.hasOwnProperty(a(e))}},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},"9b43":function(t,e,n){var a=n("d8e8");t.exports=function(t,e,n){if(a(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,a){return t.call(e,n,a)};case 3:return function(n,a,o){return t.call(e,n,a,o)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var a=n("2b4c")("unscopables"),o=Array.prototype;void 0==o[a]&&n("32e9")(o,a,{}),t.exports=function(t){o[a][t]=!0}},"9def":function(t,e,n){var a=n("4588"),o=Math.min;t.exports=function(t){return t>0?o(a(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},a159:function(t,e,n){var a=n("e4ae"),o=n("7e90"),r=n("1691"),i=n("5559")("IE_PROTO"),s=function(){},c="prototype",l=function(){var t,e=n("1ec9")("iframe"),a=r.length,o="<",i=">";e.style.display="none",n("32fc").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+i+"document.F=Object"+o+"/script"+i),t.close(),l=t.F;while(a--)delete l[c][r[a]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[c]=a(t),n=new s,s[c]=null,n[i]=t):n=l(),void 0===e?n:o(n,e)}},a352:function(t,e){t.exports=n("53fe")},a3c3:function(t,e,n){var a=n("63b6");a(a.S+a.F,"Object",{assign:n("9306")})},a481:function(t,e,n){"use strict";var a=n("cb7c"),o=n("4bf8"),r=n("9def"),i=n("4588"),s=n("0390"),c=n("5f1b"),l=Math.max,u=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,function(t,e,n,v){return[function(a,o){var r=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,r,o):n.call(String(r),a,o)},function(t,e){var o=v(n,t,this,e);if(o.done)return o.value;var d=a(t),f=String(this),p="function"===typeof e;p||(e=String(e));var m=d.global;if(m){var b=d.unicode;d.lastIndex=0}var k=[];while(1){var w=c(d,f);if(null===w)break;if(k.push(w),!m)break;var y=String(w[0]);""===y&&(d.lastIndex=s(f,r(d.lastIndex),b))}for(var _="",x=0,C=0;C<k.length;C++){w=k[C];for(var j=String(w[0]),T=l(u(i(w.index),f.length),0),S=[],O=1;O<w.length;O++)S.push(h(w[O]));var M=w.groups;if(p){var D=[j].concat(S,T,f);void 0!==M&&D.push(M);var R=String(e.apply(void 0,D))}else R=g(j,f,T,S,M,e);T>=x&&(_+=f.slice(x,T)+R,x=T+j.length)}return _+f.slice(x)}];function g(t,e,a,r,i,s){var c=a+t.length,l=r.length,u=p;return void 0!==i&&(i=o(i),u=f),n.call(s,u,function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,a);case"'":return e.slice(c);case"<":s=i[o.slice(1,-1)];break;default:var u=+o;if(0===u)return n;if(u>l){var f=d(u/10);return 0===f?n:f<=l?void 0===r[f-1]?o.charAt(1):r[f-1]+o.charAt(1):n}s=r[u-1]}return void 0===s?"":s})}})},a4bb:function(t,e,n){t.exports=n("8aae")},a745:function(t,e,n){t.exports=n("f410")},aae3:function(t,e,n){var a=n("d3f4"),o=n("2d95"),r=n("2b4c")("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==o(t))}},aebd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},b0c5:function(t,e,n){"use strict";var a=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})},b0dc:function(t,e,n){var a=n("e4ae");t.exports=function(t,e,n,o){try{return o?e(a(n)[0],n[1]):e(n)}catch(i){var r=t["return"];throw void 0!==r&&a(r.call(t)),i}}},b447:function(t,e,n){var a=n("3a38"),o=Math.min;t.exports=function(t){return t>0?o(a(t),9007199254740991):0}},b8e3:function(t,e){t.exports=!0},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c366:function(t,e,n){var a=n("6821"),o=n("9def"),r=n("77f1");t.exports=function(t){return function(e,n,i){var s,c=a(e),l=o(c.length),u=r(i,l);if(t&&n!=n){while(l>u)if(s=c[u++],s!=s)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},c367:function(t,e,n){"use strict";var a=n("8436"),o=n("50ed"),r=n("481b"),i=n("36c3");t.exports=n("30f1")(Array,"Array",function(t,e){this._t=i(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),r.Arguments=r.Array,a("keys"),a("values"),a("entries")},c3a1:function(t,e,n){var a=n("e6f3"),o=n("1691");t.exports=Object.keys||function(t){return a(t,o)}},c649:function(t,e,n){"use strict";(function(t){n.d(e,"c",function(){return d}),n.d(e,"a",function(){return l}),n.d(e,"b",function(){return i}),n.d(e,"d",function(){return u});n("a481");var a=n("4aa6"),o=n.n(a);function r(){return"undefined"!==typeof window?window.console:t.console}var i=r();function s(t){var e=o()(null);return function(n){var a=e[n];return a||(e[n]=t(n))}}var c=/-(\w)/g,l=s(function(t){return t.replace(c,function(t,e){return e?e.toUpperCase():""})});function u(t){null!==t.parentElement&&t.parentElement.removeChild(t)}function d(t,e,n){var a=0===n?t.children[0]:t.children[n-1].nextSibling;t.insertBefore(e,a)}}).call(this,n("c8ba"))},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(a){"object"===typeof window&&(n=window)}t.exports=n},c8bb:function(t,e,n){t.exports=n("54a1")},ca5a:function(t,e){var n=0,a=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+a).toString(36))}},cb7c:function(t,e,n){var a=n("d3f4");t.exports=function(t){if(!a(t))throw TypeError(t+" is not an object!");return t}},ce7e:function(t,e,n){var a=n("63b6"),o=n("584a"),r=n("294c");t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],i={};i[t]=e(n),a(a.S+a.F*r(function(){n(1)}),"Object",i)}},d2c8:function(t,e,n){var a=n("aae3"),o=n("be13");t.exports=function(t,e,n){if(a(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d864:function(t,e,n){var a=n("79aa");t.exports=function(t,e,n){if(a(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,a){return t.call(e,n,a)};case 3:return function(n,a,o){return t.call(e,n,a,o)}}return function(){return t.apply(e,arguments)}}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d9f6:function(t,e,n){var a=n("e4ae"),o=n("794b"),r=n("1bc3"),i=Object.defineProperty;e.f=n("8e60")?Object.defineProperty:function(t,e,n){if(a(t),e=r(e,!0),a(n),o)try{return i(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},dbdb:function(t,e,n){var a=n("584a"),o=n("e53d"),r="__core-js_shared__",i=o[r]||(o[r]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:a.version,mode:n("b8e3")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},dc62:function(t,e,n){n("9427");var a=n("584a").Object;t.exports=function(t,e){return a.create(t,e)}},e4ae:function(t,e,n){var a=n("f772");t.exports=function(t){if(!a(t))throw TypeError(t+" is not an object!");return t}},e53d:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e6f3:function(t,e,n){var a=n("07e3"),o=n("36c3"),r=n("5b4e")(!1),i=n("5559")("IE_PROTO");t.exports=function(t,e){var n,s=o(t),c=0,l=[];for(n in s)n!=i&&a(s,n)&&l.push(n);while(e.length>c)a(s,n=e[c++])&&(~r(l,n)||l.push(n));return l}},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},f559:function(t,e,n){"use strict";var a=n("5ca1"),o=n("9def"),r=n("d2c8"),i="startsWith",s=""[i];a(a.P+a.F*n("5147")(i),"String",{startsWith:function(t){var e=r(this,t,i),n=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),a=String(t);return s?s.call(e,a,n):e.slice(n,n+a.length)===a}})},f772:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fb15:function(t,e,n){"use strict";var a;(n.r(e),"undefined"!==typeof window)&&((a=window.document.currentScript)&&(a=a.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=a[1]));var o=n("5176"),r=n.n(o),i=(n("f559"),n("a4bb")),s=n.n(i),c=n("a745"),l=n.n(c);function u(t){if(l()(t))return t}var d=n("5d73"),f=n.n(d);function p(t,e){var n=[],a=!0,o=!1,r=void 0;try{for(var i,s=f()(t);!(a=(i=s.next()).done);a=!0)if(n.push(i.value),e&&n.length===e)break}catch(c){o=!0,r=c}finally{try{a||null==s["return"]||s["return"]()}finally{if(o)throw r}}return n}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function v(t,e){return u(t)||p(t,e)||h()}n("6762"),n("2fdb");function g(t){if(l()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var m=n("774e"),b=n.n(m),k=n("c8bb"),w=n.n(k);function y(t){if(w()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return b()(t)}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function x(t){return g(t)||y(t)||_()}var C=n("a352"),j=n.n(C),T=n("c649");function S(t,e,n){return void 0===n?t:(t=t||{},t[e]=n,t)}function O(t,e){return t.map(function(t){return t.elm}).indexOf(e)}function M(t,e,n,a){if(!t)return[];var o=t.map(function(t){return t.elm}),r=e.length-a,i=x(e).map(function(t,e){return e>=r?o.length:o.indexOf(t)});return n?i.filter(function(t){return-1!==t}):i}function D(t,e){var n=this;this.$nextTick(function(){return n.$emit(t.toLowerCase(),e)})}function R(t){var e=this;return function(n){null!==e.realList&&e["onDrag"+t](n),D.call(e,t,n)}}function P(t){return["transition-group","TransitionGroup"].includes(t)}function E(t){if(!t||1!==t.length)return!1;var e=v(t,1),n=e[0].componentOptions;return!!n&&P(n.tag)}function W(t,e,n){return t[n]||(e[n]?e[n]():void 0)}function L(t,e,n){var a=0,o=0,r=W(e,n,"header");r&&(a=r.length,t=t?[].concat(x(r),x(t)):x(r));var i=W(e,n,"footer");return i&&(o=i.length,t=t?[].concat(x(t),x(i)):x(i)),{children:t,headerOffset:a,footerOffset:o}}function $(t,e){var n=null,a=function(t,e){n=S(n,t,e)},o=s()(t).filter(function(t){return"id"===t||t.startsWith("data-")}).reduce(function(e,n){return e[n]=t[n],e},{});if(a("attrs",o),!e)return n;var i=e.on,c=e.props,l=e.attrs;return a("on",i),a("props",c),r()(n.attrs,l),n}var A=["Start","Add","Remove","Update","End"],N=["Choose","Unchoose","Sort","Filter","Clone"],I=["Move"].concat(A,N).map(function(t){return"on"+t}),z=null,F={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(t){return t}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Y={name:"draggable",inheritAttrs:!1,props:F,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(t){var e=this.$slots.default;this.transitionMode=E(e);var n=L(e,this.$slots,this.$scopedSlots),a=n.children,o=n.headerOffset,r=n.footerOffset;this.headerOffset=o,this.footerOffset=r;var i=$(this.$attrs,this.componentData);return t(this.getTag(),i,a)},created:function(){null!==this.list&&null!==this.value&&T["b"].error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&T["b"].warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&T["b"].warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var t=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var e={};A.forEach(function(n){e["on"+n]=R.call(t,n)}),N.forEach(function(n){e["on"+n]=D.bind(t,n)});var n=s()(this.$attrs).reduce(function(e,n){return e[Object(T["a"])(n)]=t.$attrs[n],e},{}),a=r()({},this.options,n,e,{onMove:function(e,n){return t.onDragMove(e,n)}});!("draggable"in a)&&(a.draggable=">*"),this._sortable=new j.a(this.rootContainer,a),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(t){this.updateOptions(t)},deep:!0},$attrs:{handler:function(t){this.updateOptions(t)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var t=this._vnode.fnOptions;return t&&t.functional},getTag:function(){return this.tag||this.element},updateOptions:function(t){for(var e in t){var n=Object(T["a"])(e);-1===I.indexOf(n)&&this._sortable.option(n,t[e])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var t=this.$slots.default;return this.transitionMode?t[0].child.$slots.default:t},computeIndexes:function(){var t=this;this.$nextTick(function(){t.visibleIndexes=M(t.getChildrenNodes(),t.rootContainer.children,t.transitionMode,t.footerOffset)})},getUnderlyingVm:function(t){var e=O(this.getChildrenNodes()||[],t);if(-1===e)return null;var n=this.realList[e];return{index:e,element:n}},getUnderlyingPotencialDraggableComponent:function(t){var e=t.__vue__;return e&&e.$options&&P(e.$options._componentTag)?e.$parent:!("realList"in e)&&1===e.$children.length&&"realList"in e.$children[0]?e.$children[0]:e},emitChanges:function(t){var e=this;this.$nextTick(function(){e.$emit("change",t)})},alterList:function(t){if(this.list)t(this.list);else{var e=x(this.value);t(e),this.$emit("input",e)}},spliceList:function(){var t=arguments,e=function(e){return e.splice.apply(e,x(t))};this.alterList(e)},updatePosition:function(t,e){var n=function(n){return n.splice(e,0,n.splice(t,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(t){var e=t.to,n=t.related,a=this.getUnderlyingPotencialDraggableComponent(e);if(!a)return{component:a};var o=a.realList,i={list:o,component:a};if(e!==n&&o&&a.getUnderlyingVm){var s=a.getUnderlyingVm(n);if(s)return r()(s,i)}return i},getVmIndex:function(t){var e=this.visibleIndexes,n=e.length;return t>n-1?n:e[t]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(t){if(this.noTransitionOnDrag&&this.transitionMode){var e=this.getChildrenNodes();e[t].data=null;var n=this.getComponent();n.children=[],n.kept=void 0}},onDragStart:function(t){this.context=this.getUnderlyingVm(t.item),t.item._underlying_vm_=this.clone(this.context.element),z=t.item},onDragAdd:function(t){var e=t.item._underlying_vm_;if(void 0!==e){Object(T["d"])(t.item);var n=this.getVmIndex(t.newIndex);this.spliceList(n,0,e),this.computeIndexes();var a={element:e,newIndex:n};this.emitChanges({added:a})}},onDragRemove:function(t){if(Object(T["c"])(this.rootContainer,t.item,t.oldIndex),"clone"!==t.pullMode){var e=this.context.index;this.spliceList(e,1);var n={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:n})}else Object(T["d"])(t.clone)},onDragUpdate:function(t){Object(T["d"])(t.item),Object(T["c"])(t.from,t.item,t.oldIndex);var e=this.context.index,n=this.getVmIndex(t.newIndex);this.updatePosition(e,n);var a={element:this.context.element,oldIndex:e,newIndex:n};this.emitChanges({moved:a})},updateProperty:function(t,e){t.hasOwnProperty(e)&&(t[e]+=this.headerOffset)},computeFutureIndex:function(t,e){if(!t.element)return 0;var n=x(e.to.children).filter(function(t){return"none"!==t.style["display"]}),a=n.indexOf(e.related),o=t.component.getVmIndex(a),r=-1!==n.indexOf(z);return r||!e.willInsertAfter?o:o+1},onDragMove:function(t,e){var n=this.move;if(!n||!this.realList)return!0;var a=this.getRelatedContextFromMoveEvent(t),o=this.context,i=this.computeFutureIndex(a,t);r()(o,{futureIndex:i});var s=r()({},t,{relatedContext:a,draggedContext:o});return n(s,e)},onDragEnd:function(){this.computeIndexes(),z=null}}};"undefined"!==typeof window&&"Vue"in window&&window.Vue.component("draggable",Y);var K=Y;e["default"]=K}})["default"]},"39bf":function(t,e,n){},4200:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var a=n("22b6");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"collect";return a["a"].post("project/project_collect/collect",{type:e,projectCode:t})}},"53fe":function(t,e,n){var a,o;
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
(function(r){"use strict";a=r,o="function"===typeof a?a.call(e,n,e,t):a,void 0===o||(t.exports=o)})(function(){"use strict";if("undefined"===typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var t,e,n,a,o,r,i,s,c,l,u,d,f,p,h,v,g,m,b,k,w,y,_,x,C,j,T,S,O=[],M=!1,D=!1,R=!1,P=[],E=!1,W=!1,L=[],$=/\s+/g,A="Sortable"+(new Date).getTime(),N=window,I=N.document,z=N.parseInt,F=N.setTimeout,Y=N.jQuery||N.Zepto,K=N.Polymer,B={capture:!1,passive:!1},V=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),U=!!navigator.userAgent.match(/Edge/i),X=!!navigator.userAgent.match(/firefox/i),H=!(!navigator.userAgent.match(/safari/i)||navigator.userAgent.match(/chrome/i)||navigator.userAgent.match(/android/i)),q=!!navigator.userAgent.match(/iP(ad|od|hone)/i),G=q,J=U||V?"cssFloat":"float",Z="draggable"in I.createElement("div"),Q=function(){if(V)return!1;var t=I.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),tt=!1,et=!1,nt=Math.abs,at=Math.min,ot=Math.max,rt=[],it=function(t,e){var n=Ot(t),a=z(n.width)-z(n.paddingLeft)-z(n.paddingRight)-z(n.borderLeftWidth)-z(n.borderRightWidth),o=Lt(t,0,e),r=Lt(t,1,e),i=o&&Ot(o),s=r&&Ot(r),c=i&&z(i.marginLeft)+z(i.marginRight)+Gt(o).width,l=s&&z(s.marginLeft)+z(s.marginRight)+Gt(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&"none"!==i.float){var u="left"===i.float?"left":"right";return!r||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return o&&("block"===i.display||"flex"===i.display||"table"===i.display||"grid"===i.display||c>=a&&"none"===n[J]||r&&"none"===n[J]&&c+l>a)?"vertical":"horizontal"},st=function(t,e){for(var n=0;n<P.length;n++)if(!$t(P[n])){var a=Gt(P[n]),o=P[n][A].options.emptyInsertThreshold,r=t>=a.left-o&&t<=a.right+o,i=e>=a.top-o&&e<=a.bottom+o;if(o&&r&&i)return P[n]}},ct=function(t,e,n,a,o){var r=Gt(n),i="vertical"===a?r.left:r.top,s="vertical"===a?r.right:r.bottom,c="vertical"===a?t:e;return i<c&&c<s},lt=function(e,n,a){var o=e===t&&S||Gt(e),r=n===t&&S||Gt(n),i="vertical"===a?o.left:o.top,s="vertical"===a?o.right:o.bottom,c="vertical"===a?o.width:o.height,l="vertical"===a?r.left:r.top,u="vertical"===a?r.right:r.bottom,d="vertical"===a?r.width:r.height;return i===l||s===u||i+c/2===l+d/2},ut=function(t,e){if(!t||!t.getBoundingClientRect)return dt();var n=t,a=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=Ot(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n||!n.getBoundingClientRect||n===I.body)return dt();if(a||e)return n;a=!0}}}while(n=n.parentNode);return dt()},dt=function(){return V?I.documentElement:I.scrollingElement},ft=function(t,e,n){t.scrollLeft+=e,t.scrollTop+=n},pt=Kt(function(t,e,n,a){if(e.scroll){var o=n?n[A]:window,r=e.scrollSensitivity,i=e.scrollSpeed,u=t.clientX,d=t.clientY,f=dt(),p=!1;c!==n&&(ht(),s=e.scroll,l=e.scrollFn,!0===s&&(s=ut(n,!0),c=s));var h=0,v=s;do{var g,m,b,k,y,_,x,C,j,T=v,S=Gt(T),D=S.top,R=S.bottom,P=S.left,E=S.right,W=S.width,L=S.height;if(g=T.scrollWidth,m=T.scrollHeight,b=Ot(T),C=T.scrollLeft,j=T.scrollTop,T===f?(_=W<g&&("auto"===b.overflowX||"scroll"===b.overflowX||"visible"===b.overflowX),x=L<m&&("auto"===b.overflowY||"scroll"===b.overflowY||"visible"===b.overflowY)):(_=W<g&&("auto"===b.overflowX||"scroll"===b.overflowX),x=L<m&&("auto"===b.overflowY||"scroll"===b.overflowY)),k=_&&(nt(E-u)<=r&&C+W<g)-(nt(P-u)<=r&&!!C),y=x&&(nt(R-d)<=r&&j+L<m)-(nt(D-d)<=r&&!!j),!O[h])for(var $=0;$<=h;$++)O[$]||(O[$]={});O[h].vx==k&&O[h].vy==y&&O[h].el===T||(O[h].el=T,O[h].vx=k,O[h].vy=y,clearInterval(O[h].pid),!T||0==k&&0==y||(p=!0,O[h].pid=setInterval(function(){a&&0===this.layer&&(yt.active._emulateDragOver(!0),yt.active._onTouchMove(w,!0));var e=O[this.layer].vy?O[this.layer].vy*i:0,n=O[this.layer].vx?O[this.layer].vx*i:0;"function"===typeof l&&"continue"!==l.call(o,n,e,t,w,O[this.layer].el)||ft(O[this.layer].el,n,e)}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&v!==f&&(v=ut(v,!1)));M=p}},30),ht=function(){O.forEach(function(t){clearInterval(t.pid)}),O=[]},vt=function(t){function e(t,n){return function(a,o,r,i){var s=a.options.group.name&&o.options.group.name&&a.options.group.name===o.options.group.name;if(null==t&&(n||s))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"===typeof t)return e(t(a,o,r,i),n)(a,o,r,i);var c=(n?a:o).options.group.name;return!0===t||"string"===typeof t&&t===c||t.join&&t.indexOf(c)>-1}}var n={},a=t.group;a&&"object"==typeof a||(a={name:a}),n.name=a.name,n.checkPull=e(a.pull,!0),n.checkPut=e(a.put),n.revertClone=a.revertClone,t.group=n},gt=function(e){t&&t.parentNode&&t.parentNode[A]&&t.parentNode[A]._computeIsAligned(e)},mt=function(){!Q&&n&&Ot(n,"display","none")},bt=function(){!Q&&n&&Ot(n,"display","")};I.addEventListener("click",function(t){if(R)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),R=!1,!1},!0);var kt,wt=function(e){if(t){e=e.touches?e.touches[0]:e;var n=st(e.clientX,e.clientY);if(n){var a={};for(var o in e)a[o]=e[o];a.target=a.rootEl=n,a.preventDefault=void 0,a.stopPropagation=void 0,n[A]._onDragOver(a)}}};function yt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(t);this.el=t,this.options=e=Vt({},e),t[A]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return it(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:z(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==yt.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var a in n)!(a in e)&&(e[a]=n[a]);for(var o in vt(e),this)"_"===o.charAt(0)&&"function"===typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&Z,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?jt(t,"pointerdown",this._onTapStart):(jt(t,"mousedown",this._onTapStart),jt(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(jt(t,"dragover",this),jt(t,"dragenter",this)),P.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[])}function _t(t,e,n,a){if(t){n=n||I;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&Yt(t,e):Yt(t,e))||a&&t===n)return t;if(t===n)break}while(t=xt(t))}return null}function xt(t){return t.host&&t!==I&&t.host.nodeType?t.host:t.parentNode}function Ct(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function jt(t,e,n){t.addEventListener(e,n,!V&&B)}function Tt(t,e,n){t.removeEventListener(e,n,!V&&B)}function St(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var a=(" "+t.className+" ").replace($," ").replace(" "+e+" "," ");t.className=(a+(n?" "+e:"")).replace($," ")}}function Ot(t,e,n){var a=t&&t.style;if(a){if(void 0===n)return I.defaultView&&I.defaultView.getComputedStyle?n=I.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in a||-1!==e.indexOf("webkit")||(e="-webkit-"+e),a[e]=n+("string"===typeof n?"":"px")}}function Mt(t){var e="";do{var n=Ot(t,"transform");n&&"none"!==n&&(e=n+" "+e)}while(t=t.parentNode);return window.DOMMatrix?new DOMMatrix(e):window.WebKitCSSMatrix?new WebKitCSSMatrix(e):window.CSSMatrix?new CSSMatrix(e):void 0}function Dt(t,e,n){if(t){var a=t.getElementsByTagName(e),o=0,r=a.length;if(n)for(;o<r;o++)n(a[o],o);return a}return[]}function Rt(t,e,n,o,r,i,s,c,l,u,d){t=t||e[A];var f,p=t.options,h="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||V||U?(f=I.createEvent("Event"),f.initEvent(n,!0,!0)):f=new CustomEvent(n,{bubbles:!0,cancelable:!0}),f.to=r||e,f.from=i||e,f.item=o||e,f.clone=a,f.oldIndex=s,f.newIndex=c,f.oldDraggableIndex=l,f.newDraggableIndex=u,f.originalEvent=d,f.pullMode=v?v.lastPutMode:void 0,e&&e.dispatchEvent(f),p[h]&&p[h].call(t,f)}function Pt(t,e,n,a,o,r,i,s){var c,l,u=t[A],d=u.options.onMove;return!window.CustomEvent||V||U?(c=I.createEvent("Event"),c.initEvent("move",!0,!0)):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=e,c.from=t,c.dragged=n,c.draggedRect=a,c.related=o||e,c.relatedRect=r||Gt(e),c.willInsertAfter=s,c.originalEvent=i,t.dispatchEvent(c),d&&(l=d.call(u,c,i)),l}function Et(t){t.draggable=!1}function Wt(){tt=!1}function Lt(e,a,o){var r=0,i=0,s=e.children;while(i<s.length){if("none"!==s[i].style.display&&s[i]!==n&&s[i]!==t&&_t(s[i],o.draggable,e,!1)){if(r===a)return s[i];r++}i++}return null}function $t(t){var e=t.lastElementChild;while(e&&(e===n||"none"===Ot(e,"display")))e=e.previousElementSibling;return e||null}function At(t,e,n){var a=Gt($t(n)),o="vertical"===e?t.clientY:t.clientX,r="vertical"===e?t.clientX:t.clientY,i="vertical"===e?a.bottom:a.right,s="vertical"===e?a.left:a.top,c="vertical"===e?a.right:a.bottom,l=10;return"vertical"===e?r>c+l||r<=c&&o>i&&r>=s:o>i&&r>s||o<=i&&r>c+l}function Nt(e,n,a,o,r,i,s){var c=Gt(n),l="vertical"===a?e.clientY:e.clientX,u="vertical"===a?c.height:c.width,d="vertical"===a?c.top:c.left,f="vertical"===a?c.bottom:c.right,p=Gt(t),h=!1;if(!i)if(s&&j<u*o)if(!E&&(1===x?l>d+u*r/2:l<f-u*r/2)&&(E=!0),E)h=!0;else{"vertical"===a?p.top:p.left,"vertical"===a?p.bottom:p.right;if(1===x?l<d+j:l>f-j)return-1*x}else if(l>d+u*(1-o)/2&&l<f-u*(1-o)/2)return It(n);return h=h||i,h&&(l<d+u*r/2||l>f-u*r/2)?l>d+u/2?1:-1:0}function It(e){var n=Ft(t),a=Ft(e);return n<a?1:-1}function zt(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,a=0;while(n--)a+=e.charCodeAt(n);return a.toString(36)}function Ft(t,e){var n=0;if(!t||!t.parentNode)return-1;while(t&&(t=t.previousElementSibling))"TEMPLATE"===t.nodeName.toUpperCase()||t===a||e&&!Yt(t,e)||n++;return n}function Yt(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(n){return!1}return!1}}function Kt(t,e){return function(){if(!kt){var n=arguments,a=this;kt=F(function(){1===n.length?t.call(a,n[0]):t.apply(a,n),kt=void 0},e)}}}function Bt(){clearTimeout(kt),kt=void 0}function Vt(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Ut(t){return K&&K.dom?K.dom(t).cloneNode(!0):Y?Y(t).clone(!0)[0]:t.cloneNode(!0)}function Xt(t){rt.length=0;var e=t.getElementsByTagName("input"),n=e.length;while(n--){var a=e[n];a.checked&&rt.push(a)}}function Ht(t){return F(t,0)}function qt(t){return clearTimeout(t)}function Gt(t,e,n,a){if(t.getBoundingClientRect||t===N){var o,r,i,s,c,l,u;if(t!==N&&t!==dt()?(o=t.getBoundingClientRect(),r=o.top,i=o.left,s=o.bottom,c=o.right,l=o.height,u=o.width):(r=0,i=0,s=window.innerHeight,c=window.innerWidth,l=window.innerHeight,u=window.innerWidth),a&&t!==N&&(n=n||t.parentNode,!V))do{if(n&&n.getBoundingClientRect&&"none"!==Ot(n,"transform")){var d=n.getBoundingClientRect();r-=d.top+z(Ot(n,"border-top-width")),i-=d.left+z(Ot(n,"border-left-width")),s=r+o.height,c=i+o.width;break}}while(n=n.parentNode);if(e&&t!==N){var f=Mt(n||t),p=f&&f.a,h=f&&f.d;f&&(r/=h,i/=p,u/=p,l/=h,s=r+l,c=i+u)}return{top:r,left:i,bottom:s,right:c,width:u,height:l}}}function Jt(t,e){var n=ut(t,!0),a=Gt(t)[e];while(n){var o,r=Gt(n)[e];if(o="top"===e||"left"===e?a>=r:a<=r,!o)return n;if(n===dt())break;n=ut(n,!1)}return!1}function Zt(t){var e=0,n=0,a=dt();if(t)do{var o=Mt(t),r=o.a,i=o.d;e+=t.scrollLeft*r,n+=t.scrollTop*i}while(t!==a&&(t=t.parentNode));return[e,n]}return yt.prototype={constructor:yt,_computeIsAligned:function(e){var a;if(n&&!Q?(mt(),a=I.elementFromPoint(e.clientX,e.clientY),bt()):a=e.target,a=_t(a,this.options.draggable,this.el,!1),!et&&t&&t.parentNode===this.el){for(var o=this.el.children,r=0;r<o.length;r++)_t(o[r],this.options.draggable,this.el,!1)&&o[r]!==a&&(o[r].sortableMouseAligned=ct(e.clientX,e.clientY,o[r],this._getDirection(e,null),this.options));_t(a,this.options.draggable,this.el,!0)||(_=null),et=!0,F(function(){et=!1},30)}},_getDirection:function(e,n){return"function"===typeof this.options.direction?this.options.direction.call(this,e,n,t):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n,a,o=this,r=this.el,s=this.options,c=s.preventOnFilter,l=e.type,u=e.touches&&e.touches[0],d=(u||e).target,f=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||d,p=s.filter;if(Xt(r),!t&&!(/mousedown|pointerdown/.test(l)&&0!==e.button||s.disabled)&&!f.isContentEditable&&(d=_t(d,s.draggable,r,!1),i!==d)){if(n=Ft(d),a=Ft(d,s.draggable),"function"===typeof p){if(p.call(this,e,d,this))return Rt(o,f,"filter",d,r,r,n,void 0,a),void(c&&e.cancelable&&e.preventDefault())}else if(p&&(p=p.split(",").some(function(t){if(t=_t(f,t.trim(),r,!1),t)return Rt(o,t,"filter",d,r,r,n,void 0,a),!0}),p))return void(c&&e.cancelable&&e.preventDefault());s.handle&&!_t(f,s.handle,r,!1)||this._prepareDragStart(e,u,d,n,a)}}},_handleAutoScroll:function(e,n){if(t&&this.options.scroll){var a=e.clientX,o=e.clientY,r=I.elementFromPoint(a,o),i=this;if(n||U||V||H){pt(e,i.options,r,n);var s=ut(r,!0);!M||g&&a===m&&o===b||(g&&clearInterval(g),g=setInterval(function(){if(t){var r=ut(I.elementFromPoint(a,o),!0);r!==s&&(s=r,ht(),pt(e,i.options,s,n))}},10),m=a,b=o)}else{if(!i.options.bubbleScroll||ut(r,!0)===dt())return void ht();pt(e,i.options,ut(r,!1),!1)}}},_prepareDragStart:function(n,a,s,c,l){var d,p=this,v=p.el,g=p.options,m=v.ownerDocument;s&&!t&&s.parentNode===v&&(o=v,t=s,e=t.parentNode,r=t.nextSibling,i=s,h=g.group,u=c,f=l,k={target:t,clientX:(a||n).clientX,clientY:(a||n).clientY},this._lastX=(a||n).clientX,this._lastY=(a||n).clientY,t.style["will-change"]="all",t.style.transition="",t.style.transform="",d=function(){p._disableDelayedDragEvents(),!X&&p.nativeDraggable&&(t.draggable=!0),p._triggerDragStart(n,a),Rt(p,o,"choose",t,o,o,u,void 0,f),St(t,g.chosenClass,!0)},g.ignore.split(",").forEach(function(e){Dt(t,e.trim(),Et)}),jt(m,"dragover",wt),jt(m,"mousemove",wt),jt(m,"touchmove",wt),jt(m,"mouseup",p._onDrop),jt(m,"touchend",p._onDrop),jt(m,"touchcancel",p._onDrop),X&&this.nativeDraggable&&(this.options.touchStartThreshold=4,t.draggable=!0),!g.delay||g.delayOnTouchOnly&&!a||this.nativeDraggable&&(U||V)?d():(jt(m,"mouseup",p._disableDelayedDrag),jt(m,"touchend",p._disableDelayedDrag),jt(m,"touchcancel",p._disableDelayedDrag),jt(m,"mousemove",p._delayedDragTouchMoveHandler),jt(m,"touchmove",p._delayedDragTouchMoveHandler),g.supportPointer&&jt(m,"pointermove",p._delayedDragTouchMoveHandler),p._dragStartTimer=F(d,g.delay)))},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;ot(nt(e.clientX-this._lastX),nt(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){t&&Et(t),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Tt(t,"mouseup",this._disableDelayedDrag),Tt(t,"touchend",this._disableDelayedDrag),Tt(t,"touchcancel",this._disableDelayedDrag),Tt(t,"mousemove",this._delayedDragTouchMoveHandler),Tt(t,"touchmove",this._delayedDragTouchMoveHandler),Tt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||("touch"==e.pointerType?e:null),!this.nativeDraggable||n?this.options.supportPointer?jt(I,"pointermove",this._onTouchMove):jt(I,n?"touchmove":"mousemove",this._onTouchMove):(jt(t,"dragend",this),jt(o,"dragstart",this._onDragStart));try{I.selection?Ht(function(){I.selection.empty()}):window.getSelection().removeAllRanges()}catch(a){}},_dragStarted:function(e,n){if(D=!1,o&&t){this.nativeDraggable&&(jt(I,"dragover",this._handleAutoScroll),jt(I,"dragover",gt));var a=this.options;!e&&St(t,a.dragClass,!1),St(t,a.ghostClass,!0),Ot(t,"transform",""),yt.active=this,e&&this._appendGhost(),Rt(this,o,"start",t,o,o,u,void 0,f,void 0,n)}else this._nulling()},_emulateDragOver:function(e){if(w){if(this._lastX===w.clientX&&this._lastY===w.clientY&&!e)return;this._lastX=w.clientX,this._lastY=w.clientY,mt();var n=I.elementFromPoint(w.clientX,w.clientY),a=n;while(n&&n.shadowRoot){if(n=n.shadowRoot.elementFromPoint(w.clientX,w.clientY),n===a)break;a=n}if(a)do{var o;if(a[A])if(o=a[A]._onDragOver({clientX:w.clientX,clientY:w.clientY,target:n,rootEl:a}),o&&!this.options.dragoverBubble)break;n=a}while(a=a.parentNode);t.parentNode[A]._computeIsAligned(w),bt()}},_onTouchMove:function(t,e){if(k){var a=this.options,o=a.fallbackTolerance,r=a.fallbackOffset,i=t.touches?t.touches[0]:t,s=n&&Mt(n),c=n&&s&&s.a,l=n&&s&&s.d,u=G&&T&&Zt(T),d=(i.clientX-k.clientX+r.x)/(c||1)+(u?u[0]-L[0]:0)/(c||1),f=(i.clientY-k.clientY+r.y)/(l||1)+(u?u[1]-L[1]:0)/(l||1),p=t.touches?"translate3d("+d+"px,"+f+"px,0)":"translate("+d+"px,"+f+"px)";if(!yt.active&&!D){if(o&&at(nt(i.clientX-this._lastX),nt(i.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}!e&&this._handleAutoScroll(i,!0),y=!0,w=i,Ot(n,"webkitTransform",p),Ot(n,"mozTransform",p),Ot(n,"msTransform",p),Ot(n,"transform",p),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!n){var e=this.options.fallbackOnBody?I.body:o,a=Gt(t,!0,e,!G),r=(Ot(t),this.options);if(G){T=e;while("static"===Ot(T,"position")&&"none"===Ot(T,"transform")&&T!==I)T=T.parentNode;if(T!==I){var i=Gt(T,!0);a.top-=i.top,a.left-=i.left}T!==I.body&&T!==I.documentElement?(T===I&&(T=dt()),a.top+=T.scrollTop,a.left+=T.scrollLeft):T=dt(),L=Zt(T)}n=t.cloneNode(!0),St(n,r.ghostClass,!1),St(n,r.fallbackClass,!0),St(n,r.dragClass,!0),Ot(n,"box-sizing","border-box"),Ot(n,"margin",0),Ot(n,"top",a.top),Ot(n,"left",a.left),Ot(n,"width",a.width),Ot(n,"height",a.height),Ot(n,"opacity","0.8"),Ot(n,"position",G?"absolute":"fixed"),Ot(n,"zIndex","100000"),Ot(n,"pointerEvents","none"),e.appendChild(n)}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;a=Ut(t),a.draggable=!1,a.style["will-change"]="",this._hideClone(),St(a,r.options.chosenClass,!1),r._cloneId=Ht(function(){r.options.removeCloneOnHide||o.insertBefore(a,t),Rt(r,o,"clone",t)}),!n&&St(t,s.dragClass,!0),n?(R=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Tt(I,"mouseup",r._onDrop),Tt(I,"touchend",r._onDrop),Tt(I,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,t)),jt(I,"drop",r),Ot(t,"transform","translateZ(0)")),D=!0,r._dragStartId=Ht(r._dragStarted.bind(r,n,e)),jt(I,"selectstart",r),H&&Ot(I.body,"user-select","none")},_onDragOver:function(n){var a,i,s,c=this.el,l=n.target,d=this.options,p=d.group,g=yt.active,m=h===p,b=d.sort,k=this;if(!tt){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),y=!0,l=_t(l,d.draggable,c,!0),t.contains(n.target)||l.animated)return B(!1);if(l!==t&&(R=!1),g&&!d.disabled&&(m?b||(s=!o.contains(t)):v===this||(this.lastPutMode=h.checkPull(this,g,t,n))&&p.checkPut(this,g,t,n))){var w=this._getDirection(n,l);if(a=Gt(t),s)return this._hideClone(),e=o,r?o.insertBefore(t,r):o.appendChild(t),B(!0);var T=$t(c);if(!T||At(n,w,c)&&!T.animated){if(T&&c===n.target&&(l=T),l&&(i=Gt(l)),m?g._hideClone():g._showClone(this),!1!==Pt(o,c,t,a,l,i,n,!!l))return c.appendChild(t),e=c,S=null,V(),B(!0)}else if(l&&l!==t&&l.parentNode===c){var O,M=0,D=l.sortableMouseAligned,P=t.parentNode!==c,L="vertical"===w?"top":"left",$=Jt(l,"top")||Jt(t,"top"),N=$?$.scrollTop:void 0;if(_!==l&&(C=null,O=Gt(l)[L],E=!1),lt(t,l,w)&&D||P||$||d.invertSwap||"insert"===C||"swap"===C?("swap"!==C&&(W=d.invertSwap||P),M=Nt(n,l,w,d.swapThreshold,null==d.invertedSwapThreshold?d.swapThreshold:d.invertedSwapThreshold,W,_===l),C="swap"):(M=It(l),C="insert"),0===M)return B(!1);S=null,_=l,x=M,i=Gt(l);var z=l.nextElementSibling,Y=!1;Y=1===M;var K=Pt(o,c,t,a,l,i,n,Y);if(!1!==K)return 1!==K&&-1!==K||(Y=1===K),tt=!0,F(Wt,30),m?g._hideClone():g._showClone(this),Y&&!z?c.appendChild(t):l.parentNode.insertBefore(t,Y?z:l),$&&ft($,0,N-$.scrollTop),e=t.parentNode,void 0===O||W||(j=nt(O-Gt(l)[L])),V(),B(!0)}if(c.contains(t))return B(!1)}return!1}function B(e){return e&&(m?g._hideClone():g._showClone(k),g&&(St(t,v?v.options.ghostClass:g.options.ghostClass,!1),St(t,d.ghostClass,!0)),v!==k&&k!==yt.active?v=k:k===yt.active&&(v=null),a&&k._animate(a,t),l&&i&&k._animate(i,l)),(l===t&&!t.animated||l===c&&!l.animated)&&(_=null),d.dragoverBubble||n.rootEl||l===I||(k._handleAutoScroll(n),t.parentNode[A]._computeIsAligned(n),!e&&wt(n)),!d.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),!0}function V(){Rt(k,o,"change",l,c,o,u,Ft(t),f,Ft(t,d.draggable),n)}},_animate:function(e,n){var a=this.options.animation;if(a){var o=Gt(n);if(n===t&&(S=o),1===e.nodeType&&(e=Gt(e)),e.left+e.width/2!==o.left+o.width/2||e.top+e.height/2!==o.top+o.height/2){var r=Mt(this.el),i=r&&r.a,s=r&&r.d;Ot(n,"transition","none"),Ot(n,"transform","translate3d("+(e.left-o.left)/(i||1)+"px,"+(e.top-o.top)/(s||1)+"px,0)"),this._repaint(n),Ot(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),Ot(n,"transform","translate3d(0,0,0)")}"number"===typeof n.animated&&clearTimeout(n.animated),n.animated=F(function(){Ot(n,"transition",""),Ot(n,"transform",""),n.animated=!1},a)}},_repaint:function(t){return t.offsetWidth},_offMoveEvents:function(){Tt(I,"touchmove",this._onTouchMove),Tt(I,"pointermove",this._onTouchMove),Tt(I,"dragover",wt),Tt(I,"mousemove",wt),Tt(I,"touchmove",wt)},_offUpEvents:function(){var t=this.el.ownerDocument;Tt(t,"mouseup",this._onDrop),Tt(t,"touchend",this._onDrop),Tt(t,"pointerup",this._onDrop),Tt(t,"touchcancel",this._onDrop),Tt(I,"selectstart",this)},_onDrop:function(i){var s=this.el,c=this.options;D=!1,M=!1,W=!1,E=!1,clearInterval(this._loopId),clearInterval(g),ht(),Bt(),clearTimeout(this._dragStartTimer),qt(this._cloneId),qt(this._dragStartId),Tt(I,"mousemove",this._onTouchMove),this.nativeDraggable&&(Tt(I,"drop",this),Tt(s,"dragstart",this._onDragStart),Tt(I,"dragover",this._handleAutoScroll),Tt(I,"dragover",gt)),H&&Ot(I.body,"user-select",""),this._offMoveEvents(),this._offUpEvents(),i&&(y&&(i.cancelable&&i.preventDefault(),!c.dropBubble&&i.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),(o===e||v&&"clone"!==v.lastPutMode)&&a&&a.parentNode&&a.parentNode.removeChild(a),t&&(this.nativeDraggable&&Tt(t,"dragend",this),Et(t),t.style["will-change"]="",St(t,v?v.options.ghostClass:this.options.ghostClass,!1),St(t,this.options.chosenClass,!1),Rt(this,o,"unchoose",t,e,o,u,null,f,null,i),o!==e?(d=Ft(t),p=Ft(t,c.draggable),d>=0&&(Rt(null,e,"add",t,e,o,u,d,f,p,i),Rt(this,o,"remove",t,e,o,u,d,f,p,i),Rt(null,e,"sort",t,e,o,u,d,f,p,i),Rt(this,o,"sort",t,e,o,u,d,f,p,i)),v&&v.save()):t.nextSibling!==r&&(d=Ft(t),p=Ft(t,c.draggable),d>=0&&(Rt(this,o,"update",t,e,o,u,d,f,p,i),Rt(this,o,"sort",t,e,o,u,d,f,p,i))),yt.active&&(null!=d&&-1!==d||(d=u,p=f),Rt(this,o,"end",t,e,o,u,d,f,p,i),this.save()))),this._nulling()},_nulling:function(){o=t=e=n=r=a=i=s=c=O.length=g=m=b=k=w=y=d=u=_=x=S=v=h=yt.active=null,rt.forEach(function(t){t.checked=!0}),rt.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":t&&(this._onDragOver(e),Ct(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var t,e=[],n=this.el.children,a=0,o=n.length,r=this.options;a<o;a++)t=n[a],_t(t,r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||zt(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach(function(t,a){var o=n.children[a];_t(o,this.options.draggable,n,!1)&&(e[t]=o)},this),t.forEach(function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return _t(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];n[t]=e,"group"===t&&vt(n)},destroy:function(){var t=this.el;t[A]=null,Tt(t,"mousedown",this._onTapStart),Tt(t,"touchstart",this._onTapStart),Tt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Tt(t,"dragover",this),Tt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),P.splice(P.indexOf(this.el),1),this.el=t=null},_hideClone:function(){a.cloneHidden||(Ot(a,"display","none"),a.cloneHidden=!0,a.parentNode&&this.options.removeCloneOnHide&&a.parentNode.removeChild(a))},_showClone:function(e){"clone"===e.lastPutMode?a.cloneHidden&&(o.contains(t)&&!this.options.group.revertClone?o.insertBefore(a,t):r?o.insertBefore(a,r):o.appendChild(a),this.options.group.revertClone&&this._animate(t,a),Ot(a,"display",""),a.cloneHidden=!1):this._hideClone()}},jt(I,"touchmove",function(t){(yt.active||D)&&t.cancelable&&t.preventDefault()}),yt.utils={on:jt,off:Tt,css:Ot,find:Dt,is:function(t,e){return!!_t(t,e,t,!1)},extend:Vt,throttle:Kt,closest:_t,toggleClass:St,clone:Ut,index:Ft,nextTick:Ht,cancelNextTick:qt,detectDirection:it,getChild:Lt},yt.create=function(t,e){return new yt(t,e)},yt.version="1.9.0",yt})},"55dd":function(t,e,n){"use strict";var a=n("5ca1"),o=n("d8e8"),r=n("4bf8"),i=n("79e5"),s=[].sort,c=[1,2,3];a(a.P+a.F*(i(function(){c.sort(void 0)})||!i(function(){c.sort(null)})||!n("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(r(this)):s.call(r(this),o(t))}})},"58bf":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-tabs",{attrs:{tabPosition:"left",defaultActiveKey:"1",animated:!1},model:{value:t.tabKey,callback:function(e){t.tabKey=e},expression:"tabKey"}},[n("a-tab-pane",{key:"1"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"heat-map"}}),t._v("\n                    概览\n                ")],1),n("div",{staticClass:"config-content"},[n("div",{staticClass:"content-item"},[n("div",{staticClass:"infos"},[n("p",{staticClass:"item-title"},[t._v("项目封面")]),n("div",{staticClass:"cover-item"},[t.project.cover?[n("img",{staticClass:"avatar",attrs:{src:t.project.cover}})]:t._e(),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.project.cover,expression:"!project.cover"}],staticClass:"no-avatar"}),n("a-upload",{staticClass:"cover-uploader",attrs:{name:"cover",showUploadList:!1,headers:t.headers,action:t.uploadAction,beforeUpload:t.beforeUpload},on:{change:t.handleChange}},[n("a-button",{staticClass:"upload",attrs:{size:"large"}},[t._v("上传新封面")]),n("p",{staticClass:"upload-tips muted"},[t._v("最佳图片比例为300*150")])],1)],2)])]),n("div",{staticClass:"content-item"},[n("div",{staticClass:"infos"},[n("p",{staticClass:"item-title"},[t._v("项目名称")]),n("a-input",{attrs:{size:"large"},model:{value:t.project.name,callback:function(e){t.$set(t.project,"name",e)},expression:"project.name"}})],1),n("div",{staticClass:"infos"},[n("p",{staticClass:"item-title"},[t._v("项目进度 (%)")]),n("a-input-number",{attrs:{size:"large",min:0,max:100},model:{value:t.project.schedule,callback:function(e){t.$set(t.project,"schedule",e)},expression:"project.schedule"}})],1)]),n("div",{staticClass:"content-item"},[n("div",{staticClass:"infos"},[n("p",{staticClass:"item-title"},[t._v("项目简介")]),n("a-input",{attrs:{type:"textarea",rows:3,size:"large",placeholder:"介绍一下这个项目"},model:{value:t.project.description,callback:function(e){t.$set(t.project,"description",e)},expression:"project.description"}})],1)]),n("div",{staticClass:"content-item"},[n("div",{staticClass:"infos"},[n("p",{staticClass:"item-title"},[t._v("项目公开性")]),n("a-select",{attrs:{size:"large"},model:{value:t.project.private,callback:function(e){t.$set(t.project,"private",e)},expression:"project.private"}},[n("a-select-option",{key:0},[t._v("\n                            公开项目（所有人都可通过链接访问，仅项目成员可编辑）\n                        ")]),n("a-select-option",{key:1},[t._v("\n                            私有项目（仅项目成员可查看和编辑）\n                        ")])],1)],1)]),n("div",{staticClass:"content-item"},[n("div",{staticClass:"infos"},[n("p",{staticClass:"item-title"},[t._v("项目拥有者")]),n("div",{staticClass:"m-t"},[n("a-avatar",{attrs:{src:t.project.owner_avatar}}),n("span",{staticClass:"m-l"},[t._v(t._s(t.project.owner_name))])],1)])]),n("a-divider"),n("div",{staticClass:"content-item"},[n("div",{staticClass:"infos"},[n("a-button",{staticClass:"middle-btn pull-right",attrs:{type:"primary",size:"large"},on:{click:t.saveProject}},[t._v("\n                        保存\n                    ")])],1)])],1)]),n("a-tab-pane",{key:"2",attrs:{forceRender:""}},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"eye"}}),t._v("\n             项目偏好\n         ")],1),n("div",{staticClass:"config-content task-config"},[n("div",{staticClass:"content-item"},[n("div",{staticClass:"infos"},[n("p",{staticClass:"item-title"},[t._v("看板风格")]),n("div",{staticClass:"item-tips muted"},[t._v("切换任务看板的主题风格，内置两种风格。")]),n("a-radio-group",{on:{change:t.saveProject},model:{value:t.project.task_board_theme,callback:function(e){t.$set(t.project,"task_board_theme",e)},expression:"project.task_board_theme"}},[n("a-radio",{staticStyle:{display:"block",height:"30px","line-height":"30px"},attrs:{value:"default"}},[t._v("默认")]),n("a-radio",{staticStyle:{display:"block",height:"30px","line-height":"30px"},attrs:{value:"simple"}},[t._v("简约")])],1)],1)]),n("div",{staticClass:"content-item"},[n("div",{staticClass:"infos"},[n("p",{staticClass:"item-title"},[t._v("自动更新项目进度")]),n("div",{staticClass:"item-tips muted"},[t._v("根据当前任务的完成情况自动计算项目进度。")])]),n("a-switch",{on:{change:t.saveProject},model:{value:t.project.auto_update_schedule,callback:function(e){t.$set(t.project,"auto_update_schedule",e)},expression:"project.auto_update_schedule"}})],1)])]),n("a-tab-pane",{key:"3"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"check-square"}}),t._v("\n                    任务设置\n                ")],1),n("div",{staticClass:"config-content task-config"},[n("div",{staticClass:"content-item"},[n("div",{staticClass:"infos"},[n("p",{staticClass:"item-title"},[t._v("项目ID")]),n("div",{staticClass:"item-tips muted"},[t._v("设置项目编号，编号将作为 ID 前缀，用以区别项目。支持 2-6 位字母。")]),n("a-input",{staticClass:"prefix-input",attrs:{size:"large",placeholder:"如 Pear Project 可以设置为 EP",disabled:!t.project.open_prefix},model:{value:t.project.prefix,callback:function(e){t.$set(t.project,"prefix",e)},expression:"project.prefix"}}),n("a-button",{staticClass:"middle-btn",attrs:{size:"large",type:"primary",disabled:!t.project.open_prefix},on:{click:t.saveProject}},[t._v("保存\n                    ")])],1),n("a-switch",{on:{change:t.saveProject},model:{value:t.project.open_prefix,callback:function(e){t.$set(t.project,"open_prefix",e)},expression:"project.open_prefix"}})],1),n("div",{staticClass:"content-item"},[n("div",{staticClass:"infos"},[n("p",{staticClass:"item-title"},[t._v("任务开始时间")]),n("div",{staticClass:"item-tips muted"},[t._v("为任务设置开始时间，更科学地规划工作。")])]),n("a-switch",{on:{change:t.saveProject},model:{value:t.project.open_begin_time,callback:function(e){t.$set(t.project,"open_begin_time",e)},expression:"project.open_begin_time"}})],1),n("div",{staticClass:"content-item"},[n("div",{staticClass:"infos"},[n("p",{staticClass:"item-title"},[t._v("新任务默认开启隐私模式")]),n("div",{staticClass:"item-tips muted"},[t._v("对本项目内的新任务默认开启隐私模式，创建成功后仅参与者可见")])]),n("a-switch",{on:{change:t.saveProject},model:{value:t.project.open_task_private,callback:function(e){t.$set(t.project,"open_task_private",e)},expression:"project.open_task_private"}})],1)])]),n("a-tab-pane",{key:"4",attrs:{forceRender:""}},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"deployment-unit"}}),t._v("\n             任务流转\n         ")],1),n("div",{staticClass:"config-content"},[n("div",{staticClass:"content-item task-workflow"},[n("div",{staticClass:"infos",staticStyle:{"padding-right":"0"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.doTaskWorkflowView,expression:"!doTaskWorkflowView"}]},[n("p",[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(e){return t.doTaskWorkflow(null)}}},[t._v("创建规则")])],1),n("a-list",{staticClass:"task-workflow-list",attrs:{itemLayout:"horizontal",dataSource:t.taskWorkflowList},scopedSlots:t._u([{key:"renderItem",fn:function(e){return n("a-list-item",{},[n("span",{attrs:{slot:"actions"},slot:"actions"},[n("a-tooltip",{attrs:{placement:"top",title:"编辑"}},[n("a",{staticClass:"muted m-r-sm",on:{click:function(n){return t.doTaskWorkflow(e)}}},[n("a-icon",{attrs:{type:"edit"}})],1)]),n("a-tooltip",{attrs:{placement:"top",title:"删除"}},[n("a",{staticClass:"muted",on:{click:function(n){return t.delTaskWorkflow(e.code)}}},[n("a-icon",{attrs:{type:"delete"}})],1)])],1),n("a-list-item-meta",[n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])])],1)}}])})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.doTaskWorkflowView,expression:"doTaskWorkflowView"}]},[n("div",{staticClass:"header"},[n("p",[n("a-button",{staticClass:"middle-btn m-r-sm",attrs:{size:"large"},on:{click:function(e){return t.saveTaskWorkflow(!1)}}},[t._v("\n                                    取消\n                                ")]),n("a-button",{staticClass:"middle-btn",attrs:{size:"large",type:"primary",disabled:!t.canSaveTaskWorkflow},on:{click:function(e){return t.saveTaskWorkflow(!0)}}},[t._v("保存\n                                ")])],1)]),n("div",{staticClass:"workflow-content"},[t.loadingWorkflowRule?t._e():[n("div",{staticClass:"workflow-rule-item"},[n("p",[t._v("\n                                        规则名称\n                                    ")]),n("a-input",{attrs:{size:"large"},model:{value:t.currentTaskWorkflowRule.taskWorkflowName,callback:function(e){t.$set(t.currentTaskWorkflowRule,"taskWorkflowName",e)},expression:"currentTaskWorkflowRule.taskWorkflowName"}})],1),n("div",{staticClass:"workflow-rule-item"},[n("p",[t._v("选择任务列表")]),n("a-select",{attrs:{size:"large"},on:{change:function(e){return t.workflowRuleChange(e,"firstObj")}},model:{value:t.currentTaskWorkflowRule.firstObj,callback:function(e){t.$set(t.currentTaskWorkflowRule,"firstObj",e)},expression:"currentTaskWorkflowRule.firstObj"}},t._l(t.taskStages,function(e,a){return n("a-select-option",{key:e.code,attrs:{value:e.code}},[t._v("\n                                            "+t._s(e.name)+"\n                                        ")])}),1)],1),t.currentTaskWorkflowRule.firstObj?[n("div",{staticClass:"workflow-rule-item"},[n("p",[t._v("选择条件")]),n("a-select",{attrs:{size:"large"},on:{change:function(e){return t.workflowRuleChange(e,"firstAction.action")}},model:{value:t.currentTaskWorkflowRule.firstAction.action,callback:function(e){t.$set(t.currentTaskWorkflowRule.firstAction,"action",e)},expression:"currentTaskWorkflowRule.firstAction.action"}},t._l(t.taskWorkflowRuleActions,function(e,a){return n("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name)+"\n                                            ")])}),1)],1),-1!=t.currentTaskWorkflowRule.firstAction.action?[3==t.currentTaskWorkflowRule.firstAction.action?[n("div",{staticClass:"workflow-rule-item"},[n("p",[t._v("选择执行者")]),n("a-select",{attrs:{size:"large"},on:{change:function(e){return t.workflowRuleChange(e,"firstAction.value")}},model:{value:t.currentTaskWorkflowRule.firstAction.value,callback:function(e){t.$set(t.currentTaskWorkflowRule.firstAction,"value",e)},expression:"currentTaskWorkflowRule.firstAction.value"}},t._l(t.projectMembers,function(e,a){return n("a-select-option",{key:e.code,attrs:{value:e.code}},[t._v("\n                                                        "+t._s(e.name)+"\n                                                    ")])}),1)],1)]:t._e(),n("div",{staticClass:"workflow-rule-item"},[n("p",[t._v("选择结果")]),n("a-select",{attrs:{size:"large"},on:{change:function(e){return t.workflowRuleChange(e,"firstResult.action")}},model:{value:t.currentTaskWorkflowRule.firstResult.action,callback:function(e){t.$set(t.currentTaskWorkflowRule.firstResult,"action",e)},expression:"currentTaskWorkflowRule.firstResult.action"}},t._l(t.taskWorkflowRuleTypes,function(e,a){return n("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name)+"\n                                                ")])}),1)],1),0===t.currentTaskWorkflowRule.firstResult.action?[n("div",{staticClass:"workflow-rule-item"},[n("p",[t._v("流转任务列表")]),n("a-select",{attrs:{size:"large"},on:{change:function(e){return t.workflowRuleChange(e,"firstResult.value")}},model:{value:t.currentTaskWorkflowRule.firstResult.value,callback:function(e){t.$set(t.currentTaskWorkflowRule.firstResult,"value",e)},expression:"currentTaskWorkflowRule.firstResult.value"}},t._l(t.taskStages,function(e,a){return n("a-select-option",{key:e.code,attrs:{value:e.code}},[t._v("\n                                                        "+t._s(e.name)+"\n                                                    ")])}),1)],1),t.currentTaskWorkflowRule.firstResult.value?[n("div",{staticClass:"workflow-rule-item"},[n("p",[t._v("选择执行者")]),n("a-select",{attrs:{size:"large"},on:{change:function(e){return t.workflowRuleChange(e,"lastResult.value")}},model:{value:t.currentTaskWorkflowRule.lastResult.value,callback:function(e){t.$set(t.currentTaskWorkflowRule.lastResult,"value",e)},expression:"currentTaskWorkflowRule.lastResult.value"}},t._l(t.projectMembers,function(e,a){return n("a-select-option",{key:e.code,attrs:{value:e.code}},[t._v("\n                                                            "+t._s(e.name)+"\n                                                        ")])}),1)],1)]:t._e(),[n("div",{staticClass:"workflow-rule-item"},[n("p",[t._v("修改任务状态")]),n("a-select",{attrs:{size:"large"},on:{change:function(e){return t.workflowRuleChange(e,"state.value")}},model:{value:t.currentTaskWorkflowRule.state.value,callback:function(e){t.$set(t.currentTaskWorkflowRule.state,"value",e)},expression:"currentTaskWorkflowRule.state.value"}},t._l(t.taskStates,function(e,a){return n("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v("\n                                                            "+t._s(e.name)+"\n                                                        ")])}),1)],1)]]:t._e(),3===t.currentTaskWorkflowRule.firstResult.action?[n("div",{staticClass:"workflow-rule-item"},[n("p",[t._v("选择执行者")]),n("a-select",{attrs:{size:"large"},on:{change:function(e){return t.workflowRuleChange(e,"firstAction.action")}},model:{value:t.currentTaskWorkflowRule.firstResult.value,callback:function(e){t.$set(t.currentTaskWorkflowRule.firstResult,"value",e)},expression:"currentTaskWorkflowRule.firstResult.value"}},t._l(t.projectMembers,function(e,a){return n("a-select-option",{key:e.code,attrs:{value:e.code}},[t._v("\n                                                        "+t._s(e.name)+"\n                                                    ")])}),1)],1),t.currentTaskWorkflowRule.firstResult.value?[n("div",{staticClass:"workflow-rule-item"},[n("p",[t._v("流转任务列表")]),n("a-select",{attrs:{size:"large"},on:{change:function(e){return t.workflowRuleChange(e,"lastResult.value")}},model:{value:t.currentTaskWorkflowRule.lastResult.value,callback:function(e){t.$set(t.currentTaskWorkflowRule.lastResult,"value",e)},expression:"currentTaskWorkflowRule.lastResult.value"}},t._l(t.taskStages,function(e,a){return n("a-select-option",{key:e.code,attrs:{value:e.code}},[t._v("\n                                                            "+t._s(e.name)+"\n                                                        ")])}),1)],1)]:t._e(),[n("div",{staticClass:"workflow-rule-item"},[n("p",[t._v("修改任务状态")]),n("a-select",{attrs:{size:"large"},on:{change:function(e){return t.workflowRuleChange(e,"state.value")}},model:{value:t.currentTaskWorkflowRule.state.value,callback:function(e){t.$set(t.currentTaskWorkflowRule.state,"value",e)},expression:"currentTaskWorkflowRule.state.value"}},t._l(t.taskStates,function(e,a){return n("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v("\n                                                            "+t._s(e.name)+"\n                                                        ")])}),1)],1)]]:t._e()]:t._e()]:t._e()],n("div",{staticClass:"text-center"},[n("a-spin",{attrs:{spinning:t.loadingWorkflowRule}})],1)],2)])])])])]),n("a-tab-pane",{key:"5"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"ellipsis"}}),t._v("\n                    更多\n                ")],1),n("div",{staticClass:"config-content more-config"},[n("div",{staticClass:"content-item"},[n("div",{staticClass:"infos"},[n("p",{staticClass:"item-title"},[t._v("项目操作")]),n("div",{staticClass:"item-tips muted"},[t._v("您可以执行以下操作")]),n("a-button",{staticClass:"middle-btn",attrs:{size:"large"},on:{click:t.archiveProject}},[t.project.archive?n("span",[t._v("取消归档")]):t._e(),t.project.archive?t._e():n("span",[t._v("归档项目")])]),n("a-button",{staticClass:"middle-btn",attrs:{size:"large"},on:{click:t.quitProject}},[t._v("退出")]),n("a-button",{staticClass:"middle-btn",attrs:{size:"large",type:"danger"},on:{click:t.delProject}},[t.project.deleted?n("span",[t._v("恢复项目")]):t._e(),t.project.deleted?t._e():n("span",[t._v("移至回收站")])])],1)])])])],1)},o=[],r=(n("ac6a"),n("a481"),n("c5f6"),n("7f7f"),n("24d2")),i=n("22b6");function s(t){return i["a"].post("project/task_workflow",t)}function c(t){return i["a"].post("project/task_workflow/_getTaskWorkflowRules",t)}function l(t){return i["a"].post("project/task_workflow/save",t)}function u(t){return i["a"].post("project/task_workflow/edit",t)}function d(t){return i["a"].post("project/task_workflow/delete",t)}var f=n("e507"),p=n("9f5d"),h=n("97a8"),v=n("2f14"),g={name:"projectConfig",props:{code:{type:[String],default:function(){return""}}},data:function(){return{loading:!1,tabKey:"1",project:{},taskWorkflowList:[],doTaskWorkflowView:!1,loadingWorkflowRule:!1,taskWorkflow:null,taskWorkflowRuleList:[],currentTaskWorkflowRule:{taskWorkflowName:"",firstObj:"",firstAction:{action:-1,value:""},firstResult:{action:-1,value:""},lastResult:{action:-1,value:""},state:{action:-1,value:-1}},taskWorkflowRuleActions:[{id:-1,name:"请选择"},{id:0,name:"增加任务、被移动"},{id:1,name:"被完成"},{id:2,name:"被重做"},{id:3,name:"设置执行人"}],taskWorkflowRuleTypes:[{id:-1,name:"请选择"},{id:0,name:"自动流转到"},{id:3,name:"默认指派给"}],taskStates:[{id:-1,name:"不做修改"},{id:1,name:"已完成"},{id:2,name:"未完成"}],projectMembers:[],taskStages:[],uploadLoading:!1,uploadAction:Object(v["c"])("project/project/uploadCover")}},computed:{headers:function(){return Object(v["d"])()},canSaveTaskWorkflow:function(){return this.currentTaskWorkflowRule.taskWorkflowName.trim()&&this.currentTaskWorkflowRule.firstObj&&-1!=this.currentTaskWorkflowRule.firstAction.action&&-1!=this.currentTaskWorkflowRule.firstResult.action&&this.currentTaskWorkflowRule.firstResult.value}},watch:{code:function(){this.getProject()}},created:function(){this.getProject(),this.getTaskWorkflowList()},methods:{getProject:function(){var t=this;this.loading=!0,Object(r["f"])(this.code).then(function(e){t.loading=!1,t.project=e.data,t.project.open_prefix=!!e.data.open_prefix,t.project.open_begin_time=!!e.data.open_begin_time,t.project.open_task_private=!!e.data.open_task_private})},getTaskWorkflowList:function(){var t=this;s({projectCode:this.code}).then(function(e){t.taskWorkflowList=e.data})},saveProject:function(){var t=this,e=this.project;Object(r["c"])({projectCode:e.code,name:e.name,description:e.description,cover:e.cover,private:e.private,prefix:e.prefix,task_board_theme:e.task_board_theme,open_prefix:Number(e.open_prefix),open_begin_time:Number(e.open_begin_time),open_task_private:Number(e.open_task_private),schedule:Number(e.schedule),auto_update_schedule:Number(e.auto_update_schedule)}).then(function(e){Object(v["a"])(e)&&(t.$emit("update",t.project),Object(h["b"])({title:"保存成功"},"notice","success"))})},archiveProject:function(){var t=this;t.project.archive?this.$confirm({title:"取消归档项目？",content:"取消归档「".concat(this.project.name,"」后就可以正常使用了"),okText:"取消归档",okType:"primary",cancelText:"再想想",onOk:function(){return Object(r["h"])(t.code).then(function(e){Object(v["a"])(e)&&t.$router.replace("/project/list/my")}),Promise.resolve()}}):this.$confirm({title:"归档项目",content:"一旦将项目「".concat(this.project.name,"」归档，本项目和所含信息将会被移到「归档项目」内，其中的内容依然会被统计和搜索收录，归档项目可以随时恢复并继续使用。"),okText:"归档",okType:"danger",cancelText:"再想想",onOk:function(){return Object(r["b"])(t.code).then(function(e){Object(v["a"])(e)&&t.$router.replace("/project/archive")}),Promise.resolve()}})},delProject:function(){var t=this;t.project.deleted?this.$confirm({title:"确定恢复项目？",content:"恢复「".concat(this.project.name,"」后就可以正常使用了"),okText:"恢复项目",okType:"primary",cancelText:"再想想",onOk:function(){return Object(r["g"])(t.code).then(function(e){Object(v["a"])(e)&&t.$router.replace("/project/list/my")}),Promise.resolve()}}):this.$confirm({title:"确定放入回收站？",content:"一旦将项目「".concat(this.project.name,"」放入回收站，所有与项目有关的信息将会被放入回收站"),okText:"放入回收站",okType:"danger",cancelText:"再想想",onOk:function(){return Object(r["i"])(t.code).then(function(e){Object(v["a"])(e)&&t.$router.replace("/project/recycle")}),Promise.resolve()}})},quitProject:function(){var t=this;this.$confirm({title:"退出项目",content:"一旦你退出了该项目，你将不能查看任何关于该项目的信息。退出项目后，如果想重新加入，请联系项目管理员。",okText:"确定退出",okType:"primary",cancelText:"再想想",onOk:function(){return Object(r["e"])(t.code).then(function(e){Object(v["a"])(e)&&t.$router.replace("/project/list/my")}),Promise.resolve()}})},doTaskWorkflow:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.getTaskStages(),this.getProjectMembers(),this.taskWorkflow=t,t?(this.loadingWorkflowRule=!0,this.currentTaskWorkflowRule.taskWorkflowName=t.name,this.getTaskWorkflowRules(t.code)):this.currentTaskWorkflowRule={taskWorkflowName:"",firstObj:"",firstAction:{action:-1,value:""},firstResult:{action:-1,value:""},lastResult:{action:-1,value:""},state:{action:-1,value:-1},taskStates:[{id:-1,name:"不做修改"},{id:1,name:"已完成"},{id:2,name:"未完成"}]},this.doTaskWorkflowView=!0},saveTaskWorkflow:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.currentTaskWorkflowRule.firstResult.action?this.currentTaskWorkflowRule.lastResult.action=0:this.currentTaskWorkflowRule.lastResult.action=3;var n={taskWorkflowName:this.currentTaskWorkflowRule.taskWorkflowName,taskWorkflowRules:JSON.stringify(this.currentTaskWorkflowRule)};e&&(this.taskWorkflow?(n.taskWorkflowCode=this.taskWorkflow.code,u(n).then(function(e){t.getTaskWorkflowList()})):(n.projectCode=this.code,l(n).then(function(e){t.getTaskWorkflowList()}))),this.doTaskWorkflowView=!1},getTaskStages:function(){var t=this;Object(f["a"])({projectCode:this.code}).then(function(e){var n=[{code:"",name:"不选择"}];e.data.forEach(function(t){n.push(t)}),t.taskStages=n})},getTaskWorkflowRules:function(t){var e=this;c({taskWorkflowCode:t}).then(function(t){e.loadingWorkflowRule=!1;var n=t.data;e.taskWorkflowRuleList=n,n&&(e.currentTaskWorkflowRule.firstObj=n[0].object_code,e.currentTaskWorkflowRule.firstAction.action=n[1].action,e.currentTaskWorkflowRule.firstAction.value=n[1].object_code,e.currentTaskWorkflowRule.firstResult.action=n[2].action,e.currentTaskWorkflowRule.firstResult.value=n[2].object_code,n.length>=4&&(n[3].object_code?(e.currentTaskWorkflowRule.lastResult.action=n[3].action,e.currentTaskWorkflowRule.lastResult.value=n[3].object_code):(e.currentTaskWorkflowRule.state.action=n[3].action,e.currentTaskWorkflowRule.state.value=n[3].action),n.length>=5&&(n[4].object_code?(e.currentTaskWorkflowRule.lastResult.action=n[4].action,e.currentTaskWorkflowRule.lastResult.value=n[4].object_code):(e.currentTaskWorkflowRule.state.action=n[4].action,e.currentTaskWorkflowRule.state.value=n[4].action))))})},delTaskWorkflow:function(t){var e=this;this.$confirm({title:"删除规则?",content:"您确定要删除该规则吗？",okText:"删除",okType:"danger",cancelText:"再想想",onOk:function(){return d({taskWorkflowCode:t}).then(function(t){Object(v["a"])(t)&&e.getTaskWorkflowList()}),Promise.resolve()}})},getProjectMembers:function(){var t=this;Object(p["c"])({projectCode:this.code,pageSize:100}).then(function(e){var n=[{code:"",name:"不选择"}];e.data.list.forEach(function(t){n.push(t)}),t.projectMembers=n})},workflowRuleChange:function(t,e){console.log(t),console.log(e),"firstAction.action"==e&&(this.currentTaskWorkflowRule.firstAction.value=""),"firstResult.value"==e&&(this.currentTaskWorkflowRule.lastResult.value=""),"firstResult.action"==e&&(this.currentTaskWorkflowRule.firstResult.value="",this.currentTaskWorkflowRule.lastResult.value="")},handleChange:function(t){var e=this;"uploading"!==t.file.status?"done"===t.file.status&&Object(v["e"])(t.file.originFileObj,function(){e.project.cover=t.file.response.data.url,e.uploadLoading=!1,Object(h["b"])({title:"封面上传成功"},"notice","success")}):this.uploadLoading=!0},beforeUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("图片不能超过2MB!"),e}}},m=g,b=(n("9c6f"),n("2877")),k=Object(b["a"])(m,a,o,!1,null,null,null);e["a"]=k.exports},7934:function(t,e,n){"use strict";var a=n("d22a"),o=n.n(a);o.a},"9c6f":function(t,e,n){"use strict";var a=n("39bf"),o=n.n(a);o.a},c9b7:function(t,e,n){"use strict";var a=n("1478"),o=n.n(a);o.a},d22a:function(t,e,n){},d96e:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"project-space-task",class:t.project.task_board_theme},[n("div",{staticClass:"project-navigation"},[n("div",{staticClass:"project-nav-header"},[n("a-breadcrumb",[n("a-breadcrumb-item",[n("router-link",{attrs:{to:"/home"}},[n("a-icon",{attrs:{type:"home"}}),t._v("\n                        首页\n                    ")],1)],1),n("a-breadcrumb-item",[n("project-select",{staticClass:"nav-title",staticStyle:{display:"inline-block"},attrs:{code:t.code}}),n("span",{staticClass:"actions"},[n("a-tooltip",{attrs:{mouseEnterDelay:.3,title:t.project.collected?"取消收藏":"加入收藏"},on:{click:t.collectProject}},[n("a-icon",{directives:[{name:"show",rawName:"v-show",value:!t.project.collected,expression:"!project.collected"}],staticStyle:{color:"grey"},attrs:{type:"star",theme:"filled"}}),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:t.project.collected,expression:"project.collected"}],staticStyle:{color:"#ffaf38"},attrs:{type:"star",theme:"filled"}})],1)],1),0===t.project.private?n("span",{staticClass:"label label-normal"},[n("a-icon",{attrs:{type:"global"}}),t._v(" 公开")],1):t._e()],1)],1)],1),n("section",{staticClass:"nav-body"},[n("ul",{staticClass:"nav-wrapper nav nav-underscore pull-left"},[t._m(0),n("li",{},[n("a",{staticClass:"app",attrs:{"data-app":"works"},on:{click:function(e){return t.$router.push("/project/space/files/"+t.project.code)}}},[t._v("\n                    文件")])]),n("li",{},[n("a",{staticClass:"app",attrs:{"data-app":"build"},on:{click:function(e){return t.$router.push("/project/space/overview/"+t.project.code)}}},[t._v("\n                    概览")])]),n("li",{},[n("a",{staticClass:"app",attrs:{"data-app":"build"},on:{click:function(e){return t.$router.push("/project/space/features/"+t.project.code)}}},[t._v("\n                    版本")])])])]),n("div",{staticClass:"project-nav-footer"},[n("a",{staticClass:"footer-item",on:{click:t.changeViewMode}},[n("a-icon",{attrs:{type:"menu"}}),n("span",[t._v(t._s(t.table_modal?" 看板视图":" 列表视图"))])],1),n("a",{staticClass:"footer-item",class:{active:"member"==t.slideMenuKey},on:{click:function(e){return t.visibleDraw("member")}}},[n("a-icon",{attrs:{type:"user"}}),n("span",[t._v(" "+t._s(t.projectMembers.length))])],1),n("a",{staticClass:"footer-item",class:{active:"config"==t.slideMenuKey},on:{click:function(e){return t.visibleDraw("config")}}},[n("a-icon",{attrs:{type:"menu"}}),n("span",[t._v(" 菜单")])],1)])]),n("wrapper-content",{attrs:{showHeader:!1}},[n("draggable",{directives:[{name:"show",rawName:"v-show",value:!t.table_modal,expression:"!table_modal"}],staticClass:"board-scrum-stages",attrs:{options:{group:"stages",filter:".undraggables",handle:".ui-sortable-handle",ghostClass:"stage-ghost",animation:200,forceFallback:!1},id:"board-scrum-stages",move:t.stageMove},on:{update:t.stageSort},model:{value:t.taskStages,callback:function(e){t.taskStages=e},expression:"taskStages"}},[t._l(t.taskStages,function(e,a){return n("div",{key:a,staticClass:"scrum-stage",class:{"fixed-creator":1==e.fixedCreator},attrs:{id:e.code}},[n("header",{directives:[{name:"show",rawName:"v-show",value:!e.tasksLoading,expression:"!stage.tasksLoading"}],staticClass:"scrum-stage-header ui-sortable-handle"},[n("div",{staticClass:"stage-name hinted"},[t._v("\n                        "+t._s(e.name)+"\n                        "),e.tasks.length>0?n("span",{staticClass:"task-count"},[t._v(" · "+t._s(e.tasks.length))]):t._e()]),n("div",{staticClass:"stage-menu-toggler popover"},[n("a-dropdown",{attrs:{trigger:["click"],placement:"bottomCenter"}},[n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[n("span",[t._v("编辑任务列表")])]),n("a",{staticClass:"menu-toggler-title",attrs:{href:"javascript:void(0)"}},[n("a-icon",{staticStyle:{"font-size":"18px"},attrs:{type:"ellipsis"}})],1)],2),n("a-menu",{attrs:{slot:"overlay",selectable:!1},on:{click:t.doStage},slot:"overlay"},[n("a-menu-item",{key:"editStage_"+e.code+"_"+a},[n("a-icon",{attrs:{type:"edit"}}),t._v("\n                                    编辑列表\n                                ")],1),n("a-menu-item",{key:"setExecutor_"+e.code+"_"+a},[n("a-icon",{attrs:{size:"14",type:"user"}}),t._v("\n                                    设置本列所有任务执行者\n                                ")],1),n("a-menu-item",{key:"recycleBatch_"+e.code+"_"+a},[n("a-icon",{attrs:{size:"14",type:"delete"}}),t._v("\n                                    本列所有任务移到回收站\n                                ")],1),n("a-menu-item",{key:"delStage_"+e.code+"_"+a},[n("a-icon",{attrs:{size:"14",type:"delete"}}),t._v("\n                                    删除列表\n                                ")],1)],1)],1)],1)]),n("div",{staticClass:"scrum-stage-wrap ui-sortable",class:{"hidden-creator-bottom":e.showTaskCard}},[n("vue-scroll",{ref:a+"-stage",refInFor:!0,attrs:{ops:t.scrollOps},on:{"handle-resize":function(e){return t.handleResize(e,a)}}},[n("section",{staticClass:"scrum-stage-content thin-scroll",attrs:{id:e.code,"task-type-index":a}},[n("a-spin",{attrs:{wrapperClassName:"tasks-loading",spinning:e.tasksLoading}},[n("draggable",{staticClass:"scrum-stage-tasks",attrs:{options:{group:"task",ghostClass:"task-ghost",dragClass:"task-drag",fallbackClass:"task-drag",forceFallback:!1}},on:{end:t.taskSort},model:{value:e.unDoneTasks,callback:function(n){t.$set(e,"unDoneTasks",n)},expression:"stage.unDoneTasks"}},[t._l(e.unDoneTasks,function(e,o){return[!e.done&&e.canRead?n("div",{key:e.code,staticClass:"task task-card ui-sortable-handle",class:t.showTaskPri(e.pri),attrs:{index:o,id:e.code},on:{click:function(n){return n.stopPropagation(),t.taskDetail(e.code,a)}}},[n("div",{staticClass:"task-priority bg-priority-0"}),n("a-tooltip",{attrs:{placement:a>0?"top":"right"}},[n("template",{slot:"title"},[e.hasUnDone?n("span",{staticStyle:{"font-size":"12px"}},[t._v("子任务尚未全部完成，无法完成父任务")]):t._e()]),n("div",{staticClass:"check-box-wrapper",on:{click:function(n){return n.stopPropagation(),t.taskDone(e.code,a,o,1)}}},[n("a-icon",{staticClass:"check-box",class:{disabled:e.hasUnDone},style:{fontSize:"16px"},attrs:{type:"border"}})],1)],2),n("div",{staticClass:"task-content-set open-detail"},[n("div",{staticClass:"task-content-wrapper"},[n("div",{staticClass:"task-content"},[t._v(" "+t._s(e.name))]),e.executor&&e.executor.avatar?n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[n("span",[t._v(t._s(e.executor.name))])]),n("img",{staticClass:"avatar img-circle img-24 hinted",attrs:{src:e.executor.avatar,title:e.executor.name}})],2):t._e()],1),n("div",{staticClass:"task-info-wrapper clearfix"},[n("div",{staticClass:"task-infos"},[e.end_time?n("span",{staticClass:"label",class:t.showTimeLabel(e.end_time)},[n("span",{attrs:{title:e.end_time}},[t._v("\n                                                           "+t._s(t.showTaskTime(e.begin_time,e.end_time))+"\n                                                        ")])]):t._e(),e.description?n("span",{staticClass:"icon-wrapper muted"},[n("a-icon",{attrs:{type:"file-text"}})],1):t._e(),e.hasSource?n("span",{staticClass:"icon-wrapper muted"},[n("a-icon",{attrs:{type:"link"}})],1):t._e(),e.hasComment?n("span",{staticClass:"icon-wrapper muted"},[n("a-icon",{attrs:{type:"message"}})],1):t._e(),e.childCount[0]>0?n("span",{staticClass:"icon-wrapper muted"},[n("a-icon",{attrs:{type:"bars"}}),n("span",[t._v(t._s(e.childCount[1])+"/"+t._s(e.childCount[0]))])],1):t._e(),t._l(e.tags,function(e){return n("span",{key:e.code,staticClass:"tag muted"},[n("a-badge",{class:"badge-"+e.tag.color,attrs:{status:"success"}}),t._v("\n                                                           "+t._s(e.tag.name)+"\n                                                       ")],1)}),e.execute_state>0?n("span",{class:"icon-wrapper text text-"+e.task_execute.color},[t._v(t._s(e.task_execute_name))]):t._e(),e.like?n("span",{staticClass:"icon-wrapper muted"},[n("a-icon",{attrs:{type:"like"}}),n("span",[t._v(t._s(e.like))])],1):t._e()],2)]),t.project.prefix&&t.project.open_prefix?n("footer",{staticClass:"task-info-footer"},[n("span",{staticClass:"task-id-number"},[t._v("\n                                                        "+t._s(t.project.prefix)+"-"+t._s(e.id_num)+"\n                                                    ")])]):t._e()])],1):t._e()]})],2),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showTaskCard,expression:"stage.showTaskCard"}],staticClass:"task-creator-wrap card",attrs:{id:"card"+a}},[n("form",{staticClass:"task-creator"},[n("a-input",{ref:"inputTaskName"+a,refInFor:!0,staticClass:"task-content-input",attrs:{type:"textarea",rows:3,placeholder:"任务内容"},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.createTask(e.code,a)}},model:{value:t.task.name,callback:function(e){t.$set(t.task,"name",e)},expression:"task.name"}}),n("div",{staticClass:"handler-wrap"},[n("a-dropdown",{attrs:{trigger:["click"]}},[n("a",{staticClass:"executor-handler"},[n("img",{staticClass:"avatar img-circle img-24 hinted",attrs:{src:t.defaultExecutor.avatar}}),n("span",{staticClass:"creator-handler-text name"},[t._v(t._s(t.defaultExecutor.name))])]),n("a-menu",{staticClass:"executor-handler-menu",attrs:{slot:"overlay"},on:{click:t.selectExecutor},slot:"overlay"},t._l(t.projectMembers,function(e,a){return n("a-menu-item",{key:a},[n("img",{staticClass:"avatar img-circle img-32 pull-left m-r-sm ",attrs:{src:e.avatar}}),n("span",{staticClass:"muted",staticStyle:{"line-height":"25px"}},[t._v(t._s(e.name))]),e.code==t.defaultExecutor.code?n("a-icon",{staticClass:"muted",attrs:{type:"check"}}):t._e()],1)}),1)],1)],1),n("div",{staticClass:"submit-set"},[n("a-button",{staticClass:"middle-btn",attrs:{type:"default",size:"large"},on:{click:function(e){return e.stopPropagation(),t.showTaskCard(a,!1)}}},[t._v("取消\n                                            ")]),n("a-button",{staticClass:"middle-btn",class:{"disabled-btn":!t.task.name},attrs:{loading:t.createTaskLoading,disabled:!t.task.name,type:"primary",size:"large"},on:{click:function(n){return n.stopPropagation(),t.createTask(e.code,a)}}},[t._v("创建\n                                            ")])],1)],1)]),n("draggable",{staticClass:"scrum-stage-tasks-done",attrs:{options:{group:"task-done",ghostClass:"task-ghost",dragClass:"task-drag",fallbackClass:"task-drag",forceFallback:!1}},on:{end:t.taskSort},model:{value:e.doneTasks,callback:function(n){t.$set(e,"doneTasks",n)},expression:"stage.doneTasks"}},[t._l(e.doneTasks,function(e,o){return[e.canRead?n("div",{key:e.code,staticClass:"task done task-card ui-sortable-handle",attrs:{index:o,id:e.code},on:{click:function(n){return n.stopPropagation(),t.taskDetail(e.code,a)}}},[n("div",{staticClass:"task-priority bg-priority-0"}),n("span",{staticClass:"check-box-wrapper",on:{click:function(n){return n.stopPropagation(),t.taskDone(e.code,a,o,0)}}},[n("a-icon",{staticClass:"check-box",class:{disabled:e.hasUnDone},style:{fontSize:"16px"},attrs:{type:"check-square"}})],1),n("div",{staticClass:"task-content-set open-detail"},[n("div",{staticClass:"task-content-wrapper"},[n("div",{staticClass:"task-content"},[t._v(t._s(e.name))]),e.executor&&e.executor.avatar?n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[n("span",[t._v(t._s(e.executor.name))])]),e.executor&&e.executor.avatar?n("img",{staticClass:"avatar img-circle img-24 hinted",attrs:{src:e.executor.avatar,title:e.executor.name}}):t._e()],2):t._e()],1),n("div",{staticClass:"task-info-wrapper clearfix"},[n("div",{staticClass:"task-infos"},t._l(e.task_tag_item_list,function(e,a){return n("span",{key:e.code,staticClass:"tag muted",class:"tag-color-"+e.color},[t._v(" "+t._s(e.name)+" ")])}),0)])])]):t._e()]})],2),n("div",{directives:[{name:"show",rawName:"v-show",value:e.canNotReadCount,expression:"stage.canNotReadCount"}],staticClass:"scrum-stage-tasks-done"},[n("li",{staticClass:"task muted",staticStyle:{margin:"0 10px 8px"}},[n("span",[n("a-icon",{attrs:{type:"lock"}}),t._v("\n                                            有 "+t._s(e.canNotReadCount)+" 个任务被隐藏（因为设置了仅参与者可见）")],1)])]),e.showTaskCard?t._e():n("div",{staticClass:"task-creator-handler-wrap",on:{click:function(e){return e.stopPropagation(),t.showTaskCard(a)}}},[n("a",{staticClass:"task-creator-handler link-add-handler"},[n("a-icon",{staticStyle:{"padding-right":"6px"},attrs:{type:"plus-circle"}}),t._v("\n                                        添加任务\n                                    ")],1)])],1)],1)])],1)])}),n("div",{staticClass:"scrum-stage undraggable create-stage"},[n("header",{staticClass:"scrum-stage-header"},[n("div",{staticClass:"stage-name hinted",staticStyle:{width:"100%"}},[n("a",{directives:[{name:"show",rawName:"v-show",value:!t.showCreateStage,expression:"!showCreateStage"}],staticClass:"muted",on:{click:t.showInputStrageName}},[n("a-icon",{attrs:{type:"plus"}}),n("span",{staticClass:"m-l-xs"},[t._v("新建任务列表")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showCreateStage,expression:"showCreateStage"}]},[n("div",[n("a-input",{ref:"inputStageName",attrs:{placeholder:"新建任务列表...","auto-focus":""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.creteStage(e)}},model:{value:t.stageName,callback:function(e){t.stageName=e},expression:"stageName"}})],1),n("div",{staticClass:"submit-set create-stage-footer"},[n("a",{staticClass:"cancel-text muted",attrs:{type:"text"},on:{click:function(e){t.showCreateStage=!t.showCreateStage}}},[t._v("\n                                    取消\n                                ")]),n("a-button",{staticClass:"middle-btn",attrs:{type:"primary"},on:{click:t.creteStage}},[t._v("保存")])],1)])])])])],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.table_modal,expression:"table_modal"}],staticClass:"container",staticStyle:{height:"100%",padding:"15px 25px 0 25px",overflow:"auto"}},[n("a-table",{attrs:{columns:t.columns,bordered:"",scroll:{y:560},rowKey:function(t){return t.login.uuid},dataSource:t.tableData,pagination:!1,loading:t.loading},on:{change:t.handleTableChange}})],1),n("router-view")],1),n("a-modal",{attrs:{width:360,title:t.stageModal.modalTitle,bodyStyle:{paddingBottom:"1px"},footer:null},model:{value:t.stageModal.modalStatus,callback:function(e){t.$set(t.stageModal,"modalStatus",e)},expression:"stageModal.modalStatus"}},[n("a-form",{attrs:{form:t.stageModal.form},on:{submit:function(e){return e.preventDefault(),t.editStage(e)}}},[n("a-form-item",[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入列表标题"}]}],expression:"[\n                                        'name',\n                                        {rules: [{ required: true, message: '请输入列表标题' }]}\n                                        ]"}],ref:"inputStageTitle",attrs:{placeholder:"列表标题"}})],1),n("a-form-item",[n("div",{staticClass:"action-btn pull-right"},[n("a",{staticClass:"cancel-text muted",attrs:{type:"text"},on:{click:function(e){t.stageModal.modalStatus=!1}}},[t._v("\n                        取消\n                    ")]),n("a-button",{staticClass:"middle-btn",attrs:{type:"primary",htmlType:"submit"}},[t._v("保存")])],1)])],1)],1),n("a-drawer",{attrs:{wrapClassName:"info-drawer",title:"项目成员",width:"350",placement:"right",visible:t.inviteMemberDraw.visible},on:{close:function(e){t.inviteMemberDraw.visible=!1}}},[n("div",{staticClass:"search-content"},[n("a-input",{attrs:{size:"large",placeholder:"输入昵称或邮箱查找"},model:{value:t.inviteMemberDraw.keyword,callback:function(e){t.$set(t.inviteMemberDraw,"keyword",e)},expression:"inviteMemberDraw.keyword"}},[n("a-icon",{attrs:{slot:"prefix",type:"search"},slot:"prefix"})],1)],1),n("div",{staticClass:"member-list"},[n("div",{staticClass:"member-list-item ant-list-item header-action"},[n("div",{staticClass:"ant-list-item-meta",on:{click:function(e){t.showInviteMember=!0}}},[n("div",{staticClass:"ant-list-item-meta-avatar"},[n("a-avatar",{attrs:{icon:"plus"}})],1),n("div",{staticClass:"ant-list-item-meta-content"},[n("h4",{staticClass:"ant-list-item-meta-title"},[n("span",[t._v("邀请新成员")])])])])]),n("a-list",{attrs:{itemLayout:"horizontal",loading:t.inviteMemberDraw.searching,dataSource:t.projectMembers,locale:{emptyText:t.inviteMemberDraw.keyword&&t.inviteMemberDraw.keyword.length>1?"没有搜索到相关成员":""}},scopedSlots:t._u([{key:"renderItem",fn:function(e,a){return n("a-list-item",{staticClass:"member-list-item"},[e.is_owner?t._e():n("span",{attrs:{slot:"actions"},slot:"actions"},[n("a",{staticClass:"muted",on:{click:function(n){return t.removeMember(e,a)}}},[n("a-icon",{attrs:{type:"user-delete"}}),t._v(" 移除")],1)]),n("a-list-item-meta",{attrs:{description:e.email}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))]),n("a-avatar",{attrs:{slot:"avatar",icon:"user",src:e.avatar},slot:"avatar"})],1)],1)}}])})],1)]),n("a-drawer",{attrs:{wrapClassName:"info-drawer",title:"项目设置",width:"350",placement:"right",visible:t.configDraw.visible},on:{close:function(e){t.configDraw.visible=!1}}},[n("div",{staticClass:"config-wrapper"},[n("ul",{staticClass:"config-menus"},[n("li",{staticClass:"menu-item"},[n("a",{on:{click:function(e){t.projectModal.modalStatus=!0}}},[n("a-icon",{attrs:{type:"setting"}}),t._v("\n                        项目设置\n                    ")],1)]),n("li",{staticClass:"menu-item"},[n("a",{on:{click:function(e){t.taskTagModal.modalStatus=!0}}},[n("a-icon",{attrs:{type:"tags"}}),t._v("\n                        标签\n                    ")],1)]),n("li",{staticClass:"menu-item"},[n("a",{on:{click:function(e){t.recycleModal.modalStatus=!0}}},[n("a-icon",{attrs:{type:"delete"}}),t._v("\n                        查看回收站\n                    ")],1)]),n("li",{staticClass:"menu-item"},[n("a",{attrs:{href:t.downLoadUrl,target:"_blank"}},[n("a-icon",{attrs:{type:"copy"}}),t._v("\n                        下载导入任务模板\n                    ")],1)]),n("li",{staticClass:"menu-item"},[n("a-upload",{attrs:{name:"file",showUploadList:!1,action:t.uploadAction,beforeUpload:t.beforeUpload,data:{projectCode:t.code},headers:t.headers},on:{change:t.handleChange}},[n("a",{staticClass:"text-default",attrs:{loading:t.uploadLoading,disabled:t.uploadLoading}},[n("a-icon",{directives:[{name:"show",rawName:"v-show",value:!t.uploadLoading,expression:"!uploadLoading"}],attrs:{type:"upload"}}),t._v("\n                            上传文件导入任务\n                        ")],1)])],1),n("li",{staticClass:"menu-item"},[n("a",[n("a-icon",{attrs:{type:"logout"}}),t._v("\n                        导出任务 *\n                    ")],1)]),n("li",{staticClass:"menu-item"},[n("a",[n("a-icon",{attrs:{type:"copy"}}),t._v("\n                        复制项目 *\n                    ")],1)]),n("li",{staticClass:"menu-item"},[n("a",[n("a-icon",{attrs:{type:"block"}}),t._v("\n                        保存为项目模板 *\n                    ")],1)])])])]),n("a-modal",{staticClass:"project-config-modal",attrs:{destroyOnClose:"",width:800,title:t.projectModal.modalTitle,footer:null},model:{value:t.projectModal.modalStatus,callback:function(e){t.$set(t.projectModal,"modalStatus",e)},expression:"projectModal.modalStatus"}},[n("project-config",{attrs:{code:t.code},on:{update:t.updateProject}})],1),n("a-modal",{staticClass:"recycle-bin-modal",attrs:{width:800,title:t.recycleModal.modalTitle,footer:null},model:{value:t.recycleModal.modalStatus,callback:function(e){t.$set(t.recycleModal,"modalStatus",e)},expression:"recycleModal.modalStatus"}},[t.recycleModal.modalStatus?n("recycle-bin",{attrs:{code:t.code},on:{update:t.init}}):t._e()],1),n("a-modal",{staticClass:"task-tag-modal",attrs:{width:800,title:t.taskTagModal.modalTitle,footer:null},model:{value:t.taskTagModal.modalStatus,callback:function(e){t.$set(t.taskTagModal,"modalStatus",e)},expression:"taskTagModal.modalStatus"}},[t.taskTagModal.modalStatus?n("task-tag",{attrs:{code:t.code},on:{update:t.init}}):t._e()],1),n("a-modal",{staticClass:"invite-project-member",attrs:{width:360,title:t.projectMemberModal.modalTitle,footer:null},model:{value:t.projectMemberModal.modalStatus,callback:function(e){t.$set(t.projectMemberModal,"modalStatus",e)},expression:"projectMemberModal.modalStatus"}},[n("div",{staticClass:"member-list"},[n("a-list",{staticClass:"project-list",attrs:{itemLayout:"horizontal",loading:t.loading,dataSource:t.projectMembers},scopedSlots:t._u([{key:"renderItem",fn:function(e){return n("a-list-item",{},[n("span",{attrs:{slot:"actions"},slot:"actions"},[n("a-button",{attrs:{size:"small",type:"dashed",icon:"user-add"},on:{click:function(n){return t.setExecutor(e)}}},[t._v("设置")])],1),n("a-list-item-meta",{attrs:{description:e.email}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))]),n("a-avatar",{attrs:{slot:"avatar",icon:"user",src:e.avatar},slot:"avatar"})],1)],1)}}])})],1)]),t.showInviteMember?n("invite-project-member",{attrs:{"project-code":t.code},model:{value:t.showInviteMember,callback:function(e){t.showInviteMember=e},expression:"showInviteMember"}}):t._e()],1)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"actives"},[n("a",{staticClass:"app",attrs:{"data-app":"tasks"}},[t._v("任务")])])}],r=(n("8e6e"),n("456d"),n("28a5"),n("55dd"),n("ac6a"),n("7f7f"),n("bd86")),i=n("bc3a"),s=n.n(i),c=n("2f62"),l=n("2ef0"),u=n.n(l),d=n("c1df"),f=n.n(d),p=n("310e"),h=n.n(p),v=n("f8c7"),g=n("d3a1"),m=n("58bf"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-tabs",{attrs:{tabPosition:"left",defaultActiveKey:"1",animated:!1},model:{value:t.tabKey,callback:function(e){t.tabKey=e},expression:"tabKey"}},[n("a-tab-pane",{key:"1"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"check-square"}}),t._v("\n            任务\n        ")],1)]),n("a-tab-pane",{key:"2"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"link"}}),t._v("\n            文件\n        ")],1)]),n("div",{staticClass:"config-content"},[n("vue-scroll",[n("div",{staticClass:"content-item"},[n("div",{staticClass:"infos"},[n("a-list",[t.showLoadingMore?n("div",{style:{textAlign:"center",marginTop:"12px",height:"32px",lineHeight:"32px"},attrs:{slot:"loadMore"},slot:"loadMore"},[t.loadingMore?n("a-spin"):n("a-button",{on:{click:t.onLoadMore}},[t._v("加载更多")])],1):t._e(),t._l(t.list,function(e,a){return n("a-list-item",{key:a},[n("a-list-item-meta",[n("div",{attrs:{slot:"title"},slot:"title"},[n("router-link",{directives:[{name:"show",rawName:"v-show",value:"1"==t.tabKey,expression:"tabKey == '1'"}],staticClass:"text-default",attrs:{to:"/project/space/task/"+t.code+"/detail/"+e.code}},[t._v("\n                                        "+t._s(e.name)+"\n                                    ")]),n("a",{directives:[{name:"show",rawName:"v-show",value:"2"==t.tabKey,expression:"tabKey == '2'"}],staticClass:"text-default",attrs:{target:"_blank",href:e.file_url}},[t._v("\n                                        "+t._s(e.fullName)+"\n                                    ")])],1),n("div",{attrs:{slot:"description"},slot:"description"},[t._v("\n                                    "+t._s(t.showTaskTime(e.deleted_time))+"\n                                ")])]),n("a",{staticClass:"muted",attrs:{slot:"actions"},on:{click:function(n){return t.recoveryTask(e,a)}},slot:"actions"},[n("a-tooltip",{attrs:{title:"恢复内容"}},[n("a-icon",{attrs:{type:"undo"}})],1)],1),n("a",{staticClass:"muted",attrs:{slot:"actions"},on:{click:function(n){return t.deleteItem(e,a)}},slot:"actions"},[n("a-tooltip",{attrs:{title:"彻底删除"}},[n("a-icon",{attrs:{type:"delete"}})],1)],1)],1)})],2)],1)])])],1)],1)},k=[],w=n("2f14"),y=n("b199"),_=n("3f5e"),x=n("1b80"),C=n("81fe"),j={name:"recycleBin",props:{code:{type:[String],default:function(){return""}}},mixins:[x["a"]],data:function(){return{loading:!1,tabKey:"1",project:{},list:[],showLoadingMore:!1,loadingMore:!1}},watch:{code:function(){this.init()},tabKey:function(t){this.init()}},created:function(){this.init()},methods:{init:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this;switch(t&&(this.list=[],this.pagination.page=1,this.pagination.pageSize=10,this.showLoadingMore=!1),this.requestData.deleted=1,this.requestData.projectCode=this.code,e.loading=!0,this.tabKey){case"1":e.getTasks();break;case"2":e.getFiles();break}},getTasks:function(){var t=this;Object(y["m"])(t.requestData).then(function(e){t.list=t.list.concat(e.data.list),t.pagination.total=e.data.total,t.showLoadingMore=t.pagination.total>t.list.length,t.loading=!1,t.loadingMore=!1})},getFiles:function(){var t=this;Object(_["c"])(t.requestData).then(function(e){t.list=t.list.concat(e.data.list),t.pagination.total=e.data.total,t.showLoadingMore=t.pagination.total>t.list.length,t.loading=!1,t.loadingMore=!1})},onLoadMore:function(){this.loadingMore=!0,this.pagination.page++,this.init(!1)},showTaskTime:function(t){return Object(C["b"])(t)},recoveryTask:function(t,e){var n=this;switch(this.tabKey){case"1":this.$confirm({title:"确定恢复内容？",content:"恢复后可在任务列表中查看",okText:"恢复内容",okType:"primary",cancelText:"再想想",onOk:function(){return Object(y["p"])(t.code).then(function(a){Object(w["a"])(a)&&(n.list.splice(e,1),n.$emit("update",t))}),Promise.resolve()}});break;case"2":this.$confirm({title:"确定恢复文件？",content:"恢复后可在我的文件中查看",okText:"恢复文件",okType:"primary",cancelText:"再想想",onOk:function(){return Object(_["d"])(t.code).then(function(a){Object(w["a"])(a)&&(n.list.splice(e,1),n.$emit("update",t))}),Promise.resolve()}});break}},deleteItem:function(t,e){var n=this;switch(this.tabKey){case"1":this.$confirm({title:"确定彻底删除任务？",content:"彻底删除任务后，该任务及其子任务将会被永久被删除。",okText:"彻底删除",okType:"danger",cancelText:"再想想",onOk:function(){return Object(y["f"])(t.code).then(function(a){Object(w["a"])(a)&&(n.list.splice(e,1),n.$emit("update",t))}),Promise.resolve()}});break;case"2":this.$confirm({title:"确认彻底删除该文件？",content:"彻底删除文件后，相关的关联资源将会失效。",okText:"彻底删除",okType:"danger",cancelText:"再想想",onOk:function(){return Object(_["a"])(t.code).then(function(a){Object(w["a"])(a)&&(n.list.splice(e,1),n.$emit("update",t))}),Promise.resolve()}});break}}}},T=j,S=(n("c9b7"),n("2877")),O=Object(S["a"])(T,b,k,!1,null,null,null),M=O.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-tabs",{staticClass:"task-tag-index",attrs:{tabPosition:"left",defaultActiveKey:"1",animated:!1},model:{value:t.tabKey,callback:function(e){t.tabKey=e},expression:"tabKey"}},[t._l(t.taskTagList,function(e){return n("a-tab-pane",{key:e.code},[n("div",{attrs:{slot:"tab"},slot:"tab"},[n("div",{staticClass:"tag-item"},[n("a-badge",{class:"badge-"+e.color,attrs:{status:"success"}}),t._v("\n                    "+t._s(e.name)+"\n                ")],1)]),n("div",{staticClass:"config-content"},[n("vue-scroll",[n("div",{staticClass:"content-item"},[n("div",{staticClass:"infos"},[n("a-list",{attrs:{loading:{spinning:t.loading,delay:300}}},[t.showLoadingMore?n("div",{style:{textAlign:"center",marginTop:"12px",height:"32px",lineHeight:"32px"},attrs:{slot:"loadMore"},slot:"loadMore"},[t.loadingMore?n("a-spin"):n("a-button",{on:{click:t.onLoadMore}},[t._v("加载更多")])],1):t._e(),t._l(t.list,function(e,a){return n("a-list-item",{key:a},[n("a-list-item-meta",[n("div",{staticClass:"task-list",class:{done:e.done},attrs:{slot:"title"},slot:"title"},[n("div",[n("router-link",{staticClass:"text-default task-content",attrs:{to:"/project/space/task/"+t.code+"/detail/"+e.code}},[e.executor&&e.executor.avatar?n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[n("span",[t._v(t._s(e.executor.name))])]),n("img",{staticClass:"avatar task-executor img-circle img-24 hinted m-r-sm",attrs:{src:e.executor.avatar,title:e.executor.name}})],2):n("a-avatar",{staticClass:"m-r-sm",attrs:{size:"small",icon:"user"}}),n("span",{staticClass:"task-name m-r"},[t._v(t._s(e.name))]),t._l(e.tags,function(e){return n("span",{key:e.code,staticClass:"muted flex m-r tag-name"},[n("a-badge",{class:"badge-"+e.tag.color+" m-r-xs",attrs:{status:"success"}}),t._v("\n                                               "+t._s(e.tag.name)+"\n                                            ")],1)})],2)],1),e.end_time?n("div",{staticClass:"label task-time",class:t.showTimeLabel(e.end_time)},[t._v("\n                                                "+t._s(t.showTaskTime(e.begin_time,e.end_time))+"\n                                            ")]):t._e()])])],1)})],2)],1)])])],1)])}),t.loading||t.list.length?t._e():n("div",{staticClass:"m-t text-center"},[n("strong",[n("h2",[t._v("项目中还没有标签")])])])],2)],1)},R=[],P=n("813b"),E={name:"taskTag",props:{code:{type:[String],default:function(){return""}}},mixins:[x["a"]],data:function(){return{loading:!1,tabKey:"0",project:{},taskTagList:[],list:[],showLoadingMore:!1,loadingMore:!1}},watch:{code:function(){this.init()},tabKey:function(t){this.getTaskList()}},created:function(){this.init()},methods:{init:function(){var t=this;this.requestData.projectCode=this.code,t.getTaskTags()},getTaskTags:function(){var t=this;Object(P["c"])(t.requestData).then(function(e){t.taskTagList=e.data,e.data.length&&(t.tabKey=e.data[0].code)})},getTaskList:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.tabKey)return!1;var e=this;e.loading=!0,t&&(this.list=[],this.pagination.page=1,this.pagination.pageSize=10,this.showLoadingMore=!1),Object(y["j"])({taskTagCode:this.tabKey}).then(function(t){e.list=e.list.concat(t.data.list),e.pagination.total=t.data.total,e.showLoadingMore=e.pagination.total>e.list.length,e.loading=!1,e.loadingMore=!1})},onLoadMore:function(){this.loadingMore=!0,this.pagination.page++,this.getTaskList(!1)},showTaskTime:function(t,e){return Object(C["a"])(t,e)},showTimeLabel:function(t){var e="label-primary";if(null==t)return e;var n=f()(f()(t).format("YYYY-MM-DD")).diff(f()().format("YYYY-MM-DD"),"days");return n<0?e="label-danger":0==n?e="label-warning":n>7&&(e="label-normal"),e},deleteItem:function(t,e){var n=this;switch(this.tabKey){case"1":this.$confirm({title:"确定彻底删除任务？",content:"彻底删除任务后，该任务及其子任务将会被永久被删除。",okText:"彻底删除",okType:"danger",cancelText:"再想想",onOk:function(){return Object(P["a"])(t.code).then(function(a){Object(w["a"])(a)&&(n.list.splice(e,1),n.$emit("update",t))}),Promise.resolve()}});break;case"2":this.$confirm({title:"确认彻底删除该文件？",content:"彻底删除文件后，相关的关联资源将会失效。",okText:"彻底删除",okType:"danger",cancelText:"再想想",onOk:function(){return delFile(t.code).then(function(a){Object(w["a"])(a)&&(n.list.splice(e,1),n.$emit("update",t))}),Promise.resolve()}});break}}}},W=E,L=(n("f9ef"),Object(S["a"])(W,D,R,!1,null,null,null)),$=L.exports,A=n("e507"),N=n("24d2"),I=n("9f5d"),z=n("4200"),F=n("97a8");function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(n,!0).forEach(function(e){Object(r["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var B={name:"project-space-task",components:{RecycleBin:M,TaskTag:$,draggable:h.a,projectSelect:v["a"],inviteProjectMember:g["a"],projectConfig:m["a"]},data:function(){return{tableData:[],pagination:{},columns:[{title:"Name",dataIndex:"name.first",sorter:!0,width:"20%"},{title:"Gender",dataIndex:"gender",filters:[{text:"Male",value:"male"},{text:"Female",value:"female"}],width:"20%"},{title:"Email",dataIndex:"email"}],table_modal:!1,code:this.$route.params.code,loading:!0,project:{task_board_theme:"simple"},stageName:"",task:{},taskStages:[],defaultExecutor:{},projectMembers:[],projectMembersCopy:[],createTaskLoading:!1,showCreateStage:!1,preCode:"",nextCode:"",stageKeys:[],stageModal:{form:this.$form.createForm(this),stageCode:"",stageIndex:0,modalStatus:!1,confirmLoading:!1,modalTitle:"编辑列表"},slideMenuKey:"",showInviteMember:!1,inviteMemberDraw:{visible:!1,keyword:"",searching:!1,list:[]},configDraw:{visible:!1},downLoadUrl:Object(w["h"])("project/task/_downloadTemplate"),uploadLoading:!1,uploadAction:Object(w["c"])("project/task/uploadFile"),projectModal:{modalStatus:!1,modalTitle:"项目设置"},recycleModal:{modalStatus:!1,modalTitle:"查看回收站"},taskTagModal:{modalStatus:!1,modalTitle:"任务标签"},projectMemberModal:{loading:!1,currentStageIndex:0,modalStatus:!1,modalTitle:"设置任务执行者"}}},computed:K({},Object(c["c"])({userInfo:function(t){return t.userInfo},viewRefresh:function(t){return t.common.viewRefresh},socketAction:function(t){return t.socketAction}}),{headers:function(){return Object(w["d"])()},scrollOps:function(){return{rail:{background:"#e5e5e5",opacity:1},bar:{keepShow:!0}}}}),watch:{$route:function(t,e){var n=this;if(this.code!=t.params.code&&(this.code=t.params.code,this.defaultExecutor=this.userInfo,this.getProject(),this.getProjectMembers(),this.init()),"taskdetail"==e.name){var a=e.query.from;void 0!=a&&Object(A["g"])({stageCode:this.taskStages[a].code}).then(function(t){n.taskStages[a].tasksLoading=!1,n.taskStages[a].tasks=t.data;var e=n.taskStages[a].doneTasks=[],o=n.taskStages[a].unDoneTasks=[];t.data.forEach(function(t){t.done?e.push(t):o.push(t)})})}},socketAction:function(t){if("organization:task"===t.action){var e=t.data.data;e.projectCode==this.code&&this.getTaskStages(!1)}},viewRefresh:function(){console.log("viewRefresh")},inviteMemberDraw:{handler:function(t){t.visible?this.slideMenuKey="member":this.slideMenuKey=!1,t.keyword&&this.searchInviteMember()},deep:!0},configDraw:{handler:function(t){t.visible?this.slideMenuKey="config":this.slideMenuKey=!1},deep:!0},showInviteMember:function(t){t||this.getProjectMembers()}},created:function(){this.defaultExecutor=this.userInfo,this.getProject(),this.getProjectMembers(),this.init()},mounted:function(){this.fetch()},methods:{handleTableChange:function(t,e,n){console.log(t);var a=K({},this.pagination);a.current=t.current,this.pagination=a,this.fetch(K({results:t.pageSize,page:t.current,sortField:n.field,sortOrder:n.order},e))},fetch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("params:",e),e.results=10,this.loading=!0,s.a.get("https://randomuser.me/api",{params:e}).then(function(e){var n=K({},t.pagination);n.total=200,t.loading=!1,t.tableData=e.data.results,t.pagination=n,console.log(e,t.tableData,11111)})},changeViewMode:function(){this.table_modal?this.table_modal=!1:this.table_modal=!0},init:function(){this.getTaskStages()},getProject:function(){var t=this;this.loading=!0,Object(N["f"])(this.code).then(function(e){t.loading=!1,t.project=e.data})},getProjectMembers:function(){var t=this;Object(I["c"])({projectCode:this.code,pageSize:100}).then(function(e){t.projectMembers=e.data.list,t.projectMembersCopy=e.data.list})},getTaskStages:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this;Object(A["d"])({projectCode:this.code,pageSize:30}).then(function(a){var o=[];e?t.taskStages=o=a.data.list:a.data.list.forEach(function(t){t.tasksLoading=!1,o.push(t)}),o&&o.forEach(function(t,a){Object(A["g"])({stageCode:t.code}).then(function(o){var r=0;o.data.forEach(function(e){e.canRead||r++,e.done?t.doneTasks.push(e):t.unDoneTasks.push(e)}),t.canNotReadCount=r,t.tasksLoading=!1,t.tasks=o.data,e||n.$set(n.taskStages,a,t)})})})},filterTask:function(t,e){return t.filter(function(t){return t.done==e})},showTaskCard:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.taskStages.forEach(function(t){t.showTaskCard=!1}),!1===e)return!1;this.taskStages[e].showTaskCard=n,this.$nextTick(function(){t.$refs[e+"-stage"][0].scrollIntoView("#card"+e),t.$refs["inputTaskName".concat(e)][0].focus()})},selectExecutor:function(t){var e=t.key;this.defaultExecutor=this.projectMembers[e]},createTask:function(t,e){if(!this.task.name)return this.$message.warning("任务内容不能为空",2),!1;this.task.stage_code=t,this.task.project_code=this.code,this.task.assign_to=this.defaultExecutor.code,this.confirmCreateTask(e)},confirmCreateTask:function(t){var e=this;if(e.createTaskLoading)return e.$message.warning("正在添加任务，请稍后...",2),!1;setTimeout(function(){!0===e.createTaskLoading&&e.$message.loading({content:"正在添加任务，请稍后...",duration:5})},2e3),e.createTaskLoading=!0,Object(y["s"])(e.task).then(function(n){e.createTaskLoading=!1;var a=Object(w["a"])(n);if(a){e.$message.destroy();var o=e.taskStages[t];o.tasks.push(n.data),e.taskStages[t].unDoneTasks.push(n.data),e.task={}}}).catch(function(){e.createTaskLoading=!1})},taskDone:function(t,e,n,a){var o=this,r=null,i=this.taskStages[e].unDoneTasks,s=this.taskStages[e].doneTasks;if(r=a?i[n]:s[n],r.hasUnDone)return!1;r.done=a,a?(i.splice(n,1),s.push(r),s=s.sort(function(t,e){return t.sort===e.sort?t.id_num-e.id_num:t.sort-e.sort})):(s.splice(n,1),i.push(r),i=i.sort(function(t,e){return t.sort===e.sort?t.id_num-e.id_num:t.sort-e.sort})),Object(y["z"])(t,a).then(function(t){var e=Object(w["a"])(t);if(!e)return!1;o.getTaskStages(!1)})},showInputStrageName:function(){var t=this;this.showCreateStage=!this.showCreateStage,this.$nextTick(function(){t.$refs.inputStageName.focus()})},doStage:function(t){var e=this,n=this,a=t.key.split("_"),o=a[a.length-2],r=a[a.length-1],i=a[0];switch(i){case"editStage":this.stageModal.stageCode=o,this.stageModal.stageIndex=r,this.$nextTick(function(){e.stageModal.form.setFieldsValue({name:e.taskStages[r].name}),e.$refs.inputStageTitle.focus()}),this.stageModal.modalStatus=!0;break;case"recycleBatch":this.$confirm({title:"移到回收站",content:"您确定要把列表下的所有任务移到回收站吗？",okText:"移到回收站",okType:"danger",cancelText:"再想想",onOk:function(){return n.taskStages[r].tasks=[],n.$set(n.taskStages[r],"doneTasks",[]),Object(y["r"])({stageCode:o}).then(function(t){var e=Object(w["a"])(t);if(!e)return!1;n.$set(n.taskStages[r],"doneTasks",[]),n.$set(n.taskStages[r],"unDoneTasks",[])}),Promise.resolve()}});break;case"setEndTime":this.set_type_endTime_modal=!0;break;case"setExecutor":this.projectMemberModal.currentStageIndex=r,this.projectMemberModal.modalStatus=!0;break;case"delStage":if(this.taskStages[r].tasks.length>0)return this.$warning({title:"删除列表",content:"请先清空此列表上的任务，然后再删除这个列表",okText:"确定"}),!1;this.$confirm({title:"删除列表",content:"您确定要永远删除这个列表吗？",okText:"删除",okType:"danger",cancelText:"再想想",onOk:function(){return Object(A["b"])(o),n.taskStages.splice(r,1),Promise.resolve()}});break}},creteStage:function(){var t=this;if(!this.stageName)return this.$message.warning("请输入列表名称",2),!1;Object(A["e"])({name:this.stageName,projectCode:this.code}).then(function(e){var n=Object(w["a"])(e);if(!n)return!1;var a=e.data;t.taskStages.push(a),t.stageName="",t.$nextTick(function(){document.getElementById("board-scrum-stages").scrollLeft=1e4})})},editStage:function(){var t=this,e=this.stageModal.form.getFieldsValue();if(!e.name)return this.$message.warning("请输入列表名称",2),!1;Object(A["c"])({name:e.name,stageCode:this.stageModal.stageCode}).then(function(n){var a=Object(w["a"])(n);if(!a)return!1;t.taskStages[t.stageModal.stageIndex].name=e.name,t.stageModal.modalStatus=!1})},setExecutor:function(t){var e=this,n=this.taskStages[this.projectMemberModal.currentStageIndex],a=[];n.tasks.forEach(function(t){t.canRead&&a.push(t.code)}),a?Object(y["c"])({taskCodes:JSON.stringify(a),executorCode:t.code}).then(function(t){if(e.projectMemberModal.modalStatus=!1,!Object(w["a"])(t))return!1;Object(A["g"])({stageCode:n.code}).then(function(t){var e=0;t.data.forEach(function(t){t.canRead||e++}),n.canNotReadCount=e,n.tasksLoading=!1,n.tasks=t.data})}):this.projectMemberModal.modalStatus=!1},showTaskPri:function(t){return{warning:1==t,error:2==t}},showTimeLabel:function(t){var e="label-primary";if(null==t)return e;var n=f()(f()(t).format("YYYY-MM-DD")).diff(f()().format("YYYY-MM-DD"),"days");return n<0?e="label-danger":0==n?e="label-warning":n>7&&(e="label-normal"),e},showTaskTime:function(t,e){return Object(C["a"])(t,e)},taskDetail:function(t,e){this.$router.push("".concat(this.$route.path,"/detail/").concat(t,"?from=").concat(e))},stageMove:function(t){this.preCode=t.draggedContext.element.code,this.nextCode=t.relatedContext.element.code},stageSort:function(){Object(A["f"])(this.preCode,this.nextCode,this.code)},taskSort:function(t){var e=this;console.log(t);for(var n=t.to.parentNode.parentNode.parentNode.getAttribute("id"),a="",o=0,r=t.to.children.length;o<r;o++)a+=","+t.to.children[o].getAttribute("id");Object(y["x"])({stageCode:n,codes:a.substr(1)}).then(function(t){e.getTaskStages(!1)})},handleResize:function(t,e){t.barSize&&(this.taskStages[e].fixedCreator=!0)},visibleDraw:function(t){"member"==t?(this.configDraw.visible=!1,this.inviteMemberDraw.visible=!this.inviteMemberDraw.visible):(this.inviteMemberDraw.visible=!1,this.configDraw.visible=!this.configDraw.visible)},removeMember:function(t,e){var n=this;this.$confirm({title:"您确定要将「".concat(t.name,"」从项目中移除吗？"),content:"移除后该成员将不能查看任何关于该项目的信息",okText:"移除",okType:"danger",cancelText:"再想想",onOk:function(){return Object(I["d"])(t.code,n.code).then(function(t){Object(w["a"])(t)&&(n.projectMembers.splice(e,1),Object(F["b"])({title:"移除成功"},"notice","success"))}),Promise.resolve()}})},inviteMember:function(t){Object(I["b"])(t.memberCode,this.projectCode).then(function(e){var n=Object(w["a"])(e);n&&(t.joined=!0)})},searchInviteMember:u.a.debounce(function(){var t=this;if(this.inviteMemberDraw.keyword||(this.projectMembers=JSON.parse(JSON.stringify(this.projectMembersCopy))),this.inviteMemberDraw.keyword.length<=1)return!1;this.searching=!0,this.projectMembers=this.projectMembers.filter(function(e){return-1!=e.name.indexOf(t.inviteMemberDraw.keyword)})},500),updateProject:function(t){this.project=t},collectProject:function(){var t=this,e=this.project.collected?"cancel":"collect";Object(z["a"])(this.project.code,e).then(function(e){Object(w["a"])(e)&&(t.project.collected=!t.project.collected)})},handleChange:function(t){if("uploading"===t.file.status)return Object(F["b"])("正在导入，请稍后...","message","loading",0),void(this.uploadLoading=!0);if("done"===t.file.status&&(console.log(t),this.uploadLoading=!1,Object(w["a"])(t.file.response,!0))){var e=t.file.response.data;e?Object(F["b"])("成功导入".concat(e,"个任务"),"message","success"):Object(F["b"])("没有成功导入任何任务","message","warning"),this.getTaskStages(!1)}},beforeUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("文件不能超过2MB!"),e}}},V=B,U=(n("2b2a"),Object(S["a"])(V,a,o,!1,null,null,null));e["default"]=U.exports},dd5e:function(t,e,n){},e507:function(t,e,n){"use strict";n.d(e,"d",function(){return o}),n.d(e,"a",function(){return r}),n.d(e,"g",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"e",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"b",function(){return u});var a=n("22b6");function o(t){return a["a"].post("project/task_stages",t)}function r(t){return a["a"].post("project/task_stages/_getAll",t)}function i(t){return a["a"].post("project/task_stages/tasks",t)}function s(t,e,n){return a["a"].post("project/task_stages/sort",{preCode:t,nextCode:e,projectCode:n})}function c(t){return a["a"].post("project/task_stages/save",t)}function l(t){return a["a"].post("project/task_stages/edit",t)}function u(t){return a["a"].post("project/task_stages/delete",{code:t})}},f8c7:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.currentProject?n("div",{attrs:{id:"project-select"}},[n("a-dropdown",{staticClass:"action-item",attrs:{trigger:["click"],placement:"bottomCenter"},model:{value:t.visibleMenu,callback:function(e){t.visibleMenu=e},expression:"visibleMenu"}},[n("a-tooltip",{attrs:{mouseEnterDelay:.3,title:t.currentProject.name}},[n("a",{staticClass:"project-select",staticStyle:{color:"#333"},on:{click:function(e){t.visibleMenu=!0}}},[n("span",[t._v(t._s(t.currentProject.name))]),n("span",{staticClass:"m-l-xs"},[n("a-icon",{attrs:{type:"down"}})],1)])]),n("div",{staticClass:"middle-menu member-menu project-select-menu",attrs:{slot:"overlay"},slot:"overlay"},[n("div",{staticClass:"search-content"},[n("a-input",{attrs:{size:"large",placeholder:"搜索"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[n("a-icon",{attrs:{slot:"prefix",type:"search"},slot:"prefix"})],1)],1),n("div",{staticClass:"member-list"},[n("vue-scroll",[n("div",{staticClass:"list-group"},[n("a-list",{staticClass:"list-content",attrs:{itemLayout:"horizontal",dataSource:t.projectList,locale:{emptyText:t.keyword&&t.keyword.length>1?"没有找到该项目":""}},scopedSlots:t._u([{key:"renderItem",fn:function(e){return n("a-list-item",{staticClass:"member-list-item",nativeOn:{click:function(n){return t.changeProject(e.code)}}},[n("span",{attrs:{slot:"actions"},slot:"actions"},[n("a-icon",{directives:[{name:"show",rawName:"v-show",value:t.showCheck(e.code),expression:"showCheck(item.code)"}],attrs:{type:"check"}})],1),n("a-list-item-meta",[n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))]),n("a-avatar",{attrs:{slot:"avatar",icon:"user",src:e.cover},slot:"avatar"})],1)],1)}}],null,!1,3141279394)})],1)])],1)])],1)],1):t._e()},o=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("7f7f"),n("7514"),n("386d"),n("bd86")),i=n("2ef0"),s=n.n(i),c=n("2f62"),l=n("24d2"),u=n("1b80");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach(function(e){Object(r["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var p={name:"ProjectSelect",props:{code:{type:[String],default:function(){return""}}},data:function(){return{visibleMenu:!1,keyword:"",loading:!1,currentProject:null,projectList:[],projectListCopy:[],projectTotal:0}},mixins:[u["a"]],computed:f({},Object(c["c"])({currentOrganization:function(t){return t.currentOrganization},organizationList:function(t){return t.organizationList}})),watch:{code:function(){this.init()},keyword:function(){this.search()}},created:function(){this.init()},methods:{init:function(){this.getProjectList(!0)},getProjectList:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.loading=e,this.requestData.pageSize=50,Object(l["j"])(this.requestData).then(function(e){console.log(e),t.projectList=e.data.list,t.projectListCopy=e.data.list,t.projectTotal=e.data.total,t.currentProject=e.data.list.find(function(e){return e.code==t.code}),t.loading=!1})},changeProject:function(t){this.visibleMenu=!1,this.$router.push("/project/space/task/"+t)},showCheck:function(t){if(t==this.code)return!0},search:s.a.debounce(function(){var t=this;if(this.keyword=this.keyword.trim(),this.keyword||(this.projectList=JSON.parse(JSON.stringify(this.projectListCopy))),this.keyword.length<=1)return!1;this.projectList=this.projectList.filter(function(e){return-1!=e.name.indexOf(t.keyword)})},500),getPopup:function(){return document.getElementById("project-select")}}},h=p,v=(n("7934"),n("2877")),g=Object(v["a"])(h,a,o,!1,null,null,null);e["a"]=g.exports},f9ef:function(t,e,n){"use strict";var a=n("dd5e"),o=n.n(a);o.a}}]);